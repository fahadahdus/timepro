var Qh=s=>{throw TypeError(s)};var ru=(s,r,n)=>r.has(s)||Qh("Cannot "+n);var U=(s,r,n)=>(ru(s,r,"read from private field"),n?n.call(s):r.get(s)),Se=(s,r,n)=>r.has(s)?Qh("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(s):r.set(s,n),de=(s,r,n,a)=>(ru(s,r,"write to private field"),a?a.call(s,n):r.set(s,n),n),ut=(s,r,n)=>(ru(s,r,"access private method"),n);var Fa=(s,r,n,a)=>({set _(l){de(s,r,l,n)},get _(){return U(s,r,a)}});function rv(s,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in s)){const u=Object.getOwnPropertyDescriptor(a,l);u&&Object.defineProperty(s,l,u.get?u:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function op(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function nv(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var l=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,l.get?l:{enumerable:!0,get:function(){return s[a]}})}),n}var nu={exports:{}},ci={},su={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kh;function sv(){if(Kh)return me;Kh=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,O={};function j(S,z,fe){this.props=S,this.context=z,this.refs=O,this.updater=fe||T}j.prototype.isReactComponent={},j.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},j.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function D(){}D.prototype=j.prototype;function Y(S,z,fe){this.props=S,this.context=z,this.refs=O,this.updater=fe||T}var M=Y.prototype=new D;M.constructor=Y,N(M,j.prototype),M.isPureReactComponent=!0;var $=Array.isArray,I=Object.prototype.hasOwnProperty,G={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function ee(S,z,fe){var ve,xe={},_e=null,Te=null;if(z!=null)for(ve in z.ref!==void 0&&(Te=z.ref),z.key!==void 0&&(_e=""+z.key),z)I.call(z,ve)&&!E.hasOwnProperty(ve)&&(xe[ve]=z[ve]);var be=arguments.length-2;if(be===1)xe.children=fe;else if(1<be){for(var Ue=Array(be),St=0;St<be;St++)Ue[St]=arguments[St+2];xe.children=Ue}if(S&&S.defaultProps)for(ve in be=S.defaultProps,be)xe[ve]===void 0&&(xe[ve]=be[ve]);return{$$typeof:s,type:S,key:_e,ref:Te,props:xe,_owner:G.current}}function F(S,z){return{$$typeof:s,type:S.type,key:z,ref:S.ref,props:S.props,_owner:S._owner}}function L(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function J(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(fe){return z[fe]})}var pe=/\/+/g;function je(S,z){return typeof S=="object"&&S!==null&&S.key!=null?J(""+S.key):z.toString(36)}function re(S,z,fe,ve,xe){var _e=typeof S;(_e==="undefined"||_e==="boolean")&&(S=null);var Te=!1;if(S===null)Te=!0;else switch(_e){case"string":case"number":Te=!0;break;case"object":switch(S.$$typeof){case s:case r:Te=!0}}if(Te)return Te=S,xe=xe(Te),S=ve===""?"."+je(Te,0):ve,$(xe)?(fe="",S!=null&&(fe=S.replace(pe,"$&/")+"/"),re(xe,z,fe,"",function(St){return St})):xe!=null&&(L(xe)&&(xe=F(xe,fe+(!xe.key||Te&&Te.key===xe.key?"":(""+xe.key).replace(pe,"$&/")+"/")+S)),z.push(xe)),1;if(Te=0,ve=ve===""?".":ve+":",$(S))for(var be=0;be<S.length;be++){_e=S[be];var Ue=ve+je(_e,be);Te+=re(_e,z,fe,Ue,xe)}else if(Ue=_(S),typeof Ue=="function")for(S=Ue.call(S),be=0;!(_e=S.next()).done;)_e=_e.value,Ue=ve+je(_e,be++),Te+=re(_e,z,fe,Ue,xe);else if(_e==="object")throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Te}function ae(S,z,fe){if(S==null)return S;var ve=[],xe=0;return re(S,ve,"","",function(_e){return z.call(fe,_e,xe++)}),ve}function H(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(fe){(S._status===0||S._status===-1)&&(S._status=1,S._result=fe)},function(fe){(S._status===0||S._status===-1)&&(S._status=2,S._result=fe)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var ce={current:null},K={transition:null},ne={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:K,ReactCurrentOwner:G};function W(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:ae,forEach:function(S,z,fe){ae(S,function(){z.apply(this,arguments)},fe)},count:function(S){var z=0;return ae(S,function(){z++}),z},toArray:function(S){return ae(S,function(z){return z})||[]},only:function(S){if(!L(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},me.Component=j,me.Fragment=n,me.Profiler=l,me.PureComponent=Y,me.StrictMode=a,me.Suspense=m,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,me.act=W,me.cloneElement=function(S,z,fe){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var ve=N({},S.props),xe=S.key,_e=S.ref,Te=S._owner;if(z!=null){if(z.ref!==void 0&&(_e=z.ref,Te=G.current),z.key!==void 0&&(xe=""+z.key),S.type&&S.type.defaultProps)var be=S.type.defaultProps;for(Ue in z)I.call(z,Ue)&&!E.hasOwnProperty(Ue)&&(ve[Ue]=z[Ue]===void 0&&be!==void 0?be[Ue]:z[Ue])}var Ue=arguments.length-2;if(Ue===1)ve.children=fe;else if(1<Ue){be=Array(Ue);for(var St=0;St<Ue;St++)be[St]=arguments[St+2];ve.children=be}return{$$typeof:s,type:S.type,key:xe,ref:_e,props:ve,_owner:Te}},me.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:u,_context:S},S.Consumer=S},me.createElement=ee,me.createFactory=function(S){var z=ee.bind(null,S);return z.type=S,z},me.createRef=function(){return{current:null}},me.forwardRef=function(S){return{$$typeof:p,render:S}},me.isValidElement=L,me.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:H}},me.memo=function(S,z){return{$$typeof:v,type:S,compare:z===void 0?null:z}},me.startTransition=function(S){var z=K.transition;K.transition={};try{S()}finally{K.transition=z}},me.unstable_act=W,me.useCallback=function(S,z){return ce.current.useCallback(S,z)},me.useContext=function(S){return ce.current.useContext(S)},me.useDebugValue=function(){},me.useDeferredValue=function(S){return ce.current.useDeferredValue(S)},me.useEffect=function(S,z){return ce.current.useEffect(S,z)},me.useId=function(){return ce.current.useId()},me.useImperativeHandle=function(S,z,fe){return ce.current.useImperativeHandle(S,z,fe)},me.useInsertionEffect=function(S,z){return ce.current.useInsertionEffect(S,z)},me.useLayoutEffect=function(S,z){return ce.current.useLayoutEffect(S,z)},me.useMemo=function(S,z){return ce.current.useMemo(S,z)},me.useReducer=function(S,z,fe){return ce.current.useReducer(S,z,fe)},me.useRef=function(S){return ce.current.useRef(S)},me.useState=function(S){return ce.current.useState(S)},me.useSyncExternalStore=function(S,z,fe){return ce.current.useSyncExternalStore(S,z,fe)},me.useTransition=function(){return ce.current.useTransition()},me.version="18.3.1",me}var Gh;function Uu(){return Gh||(Gh=1,su.exports=sv()),su.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function iv(){if(Yh)return ci;Yh=1;var s=Uu(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(p,m,v){var y,w={},_=null,T=null;v!==void 0&&(_=""+v),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(T=m.ref);for(y in m)a.call(m,y)&&!u.hasOwnProperty(y)&&(w[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:p,key:_,ref:T,props:w,_owner:l.current}}return ci.Fragment=n,ci.jsx=h,ci.jsxs=h,ci}var Jh;function av(){return Jh||(Jh=1,nu.exports=iv()),nu.exports}var d=av(),A=Uu();const lp=op(A),ov=rv({__proto__:null,default:lp},[A]);var za={},iu={exports:{}},_t={},au={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh;function lv(){return Xh||(Xh=1,function(s){function r(K,ne){var W=K.length;K.push(ne);e:for(;0<W;){var S=W-1>>>1,z=K[S];if(0<l(z,ne))K[S]=ne,K[W]=z,W=S;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var ne=K[0],W=K.pop();if(W!==ne){K[0]=W;e:for(var S=0,z=K.length,fe=z>>>1;S<fe;){var ve=2*(S+1)-1,xe=K[ve],_e=ve+1,Te=K[_e];if(0>l(xe,W))_e<z&&0>l(Te,xe)?(K[S]=Te,K[_e]=W,S=_e):(K[S]=xe,K[ve]=W,S=ve);else if(_e<z&&0>l(Te,W))K[S]=Te,K[_e]=W,S=_e;else break e}}return ne}function l(K,ne){var W=K.sortIndex-ne.sortIndex;return W!==0?W:K.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,p=h.now();s.unstable_now=function(){return h.now()-p}}var m=[],v=[],y=1,w=null,_=3,T=!1,N=!1,O=!1,j=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(K){for(var ne=n(v);ne!==null;){if(ne.callback===null)a(v);else if(ne.startTime<=K)a(v),ne.sortIndex=ne.expirationTime,r(m,ne);else break;ne=n(v)}}function $(K){if(O=!1,M(K),!N)if(n(m)!==null)N=!0,H(I);else{var ne=n(v);ne!==null&&ce($,ne.startTime-K)}}function I(K,ne){N=!1,O&&(O=!1,D(ee),ee=-1),T=!0;var W=_;try{for(M(ne),w=n(m);w!==null&&(!(w.expirationTime>ne)||K&&!J());){var S=w.callback;if(typeof S=="function"){w.callback=null,_=w.priorityLevel;var z=S(w.expirationTime<=ne);ne=s.unstable_now(),typeof z=="function"?w.callback=z:w===n(m)&&a(m),M(ne)}else a(m);w=n(m)}if(w!==null)var fe=!0;else{var ve=n(v);ve!==null&&ce($,ve.startTime-ne),fe=!1}return fe}finally{w=null,_=W,T=!1}}var G=!1,E=null,ee=-1,F=5,L=-1;function J(){return!(s.unstable_now()-L<F)}function pe(){if(E!==null){var K=s.unstable_now();L=K;var ne=!0;try{ne=E(!0,K)}finally{ne?je():(G=!1,E=null)}}else G=!1}var je;if(typeof Y=="function")je=function(){Y(pe)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,ae=re.port2;re.port1.onmessage=pe,je=function(){ae.postMessage(null)}}else je=function(){j(pe,0)};function H(K){E=K,G||(G=!0,je())}function ce(K,ne){ee=j(function(){K(s.unstable_now())},ne)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_continueExecution=function(){N||T||(N=!0,H(I))},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return n(m)},s.unstable_next=function(K){switch(_){case 1:case 2:case 3:var ne=3;break;default:ne=_}var W=_;_=ne;try{return K()}finally{_=W}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(K,ne){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=_;_=K;try{return ne()}finally{_=W}},s.unstable_scheduleCallback=function(K,ne,W){var S=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?S+W:S):W=S,K){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=W+z,K={id:y++,callback:ne,priorityLevel:K,startTime:W,expirationTime:z,sortIndex:-1},W>S?(K.sortIndex=W,r(v,K),n(m)===null&&K===n(v)&&(O?(D(ee),ee=-1):O=!0,ce($,W-S))):(K.sortIndex=z,r(m,K),N||T||(N=!0,H(I))),K},s.unstable_shouldYield=J,s.unstable_wrapCallback=function(K){var ne=_;return function(){var W=_;_=ne;try{return K.apply(this,arguments)}finally{_=W}}}}(ou)),ou}var Zh;function uv(){return Zh||(Zh=1,au.exports=lv()),au.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef;function cv(){if(ef)return _t;ef=1;var s=Uu(),r=uv();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(e){return m.call(w,e)?!0:m.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function T(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,i,o){if(t===null||typeof t>"u"||T(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,i,o,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new O(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new O(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new O(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new O(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new O(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new O(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new O(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new O(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new O(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,Y);j[t]=new O(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,Y);j[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,Y);j[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new O(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new O(e,1,!1,e.toLowerCase(),null,!0,!0)});function M(e,t,i,o){var c=j.hasOwnProperty(t)?j[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,i,c,o)&&(i=null),o||c===null?_(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,o=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var $=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),G=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),J=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),K=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,S;function z(e){if(S===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);S=t&&t[1]||""}return`
`+S+e}var fe=!1;function ve(e,t){if(!e||fe)return"";fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(R){var o=R}Reflect.construct(e,[],t)}else{try{t.call()}catch(R){o=R}e.call(t.prototype)}else{try{throw Error()}catch(R){o=R}e()}}catch(R){if(R&&o&&typeof R.stack=="string"){for(var c=R.stack.split(`
`),f=o.stack.split(`
`),g=c.length-1,x=f.length-1;1<=g&&0<=x&&c[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(c[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||c[g]!==f[x]){var k=`
`+c[g].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=g&&0<=x);break}}}finally{fe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?z(e):""}function xe(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function _e(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case G:return"Portal";case F:return"Profiler";case ee:return"StrictMode";case je:return"Suspense";case re:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case J:return(e.displayName||"Context")+".Consumer";case L:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case H:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}function Te(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(t);case 8:return t===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ue(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function St(e){var t=Ue(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ti(e){e._valueTracker||(e._valueTracker=St(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ue(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lo(e,t){var i=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ec(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=be(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tc(e,t){t=t.checked,t!=null&&M(e,"checked",t,!1)}function uo(e,t){tc(e,t);var i=be(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?co(e,t.type,i):t.hasOwnProperty("defaultValue")&&co(e,t.type,be(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function rc(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function co(e,t,i){(t!=="number"||Oi(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var bs=Array.isArray;function Sn(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+be(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ho(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(bs(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:be(i)}}function sc(e,t){var i=be(t.value),o=be(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function ic(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ac(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ac(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ri,oc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ri=Ri||document.createElement("div"),Ri.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ri.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Es(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},am=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(e){am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ns[t]=Ns[e]})});function lc(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Ns.hasOwnProperty(e)&&Ns[e]?(""+t).trim():t+"px"}function uc(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=lc(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,c):e[i]=c}}var om=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function po(e,t){if(t){if(om[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function mo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function vo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yo=null,jn=null,bn=null;function cc(e){if(e=Gs(e)){if(typeof yo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ta(t),yo(e.stateNode,e.type,t))}}function dc(e){jn?bn?bn.push(e):bn=[e]:jn=e}function hc(){if(jn){var e=jn,t=bn;if(bn=jn=null,cc(e),t)for(e=0;e<t.length;e++)cc(t[e])}}function fc(e,t){return e(t)}function pc(){}var wo=!1;function mc(e,t,i){if(wo)return e(t,i);wo=!0;try{return fc(e,t,i)}finally{wo=!1,(jn!==null||bn!==null)&&(pc(),hc())}}function Cs(e,t){var i=e.stateNode;if(i===null)return null;var o=ta(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var xo=!1;if(p)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{xo=!1}function lm(e,t,i,o,c,f,g,x,k){var R=Array.prototype.slice.call(arguments,3);try{t.apply(i,R)}catch(q){this.onError(q)}}var Ts=!1,Ai=null,Di=!1,_o=null,um={onError:function(e){Ts=!0,Ai=e}};function cm(e,t,i,o,c,f,g,x,k){Ts=!1,Ai=null,lm.apply(um,arguments)}function dm(e,t,i,o,c,f,g,x,k){if(cm.apply(this,arguments),Ts){if(Ts){var R=Ai;Ts=!1,Ai=null}else throw Error(n(198));Di||(Di=!0,_o=R)}}function Xr(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function gc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vc(e){if(Xr(e)!==e)throw Error(n(188))}function hm(e){var t=e.alternate;if(!t){if(t=Xr(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return vc(c),e;if(f===o)return vc(c),t;f=f.sibling}throw Error(n(188))}if(i.return!==o.return)i=c,o=f;else{for(var g=!1,x=c.child;x;){if(x===i){g=!0,i=c,o=f;break}if(x===o){g=!0,o=c,i=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===i){g=!0,i=f,o=c;break}if(x===o){g=!0,o=f,i=c;break}x=x.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==o)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function yc(e){return e=hm(e),e!==null?wc(e):null}function wc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wc(e);if(t!==null)return t;e=e.sibling}return null}var xc=r.unstable_scheduleCallback,_c=r.unstable_cancelCallback,fm=r.unstable_shouldYield,pm=r.unstable_requestPaint,qe=r.unstable_now,mm=r.unstable_getCurrentPriorityLevel,ko=r.unstable_ImmediatePriority,kc=r.unstable_UserBlockingPriority,Mi=r.unstable_NormalPriority,gm=r.unstable_LowPriority,Sc=r.unstable_IdlePriority,Li=null,Gt=null;function vm(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Li,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:xm,ym=Math.log,wm=Math.LN2;function xm(e){return e>>>=0,e===0?32:31-(ym(e)/wm|0)|0}var Ii=64,Ui=4194304;function Os(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $i(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~c;x!==0?o=Os(x):(f&=g,f!==0&&(o=Os(f)))}else g=i&~c,g!==0?o=Os(g):f!==0&&(o=Os(f));if(o===0)return 0;if(t!==0&&t!==o&&(t&c)===0&&(c=o&-o,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((o&4)!==0&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-Lt(t),c=1<<i,o|=e[i],t&=~c;return o}function _m(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function km(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Lt(f),x=1<<g,k=c[g];k===-1?((x&i)===0||(x&o)!==0)&&(c[g]=_m(x,t)):k<=t&&(e.expiredLanes|=x),f&=~x}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jc(){var e=Ii;return Ii<<=1,(Ii&4194240)===0&&(Ii=64),e}function jo(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Rs(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=i}function Sm(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Lt(i),f=1<<c;t[c]=0,o[c]=-1,e[c]=-1,i&=~f}}function bo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Lt(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}var Ee=0;function bc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Ec,Eo,Nc,Cc,Pc,No=!1,Fi=[],vr=null,yr=null,wr=null,As=new Map,Ds=new Map,xr=[],jm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tc(e,t){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(t.pointerId)}}function Ms(e,t,i,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Gs(t),t!==null&&Eo(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function bm(e,t,i,o,c){switch(t){case"focusin":return vr=Ms(vr,e,t,i,o,c),!0;case"dragenter":return yr=Ms(yr,e,t,i,o,c),!0;case"mouseover":return wr=Ms(wr,e,t,i,o,c),!0;case"pointerover":var f=c.pointerId;return As.set(f,Ms(As.get(f)||null,e,t,i,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Ds.set(f,Ms(Ds.get(f)||null,e,t,i,o,c)),!0}return!1}function Oc(e){var t=Zr(e.target);if(t!==null){var i=Xr(t);if(i!==null){if(t=i.tag,t===13){if(t=gc(i),t!==null){e.blockedOn=t,Pc(e.priority,function(){Nc(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Po(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);go=o,i.target.dispatchEvent(o),go=null}else return t=Gs(i),t!==null&&Eo(t),e.blockedOn=i,!1;t.shift()}return!0}function Rc(e,t,i){zi(e)&&i.delete(t)}function Em(){No=!1,vr!==null&&zi(vr)&&(vr=null),yr!==null&&zi(yr)&&(yr=null),wr!==null&&zi(wr)&&(wr=null),As.forEach(Rc),Ds.forEach(Rc)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,No||(No=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Em)))}function Is(e){function t(c){return Ls(c,e)}if(0<Fi.length){Ls(Fi[0],e);for(var i=1;i<Fi.length;i++){var o=Fi[i];o.blockedOn===e&&(o.blockedOn=null)}}for(vr!==null&&Ls(vr,e),yr!==null&&Ls(yr,e),wr!==null&&Ls(wr,e),As.forEach(t),Ds.forEach(t),i=0;i<xr.length;i++)o=xr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<xr.length&&(i=xr[0],i.blockedOn===null);)Oc(i),i.blockedOn===null&&xr.shift()}var En=$.ReactCurrentBatchConfig,Bi=!0;function Nm(e,t,i,o){var c=Ee,f=En.transition;En.transition=null;try{Ee=1,Co(e,t,i,o)}finally{Ee=c,En.transition=f}}function Cm(e,t,i,o){var c=Ee,f=En.transition;En.transition=null;try{Ee=4,Co(e,t,i,o)}finally{Ee=c,En.transition=f}}function Co(e,t,i,o){if(Bi){var c=Po(e,t,i,o);if(c===null)Vo(e,t,o,Wi,i),Tc(e,o);else if(bm(c,e,t,i,o))o.stopPropagation();else if(Tc(e,o),t&4&&-1<jm.indexOf(e)){for(;c!==null;){var f=Gs(c);if(f!==null&&Ec(f),f=Po(e,t,i,o),f===null&&Vo(e,t,o,Wi,i),f===c)break;c=f}c!==null&&o.stopPropagation()}else Vo(e,t,o,null,i)}}var Wi=null;function Po(e,t,i,o){if(Wi=null,e=vo(o),e=Zr(e),e!==null)if(t=Xr(e),t===null)e=null;else if(i=t.tag,i===13){if(e=gc(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wi=e,null}function Ac(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mm()){case ko:return 1;case kc:return 4;case Mi:case gm:return 16;case Sc:return 536870912;default:return 16}default:return 16}}var _r=null,To=null,qi=null;function Dc(){if(qi)return qi;var e,t=To,i=t.length,o,c="value"in _r?_r.value:_r.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===c[f-o];o++);return qi=c.slice(e,1<o?1-o:void 0)}function Hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Mc(){return!1}function jt(e){function t(i,o,c,f,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Mc,this.isPropagationStopped=Mc,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var Nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=jt(Nn),Us=W({},Nn,{view:0,detail:0}),Pm=jt(Us),Ro,Ao,$s,Qi=W({},Us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$s&&($s&&e.type==="mousemove"?(Ro=e.screenX-$s.screenX,Ao=e.screenY-$s.screenY):Ao=Ro=0,$s=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:Ao}}),Lc=jt(Qi),Tm=W({},Qi,{dataTransfer:0}),Om=jt(Tm),Rm=W({},Us,{relatedTarget:0}),Do=jt(Rm),Am=W({},Nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Dm=jt(Am),Mm=W({},Nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lm=jt(Mm),Im=W({},Nn,{data:0}),Ic=jt(Im),Um={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fm[e])?!!t[e]:!1}function Mo(){return zm}var Bm=W({},Us,{key:function(e){if(e.key){var t=Um[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?Hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wm=jt(Bm),qm=W({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uc=jt(qm),Hm=W({},Us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),Vm=jt(Hm),Qm=W({},Nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Km=jt(Qm),Gm=W({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=jt(Gm),Jm=[9,13,27,32],Lo=p&&"CompositionEvent"in window,Fs=null;p&&"documentMode"in document&&(Fs=document.documentMode);var Xm=p&&"TextEvent"in window&&!Fs,$c=p&&(!Lo||Fs&&8<Fs&&11>=Fs),Fc=" ",zc=!1;function Bc(e,t){switch(e){case"keyup":return Jm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function Zm(e,t){switch(e){case"compositionend":return Wc(t);case"keypress":return t.which!==32?null:(zc=!0,Fc);case"textInput":return e=t.data,e===Fc&&zc?null:e;default:return null}}function eg(e,t){if(Cn)return e==="compositionend"||!Lo&&Bc(e,t)?(e=Dc(),qi=To=_r=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $c&&t.locale!=="ko"?null:t.data;default:return null}}var tg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tg[e.type]:t==="textarea"}function Hc(e,t,i,o){dc(o),t=Xi(t,"onChange"),0<t.length&&(i=new Oo("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var zs=null,Bs=null;function rg(e){ud(e,0)}function Ki(e){var t=An(e);if(Zu(t))return e}function ng(e,t){if(e==="change")return t}var Vc=!1;if(p){var Io;if(p){var Uo="oninput"in document;if(!Uo){var Qc=document.createElement("div");Qc.setAttribute("oninput","return;"),Uo=typeof Qc.oninput=="function"}Io=Uo}else Io=!1;Vc=Io&&(!document.documentMode||9<document.documentMode)}function Kc(){zs&&(zs.detachEvent("onpropertychange",Gc),Bs=zs=null)}function Gc(e){if(e.propertyName==="value"&&Ki(Bs)){var t=[];Hc(t,Bs,e,vo(e)),mc(rg,t)}}function sg(e,t,i){e==="focusin"?(Kc(),zs=t,Bs=i,zs.attachEvent("onpropertychange",Gc)):e==="focusout"&&Kc()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(Bs)}function ag(e,t){if(e==="click")return Ki(t)}function og(e,t){if(e==="input"||e==="change")return Ki(t)}function lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var It=typeof Object.is=="function"?Object.is:lg;function Ws(e,t){if(It(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!m.call(t,c)||!It(e[c],t[c]))return!1}return!0}function Yc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jc(e,t){var i=Yc(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yc(i)}}function Xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Zc(){for(var e=window,t=Oi();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Oi(e.document)}return t}function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ug(e){var t=Zc(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Xc(i.ownerDocument.documentElement,i)){if(o!==null&&$o(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,f=Math.min(o.start,c);o=o.end===void 0?f:Math.min(o.end,c),!e.extend&&f>o&&(c=o,o=f,f=c),c=Jc(i,f);var g=Jc(i,o);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cg=p&&"documentMode"in document&&11>=document.documentMode,Pn=null,Fo=null,qs=null,zo=!1;function ed(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;zo||Pn==null||Pn!==Oi(o)||(o=Pn,"selectionStart"in o&&$o(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qs&&Ws(qs,o)||(qs=o,o=Xi(Fo,"onSelect"),0<o.length&&(t=new Oo("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Pn)))}function Gi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Tn={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Bo={},td={};p&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete Tn.animationend.animation,delete Tn.animationiteration.animation,delete Tn.animationstart.animation),"TransitionEvent"in window||delete Tn.transitionend.transition);function Yi(e){if(Bo[e])return Bo[e];if(!Tn[e])return e;var t=Tn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in td)return Bo[e]=t[i];return e}var rd=Yi("animationend"),nd=Yi("animationiteration"),sd=Yi("animationstart"),id=Yi("transitionend"),ad=new Map,od="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,t){ad.set(e,t),u(t,[e])}for(var Wo=0;Wo<od.length;Wo++){var qo=od[Wo],dg=qo.toLowerCase(),hg=qo[0].toUpperCase()+qo.slice(1);kr(dg,"on"+hg)}kr(rd,"onAnimationEnd"),kr(nd,"onAnimationIteration"),kr(sd,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(id,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function ld(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,dm(o,t,void 0,e),e.currentTarget=null}function ud(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var x=o[g],k=x.instance,R=x.currentTarget;if(x=x.listener,k!==f&&c.isPropagationStopped())break e;ld(c,x,R),f=k}else for(g=0;g<o.length;g++){if(x=o[g],k=x.instance,R=x.currentTarget,x=x.listener,k!==f&&c.isPropagationStopped())break e;ld(c,x,R),f=k}}}if(Di)throw e=_o,Di=!1,_o=null,e}function De(e,t){var i=t[Xo];i===void 0&&(i=t[Xo]=new Set);var o=e+"__bubble";i.has(o)||(cd(t,e,2,!1),i.add(o))}function Ho(e,t,i){var o=0;t&&(o|=4),cd(i,e,o,t)}var Ji="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Ji]){e[Ji]=!0,a.forEach(function(i){i!=="selectionchange"&&(fg.has(i)||Ho(i,!1,e),Ho(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ji]||(t[Ji]=!0,Ho("selectionchange",!1,t))}}function cd(e,t,i,o){switch(Ac(t)){case 1:var c=Nm;break;case 4:c=Cm;break;default:c=Co}i=c.bind(null,t,i,e),c=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Vo(e,t,i,o,c){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var x=o.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var k=g.tag;if((k===3||k===4)&&(k=g.stateNode.containerInfo,k===c||k.nodeType===8&&k.parentNode===c))return;g=g.return}for(;x!==null;){if(g=Zr(x),g===null)return;if(k=g.tag,k===5||k===6){o=f=g;continue e}x=x.parentNode}}o=o.return}mc(function(){var R=f,q=vo(i),V=[];e:{var B=ad.get(e);if(B!==void 0){var X=Oo,te=e;switch(e){case"keypress":if(Hi(i)===0)break e;case"keydown":case"keyup":X=Wm;break;case"focusin":te="focus",X=Do;break;case"focusout":te="blur",X=Do;break;case"beforeblur":case"afterblur":X=Do;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Om;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Vm;break;case rd:case nd:case sd:X=Dm;break;case id:X=Km;break;case"scroll":X=Pm;break;case"wheel":X=Ym;break;case"copy":case"cut":case"paste":X=Lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Uc}var se=(t&4)!==0,He=!se&&e==="scroll",C=se?B!==null?B+"Capture":null:B;se=[];for(var b=R,P;b!==null;){P=b;var Q=P.stateNode;if(P.tag===5&&Q!==null&&(P=Q,C!==null&&(Q=Cs(b,C),Q!=null&&se.push(Qs(b,Q,P)))),He)break;b=b.return}0<se.length&&(B=new X(B,te,null,i,q),V.push({event:B,listeners:se}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",B&&i!==go&&(te=i.relatedTarget||i.fromElement)&&(Zr(te)||te[ir]))break e;if((X||B)&&(B=q.window===q?q:(B=q.ownerDocument)?B.defaultView||B.parentWindow:window,X?(te=i.relatedTarget||i.toElement,X=R,te=te?Zr(te):null,te!==null&&(He=Xr(te),te!==He||te.tag!==5&&te.tag!==6)&&(te=null)):(X=null,te=R),X!==te)){if(se=Lc,Q="onMouseLeave",C="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(se=Uc,Q="onPointerLeave",C="onPointerEnter",b="pointer"),He=X==null?B:An(X),P=te==null?B:An(te),B=new se(Q,b+"leave",X,i,q),B.target=He,B.relatedTarget=P,Q=null,Zr(q)===R&&(se=new se(C,b+"enter",te,i,q),se.target=P,se.relatedTarget=He,Q=se),He=Q,X&&te)t:{for(se=X,C=te,b=0,P=se;P;P=On(P))b++;for(P=0,Q=C;Q;Q=On(Q))P++;for(;0<b-P;)se=On(se),b--;for(;0<P-b;)C=On(C),P--;for(;b--;){if(se===C||C!==null&&se===C.alternate)break t;se=On(se),C=On(C)}se=null}else se=null;X!==null&&dd(V,B,X,se,!1),te!==null&&He!==null&&dd(V,He,te,se,!0)}}e:{if(B=R?An(R):window,X=B.nodeName&&B.nodeName.toLowerCase(),X==="select"||X==="input"&&B.type==="file")var ie=ng;else if(qc(B))if(Vc)ie=og;else{ie=ig;var oe=sg}else(X=B.nodeName)&&X.toLowerCase()==="input"&&(B.type==="checkbox"||B.type==="radio")&&(ie=ag);if(ie&&(ie=ie(e,R))){Hc(V,ie,i,q);break e}oe&&oe(e,B,R),e==="focusout"&&(oe=B._wrapperState)&&oe.controlled&&B.type==="number"&&co(B,"number",B.value)}switch(oe=R?An(R):window,e){case"focusin":(qc(oe)||oe.contentEditable==="true")&&(Pn=oe,Fo=R,qs=null);break;case"focusout":qs=Fo=Pn=null;break;case"mousedown":zo=!0;break;case"contextmenu":case"mouseup":case"dragend":zo=!1,ed(V,i,q);break;case"selectionchange":if(cg)break;case"keydown":case"keyup":ed(V,i,q)}var le;if(Lo)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else Cn?Bc(e,i)&&(ue="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ue="onCompositionStart");ue&&($c&&i.locale!=="ko"&&(Cn||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&Cn&&(le=Dc()):(_r=q,To="value"in _r?_r.value:_r.textContent,Cn=!0)),oe=Xi(R,ue),0<oe.length&&(ue=new Ic(ue,e,null,i,q),V.push({event:ue,listeners:oe}),le?ue.data=le:(le=Wc(i),le!==null&&(ue.data=le)))),(le=Xm?Zm(e,i):eg(e,i))&&(R=Xi(R,"onBeforeInput"),0<R.length&&(q=new Ic("onBeforeInput","beforeinput",null,i,q),V.push({event:q,listeners:R}),q.data=le))}ud(V,t)})}function Qs(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Xi(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=Cs(e,i),f!=null&&o.unshift(Qs(e,f,c)),f=Cs(e,t),f!=null&&o.push(Qs(e,f,c))),e=e.return}return o}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dd(e,t,i,o,c){for(var f=t._reactName,g=[];i!==null&&i!==o;){var x=i,k=x.alternate,R=x.stateNode;if(k!==null&&k===o)break;x.tag===5&&R!==null&&(x=R,c?(k=Cs(i,f),k!=null&&g.unshift(Qs(i,k,x))):c||(k=Cs(i,f),k!=null&&g.push(Qs(i,k,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var pg=/\r\n?/g,mg=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(pg,`
`).replace(mg,"")}function Zi(e,t,i){if(t=hd(t),hd(e)!==t&&i)throw Error(n(425))}function ea(){}var Qo=null,Ko=null;function Go(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yo=typeof setTimeout=="function"?setTimeout:void 0,gg=typeof clearTimeout=="function"?clearTimeout:void 0,fd=typeof Promise=="function"?Promise:void 0,vg=typeof queueMicrotask=="function"?queueMicrotask:typeof fd<"u"?function(e){return fd.resolve(null).then(e).catch(yg)}:Yo;function yg(e){setTimeout(function(){throw e})}function Jo(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){e.removeChild(c),Is(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);Is(t)}function Sr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Rn=Math.random().toString(36).slice(2),Yt="__reactFiber$"+Rn,Ks="__reactProps$"+Rn,ir="__reactContainer$"+Rn,Xo="__reactEvents$"+Rn,wg="__reactListeners$"+Rn,xg="__reactHandles$"+Rn;function Zr(e){var t=e[Yt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ir]||i[Yt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=pd(e);e!==null;){if(i=e[Yt])return i;e=pd(e)}return t}e=i,i=e.parentNode}return null}function Gs(e){return e=e[Yt]||e[ir],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ta(e){return e[Ks]||null}var Zo=[],Dn=-1;function jr(e){return{current:e}}function Me(e){0>Dn||(e.current=Zo[Dn],Zo[Dn]=null,Dn--)}function Oe(e,t){Dn++,Zo[Dn]=e.current,e.current=t}var br={},it=jr(br),gt=jr(!1),en=br;function Mn(e,t){var i=e.type.contextTypes;if(!i)return br;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in i)c[f]=t[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function vt(e){return e=e.childContextTypes,e!=null}function ra(){Me(gt),Me(it)}function md(e,t,i){if(it.current!==br)throw Error(n(168));Oe(it,t),Oe(gt,i)}function gd(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(n(108,Te(e)||"Unknown",c));return W({},i,o)}function na(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||br,en=it.current,Oe(it,e),Oe(gt,gt.current),!0}function vd(e,t,i){var o=e.stateNode;if(!o)throw Error(n(169));i?(e=gd(e,t,en),o.__reactInternalMemoizedMergedChildContext=e,Me(gt),Me(it),Oe(it,e)):Me(gt),Oe(gt,i)}var ar=null,sa=!1,el=!1;function yd(e){ar===null?ar=[e]:ar.push(e)}function _g(e){sa=!0,yd(e)}function Er(){if(!el&&ar!==null){el=!0;var e=0,t=Ee;try{var i=ar;for(Ee=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}ar=null,sa=!1}catch(c){throw ar!==null&&(ar=ar.slice(e+1)),xc(ko,Er),c}finally{Ee=t,el=!1}}return null}var Ln=[],In=0,ia=null,aa=0,Ct=[],Pt=0,tn=null,or=1,lr="";function rn(e,t){Ln[In++]=aa,Ln[In++]=ia,ia=e,aa=t}function wd(e,t,i){Ct[Pt++]=or,Ct[Pt++]=lr,Ct[Pt++]=tn,tn=e;var o=or;e=lr;var c=32-Lt(o)-1;o&=~(1<<c),i+=1;var f=32-Lt(t)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,or=1<<32-Lt(t)+c|i<<c|o,lr=f+e}else or=1<<f|i<<c|o,lr=e}function tl(e){e.return!==null&&(rn(e,1),wd(e,1,0))}function rl(e){for(;e===ia;)ia=Ln[--In],Ln[In]=null,aa=Ln[--In],Ln[In]=null;for(;e===tn;)tn=Ct[--Pt],Ct[Pt]=null,lr=Ct[--Pt],Ct[Pt]=null,or=Ct[--Pt],Ct[Pt]=null}var bt=null,Et=null,$e=!1,Ut=null;function xd(e,t){var i=At(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function _d(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,bt=e,Et=Sr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,bt=e,Et=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=tn!==null?{id:or,overflow:lr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=At(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,bt=e,Et=null,!0):!1;default:return!1}}function nl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sl(e){if($e){var t=Et;if(t){var i=t;if(!_d(e,t)){if(nl(e))throw Error(n(418));t=Sr(i.nextSibling);var o=bt;t&&_d(e,t)?xd(o,i):(e.flags=e.flags&-4097|2,$e=!1,bt=e)}}else{if(nl(e))throw Error(n(418));e.flags=e.flags&-4097|2,$e=!1,bt=e}}}function kd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;bt=e}function oa(e){if(e!==bt)return!1;if(!$e)return kd(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Go(e.type,e.memoizedProps)),t&&(t=Et)){if(nl(e))throw Sd(),Error(n(418));for(;t;)xd(e,t),t=Sr(t.nextSibling)}if(kd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Et=Sr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Et=null}}else Et=bt?Sr(e.stateNode.nextSibling):null;return!0}function Sd(){for(var e=Et;e;)e=Sr(e.nextSibling)}function Un(){Et=bt=null,$e=!1}function il(e){Ut===null?Ut=[e]:Ut.push(e)}var kg=$.ReactCurrentBatchConfig;function Ys(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var o=i.stateNode}if(!o)throw Error(n(147,e));var c=o,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=c.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function la(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function jd(e){var t=e._init;return t(e._payload)}function bd(e){function t(C,b){if(e){var P=C.deletions;P===null?(C.deletions=[b],C.flags|=16):P.push(b)}}function i(C,b){if(!e)return null;for(;b!==null;)t(C,b),b=b.sibling;return null}function o(C,b){for(C=new Map;b!==null;)b.key!==null?C.set(b.key,b):C.set(b.index,b),b=b.sibling;return C}function c(C,b){return C=Dr(C,b),C.index=0,C.sibling=null,C}function f(C,b,P){return C.index=P,e?(P=C.alternate,P!==null?(P=P.index,P<b?(C.flags|=2,b):P):(C.flags|=2,b)):(C.flags|=1048576,b)}function g(C){return e&&C.alternate===null&&(C.flags|=2),C}function x(C,b,P,Q){return b===null||b.tag!==6?(b=Yl(P,C.mode,Q),b.return=C,b):(b=c(b,P),b.return=C,b)}function k(C,b,P,Q){var ie=P.type;return ie===E?q(C,b,P.props.children,Q,P.key):b!==null&&(b.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===H&&jd(ie)===b.type)?(Q=c(b,P.props),Q.ref=Ys(C,b,P),Q.return=C,Q):(Q=Ra(P.type,P.key,P.props,null,C.mode,Q),Q.ref=Ys(C,b,P),Q.return=C,Q)}function R(C,b,P,Q){return b===null||b.tag!==4||b.stateNode.containerInfo!==P.containerInfo||b.stateNode.implementation!==P.implementation?(b=Jl(P,C.mode,Q),b.return=C,b):(b=c(b,P.children||[]),b.return=C,b)}function q(C,b,P,Q,ie){return b===null||b.tag!==7?(b=dn(P,C.mode,Q,ie),b.return=C,b):(b=c(b,P),b.return=C,b)}function V(C,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Yl(""+b,C.mode,P),b.return=C,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case I:return P=Ra(b.type,b.key,b.props,null,C.mode,P),P.ref=Ys(C,null,b),P.return=C,P;case G:return b=Jl(b,C.mode,P),b.return=C,b;case H:var Q=b._init;return V(C,Q(b._payload),P)}if(bs(b)||ne(b))return b=dn(b,C.mode,P,null),b.return=C,b;la(C,b)}return null}function B(C,b,P,Q){var ie=b!==null?b.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return ie!==null?null:x(C,b,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case I:return P.key===ie?k(C,b,P,Q):null;case G:return P.key===ie?R(C,b,P,Q):null;case H:return ie=P._init,B(C,b,ie(P._payload),Q)}if(bs(P)||ne(P))return ie!==null?null:q(C,b,P,Q,null);la(C,P)}return null}function X(C,b,P,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return C=C.get(P)||null,x(b,C,""+Q,ie);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return C=C.get(Q.key===null?P:Q.key)||null,k(b,C,Q,ie);case G:return C=C.get(Q.key===null?P:Q.key)||null,R(b,C,Q,ie);case H:var oe=Q._init;return X(C,b,P,oe(Q._payload),ie)}if(bs(Q)||ne(Q))return C=C.get(P)||null,q(b,C,Q,ie,null);la(b,Q)}return null}function te(C,b,P,Q){for(var ie=null,oe=null,le=b,ue=b=0,et=null;le!==null&&ue<P.length;ue++){le.index>ue?(et=le,le=null):et=le.sibling;var ke=B(C,le,P[ue],Q);if(ke===null){le===null&&(le=et);break}e&&le&&ke.alternate===null&&t(C,le),b=f(ke,b,ue),oe===null?ie=ke:oe.sibling=ke,oe=ke,le=et}if(ue===P.length)return i(C,le),$e&&rn(C,ue),ie;if(le===null){for(;ue<P.length;ue++)le=V(C,P[ue],Q),le!==null&&(b=f(le,b,ue),oe===null?ie=le:oe.sibling=le,oe=le);return $e&&rn(C,ue),ie}for(le=o(C,le);ue<P.length;ue++)et=X(le,C,ue,P[ue],Q),et!==null&&(e&&et.alternate!==null&&le.delete(et.key===null?ue:et.key),b=f(et,b,ue),oe===null?ie=et:oe.sibling=et,oe=et);return e&&le.forEach(function(Mr){return t(C,Mr)}),$e&&rn(C,ue),ie}function se(C,b,P,Q){var ie=ne(P);if(typeof ie!="function")throw Error(n(150));if(P=ie.call(P),P==null)throw Error(n(151));for(var oe=ie=null,le=b,ue=b=0,et=null,ke=P.next();le!==null&&!ke.done;ue++,ke=P.next()){le.index>ue?(et=le,le=null):et=le.sibling;var Mr=B(C,le,ke.value,Q);if(Mr===null){le===null&&(le=et);break}e&&le&&Mr.alternate===null&&t(C,le),b=f(Mr,b,ue),oe===null?ie=Mr:oe.sibling=Mr,oe=Mr,le=et}if(ke.done)return i(C,le),$e&&rn(C,ue),ie;if(le===null){for(;!ke.done;ue++,ke=P.next())ke=V(C,ke.value,Q),ke!==null&&(b=f(ke,b,ue),oe===null?ie=ke:oe.sibling=ke,oe=ke);return $e&&rn(C,ue),ie}for(le=o(C,le);!ke.done;ue++,ke=P.next())ke=X(le,C,ue,ke.value,Q),ke!==null&&(e&&ke.alternate!==null&&le.delete(ke.key===null?ue:ke.key),b=f(ke,b,ue),oe===null?ie=ke:oe.sibling=ke,oe=ke);return e&&le.forEach(function(tv){return t(C,tv)}),$e&&rn(C,ue),ie}function He(C,b,P,Q){if(typeof P=="object"&&P!==null&&P.type===E&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case I:e:{for(var ie=P.key,oe=b;oe!==null;){if(oe.key===ie){if(ie=P.type,ie===E){if(oe.tag===7){i(C,oe.sibling),b=c(oe,P.props.children),b.return=C,C=b;break e}}else if(oe.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===H&&jd(ie)===oe.type){i(C,oe.sibling),b=c(oe,P.props),b.ref=Ys(C,oe,P),b.return=C,C=b;break e}i(C,oe);break}else t(C,oe);oe=oe.sibling}P.type===E?(b=dn(P.props.children,C.mode,Q,P.key),b.return=C,C=b):(Q=Ra(P.type,P.key,P.props,null,C.mode,Q),Q.ref=Ys(C,b,P),Q.return=C,C=Q)}return g(C);case G:e:{for(oe=P.key;b!==null;){if(b.key===oe)if(b.tag===4&&b.stateNode.containerInfo===P.containerInfo&&b.stateNode.implementation===P.implementation){i(C,b.sibling),b=c(b,P.children||[]),b.return=C,C=b;break e}else{i(C,b);break}else t(C,b);b=b.sibling}b=Jl(P,C.mode,Q),b.return=C,C=b}return g(C);case H:return oe=P._init,He(C,b,oe(P._payload),Q)}if(bs(P))return te(C,b,P,Q);if(ne(P))return se(C,b,P,Q);la(C,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,b!==null&&b.tag===6?(i(C,b.sibling),b=c(b,P),b.return=C,C=b):(i(C,b),b=Yl(P,C.mode,Q),b.return=C,C=b),g(C)):i(C,b)}return He}var $n=bd(!0),Ed=bd(!1),ua=jr(null),ca=null,Fn=null,al=null;function ol(){al=Fn=ca=null}function ll(e){var t=ua.current;Me(ua),e._currentValue=t}function ul(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function zn(e,t){ca=e,al=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(yt=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(al!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(ca===null)throw Error(n(308));Fn=e,ca.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var nn=null;function cl(e){nn===null?nn=[e]:nn.push(e)}function Nd(e,t,i,o){var c=t.interleaved;return c===null?(i.next=i,cl(t)):(i.next=c.next,c.next=i),t.interleaved=i,ur(e,o)}function ur(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Nr=!1;function dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(we&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,ur(e,i)}return c=o.interleaved,c===null?(t.next=t,cl(o)):(t.next=c.next,c.next=t),o.interleaved=t,ur(e,i)}function da(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,bo(e,i)}}function Pd(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ha(e,t,i,o){var c=e.updateQueue;Nr=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var k=x,R=k.next;k.next=null,g===null?f=R:g.next=R,g=k;var q=e.alternate;q!==null&&(q=q.updateQueue,x=q.lastBaseUpdate,x!==g&&(x===null?q.firstBaseUpdate=R:x.next=R,q.lastBaseUpdate=k))}if(f!==null){var V=c.baseState;g=0,q=R=k=null,x=f;do{var B=x.lane,X=x.eventTime;if((o&B)===B){q!==null&&(q=q.next={eventTime:X,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var te=e,se=x;switch(B=t,X=i,se.tag){case 1:if(te=se.payload,typeof te=="function"){V=te.call(X,V,B);break e}V=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=se.payload,B=typeof te=="function"?te.call(X,V,B):te,B==null)break e;V=W({},V,B);break e;case 2:Nr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,B=c.effects,B===null?c.effects=[x]:B.push(x))}else X={eventTime:X,lane:B,tag:x.tag,payload:x.payload,callback:x.callback,next:null},q===null?(R=q=X,k=V):q=q.next=X,g|=B;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;B=x,x=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);if(q===null&&(k=V),c.baseState=k,c.firstBaseUpdate=R,c.lastBaseUpdate=q,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);on|=g,e.lanes=g,e.memoizedState=V}}function Td(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(n(191,c));c.call(o)}}}var Js={},Jt=jr(Js),Xs=jr(Js),Zs=jr(Js);function sn(e){if(e===Js)throw Error(n(174));return e}function hl(e,t){switch(Oe(Zs,t),Oe(Xs,e),Oe(Jt,Js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fo(t,e)}Me(Jt),Oe(Jt,t)}function Bn(){Me(Jt),Me(Xs),Me(Zs)}function Od(e){sn(Zs.current);var t=sn(Jt.current),i=fo(t,e.type);t!==i&&(Oe(Xs,e),Oe(Jt,i))}function fl(e){Xs.current===e&&(Me(Jt),Me(Xs))}var Fe=jr(0);function fa(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pl=[];function ml(){for(var e=0;e<pl.length;e++)pl[e]._workInProgressVersionPrimary=null;pl.length=0}var pa=$.ReactCurrentDispatcher,gl=$.ReactCurrentBatchConfig,an=0,ze=null,Ke=null,Xe=null,ma=!1,ei=!1,ti=0,Sg=0;function at(){throw Error(n(321))}function vl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!It(e[i],t[i]))return!1;return!0}function yl(e,t,i,o,c,f){if(an=f,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pa.current=e===null||e.memoizedState===null?Ng:Cg,e=i(o,c),ei){f=0;do{if(ei=!1,ti=0,25<=f)throw Error(n(301));f+=1,Xe=Ke=null,t.updateQueue=null,pa.current=Pg,e=i(o,c)}while(ei)}if(pa.current=ya,t=Ke!==null&&Ke.next!==null,an=0,Xe=Ke=ze=null,ma=!1,t)throw Error(n(300));return e}function wl(){var e=ti!==0;return ti=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ze.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ot(){if(Ke===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=Xe===null?ze.memoizedState:Xe.next;if(t!==null)Xe=t,Ke=e;else{if(e===null)throw Error(n(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Xe===null?ze.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function ri(e,t){return typeof t=="function"?t(e):t}function xl(e){var t=Ot(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=Ke,c=o.baseQueue,f=i.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}o.baseQueue=c=f,i.pending=null}if(c!==null){f=c.next,o=o.baseState;var x=g=null,k=null,R=f;do{var q=R.lane;if((an&q)===q)k!==null&&(k=k.next={lane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),o=R.hasEagerState?R.eagerState:e(o,R.action);else{var V={lane:q,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null};k===null?(x=k=V,g=o):k=k.next=V,ze.lanes|=q,on|=q}R=R.next}while(R!==null&&R!==f);k===null?g=o:k.next=x,It(o,t.memoizedState)||(yt=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=k,i.lastRenderedState=o}if(e=i.interleaved,e!==null){c=e;do f=c.lane,ze.lanes|=f,on|=f,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function _l(e){var t=Ot(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);It(f,t.memoizedState)||(yt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function Rd(){}function Ad(e,t){var i=ze,o=Ot(),c=t(),f=!It(o.memoizedState,c);if(f&&(o.memoizedState=c,yt=!0),o=o.queue,kl(Ld.bind(null,i,o,e),[e]),o.getSnapshot!==t||f||Xe!==null&&Xe.memoizedState.tag&1){if(i.flags|=2048,ni(9,Md.bind(null,i,o,c,t),void 0,null),Ze===null)throw Error(n(349));(an&30)!==0||Dd(i,t,c)}return c}function Dd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Md(e,t,i,o){t.value=i,t.getSnapshot=o,Id(t)&&Ud(e)}function Ld(e,t,i){return i(function(){Id(t)&&Ud(e)})}function Id(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!It(e,i)}catch{return!0}}function Ud(e){var t=ur(e,1);t!==null&&Bt(t,e,1,-1)}function $d(e){var t=Xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:e},t.queue=e,e=e.dispatch=Eg.bind(null,ze,e),[t.memoizedState,e]}function ni(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=ze.updateQueue,t===null?(t={lastEffect:null,stores:null},ze.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Fd(){return Ot().memoizedState}function ga(e,t,i,o){var c=Xt();ze.flags|=e,c.memoizedState=ni(1|t,i,void 0,o===void 0?null:o)}function va(e,t,i,o){var c=Ot();o=o===void 0?null:o;var f=void 0;if(Ke!==null){var g=Ke.memoizedState;if(f=g.destroy,o!==null&&vl(o,g.deps)){c.memoizedState=ni(t,i,f,o);return}}ze.flags|=e,c.memoizedState=ni(1|t,i,f,o)}function zd(e,t){return ga(8390656,8,e,t)}function kl(e,t){return va(2048,8,e,t)}function Bd(e,t){return va(4,2,e,t)}function Wd(e,t){return va(4,4,e,t)}function qd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hd(e,t,i){return i=i!=null?i.concat([e]):null,va(4,4,qd.bind(null,t,e),i)}function Sl(){}function Vd(e,t){var i=Ot();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&vl(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Qd(e,t){var i=Ot();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&vl(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function Kd(e,t,i){return(an&21)===0?(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=i):(It(i,t)||(i=jc(),ze.lanes|=i,on|=i,e.baseState=!0),t)}function jg(e,t){var i=Ee;Ee=i!==0&&4>i?i:4,e(!0);var o=gl.transition;gl.transition={};try{e(!1),t()}finally{Ee=i,gl.transition=o}}function Gd(){return Ot().memoizedState}function bg(e,t,i){var o=Rr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},Yd(e))Jd(t,i);else if(i=Nd(e,t,i,o),i!==null){var c=dt();Bt(i,e,o,c),Xd(i,t,o)}}function Eg(e,t,i){var o=Rr(e),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(Yd(e))Jd(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,i);if(c.hasEagerState=!0,c.eagerState=x,It(x,g)){var k=t.interleaved;k===null?(c.next=c,cl(t)):(c.next=k.next,k.next=c),t.interleaved=c;return}}catch{}finally{}i=Nd(e,t,c,o),i!==null&&(c=dt(),Bt(i,e,o,c),Xd(i,t,o))}}function Yd(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function Jd(e,t){ei=ma=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Xd(e,t,i){if((i&4194240)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,bo(e,i)}}var ya={readContext:Tt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Ng={readContext:Tt,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:zd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,ga(4194308,4,qd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){return ga(4,2,e,t)},useMemo:function(e,t){var i=Xt();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Xt();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=bg.bind(null,ze,e),[o.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:$d,useDebugValue:Sl,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=$d(!1),t=e[0];return e=jg.bind(null,e[1]),Xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=ze,c=Xt();if($e){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),Ze===null)throw Error(n(349));(an&30)!==0||Dd(o,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,zd(Ld.bind(null,o,f,e),[e]),o.flags|=2048,ni(9,Md.bind(null,o,f,i,t),void 0,null),i},useId:function(){var e=Xt(),t=Ze.identifierPrefix;if($e){var i=lr,o=or;i=(o&~(1<<32-Lt(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ti++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Sg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cg={readContext:Tt,useCallback:Vd,useContext:Tt,useEffect:kl,useImperativeHandle:Hd,useInsertionEffect:Bd,useLayoutEffect:Wd,useMemo:Qd,useReducer:xl,useRef:Fd,useState:function(){return xl(ri)},useDebugValue:Sl,useDeferredValue:function(e){var t=Ot();return Kd(t,Ke.memoizedState,e)},useTransition:function(){var e=xl(ri)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Ad,useId:Gd,unstable_isNewReconciler:!1},Pg={readContext:Tt,useCallback:Vd,useContext:Tt,useEffect:kl,useImperativeHandle:Hd,useInsertionEffect:Bd,useLayoutEffect:Wd,useMemo:Qd,useReducer:_l,useRef:Fd,useState:function(){return _l(ri)},useDebugValue:Sl,useDeferredValue:function(e){var t=Ot();return Ke===null?t.memoizedState=e:Kd(t,Ke.memoizedState,e)},useTransition:function(){var e=_l(ri)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Ad,useId:Gd,unstable_isNewReconciler:!1};function $t(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function jl(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:W({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var wa={isMounted:function(e){return(e=e._reactInternals)?Xr(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=dt(),c=Rr(e),f=cr(o,c);f.payload=t,i!=null&&(f.callback=i),t=Cr(e,f,c),t!==null&&(Bt(t,e,c,o),da(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=dt(),c=Rr(e),f=cr(o,c);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Cr(e,f,c),t!==null&&(Bt(t,e,c,o),da(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=dt(),o=Rr(e),c=cr(i,o);c.tag=2,t!=null&&(c.callback=t),t=Cr(e,c,o),t!==null&&(Bt(t,e,o,i),da(t,e,o))}};function Zd(e,t,i,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!Ws(i,o)||!Ws(c,f):!0}function eh(e,t,i){var o=!1,c=br,f=t.contextType;return typeof f=="object"&&f!==null?f=Tt(f):(c=vt(t)?en:it.current,o=t.contextTypes,f=(o=o!=null)?Mn(e,c):br),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=wa,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function th(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&wa.enqueueReplaceState(t,t.state,null)}function bl(e,t,i,o){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},dl(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=Tt(f):(f=vt(t)?en:it.current,c.context=Mn(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(jl(e,t,f,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&wa.enqueueReplaceState(c,c.state,null),ha(e,i,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var i="",o=t;do i+=xe(o),o=o.return;while(o);var c=i}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function El(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function Nl(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Tg=typeof WeakMap=="function"?WeakMap:Map;function rh(e,t,i){i=cr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){Ea||(Ea=!0,Bl=o),Nl(e,t)},i}function nh(e,t,i){i=cr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;i.payload=function(){return o(c)},i.callback=function(){Nl(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){Nl(e,t),typeof o!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function sh(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new Tg;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(c.add(i),e=qg.bind(null,e,t,i),t.then(e,e))}function ih(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ah(e,t,i,o,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=cr(-1,1),t.tag=2,Cr(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Og=$.ReactCurrentOwner,yt=!1;function ct(e,t,i,o){t.child=e===null?Ed(t,null,i,o):$n(t,e.child,i,o)}function oh(e,t,i,o,c){i=i.render;var f=t.ref;return zn(t,c),o=yl(e,t,i,o,f,c),i=wl(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,dr(e,t,c)):($e&&i&&tl(t),t.flags|=1,ct(e,t,o,c),t.child)}function lh(e,t,i,o,c){if(e===null){var f=i.type;return typeof f=="function"&&!Gl(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,uh(e,t,f,o,c)):(e=Ra(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ws,i(g,o)&&e.ref===t.ref)return dr(e,t,c)}return t.flags|=1,e=Dr(f,o),e.ref=t.ref,e.return=t,t.child=e}function uh(e,t,i,o,c){if(e!==null){var f=e.memoizedProps;if(Ws(f,o)&&e.ref===t.ref)if(yt=!1,t.pendingProps=o=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(yt=!0);else return t.lanes=e.lanes,dr(e,t,c)}return Cl(e,t,i,o,c)}function ch(e,t,i){var o=t.pendingProps,c=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Hn,Nt),Nt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Hn,Nt),Nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:i,Oe(Hn,Nt),Nt|=o}else f!==null?(o=f.baseLanes|i,t.memoizedState=null):o=i,Oe(Hn,Nt),Nt|=o;return ct(e,t,c,i),t.child}function dh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Cl(e,t,i,o,c){var f=vt(i)?en:it.current;return f=Mn(t,f),zn(t,c),i=yl(e,t,i,o,f,c),o=wl(),e!==null&&!yt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,dr(e,t,c)):($e&&o&&tl(t),t.flags|=1,ct(e,t,i,c),t.child)}function hh(e,t,i,o,c){if(vt(i)){var f=!0;na(t)}else f=!1;if(zn(t,c),t.stateNode===null)_a(e,t),eh(t,i,o),bl(t,i,o,c),o=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var k=g.context,R=i.contextType;typeof R=="object"&&R!==null?R=Tt(R):(R=vt(i)?en:it.current,R=Mn(t,R));var q=i.getDerivedStateFromProps,V=typeof q=="function"||typeof g.getSnapshotBeforeUpdate=="function";V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==o||k!==R)&&th(t,g,o,R),Nr=!1;var B=t.memoizedState;g.state=B,ha(t,o,g,c),k=t.memoizedState,x!==o||B!==k||gt.current||Nr?(typeof q=="function"&&(jl(t,i,q,o),k=t.memoizedState),(x=Nr||Zd(t,i,x,o,B,k,R))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=k),g.props=o,g.state=k,g.context=R,o=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,Cd(e,t),x=t.memoizedProps,R=t.type===t.elementType?x:$t(t.type,x),g.props=R,V=t.pendingProps,B=g.context,k=i.contextType,typeof k=="object"&&k!==null?k=Tt(k):(k=vt(i)?en:it.current,k=Mn(t,k));var X=i.getDerivedStateFromProps;(q=typeof X=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==V||B!==k)&&th(t,g,o,k),Nr=!1,B=t.memoizedState,g.state=B,ha(t,o,g,c);var te=t.memoizedState;x!==V||B!==te||gt.current||Nr?(typeof X=="function"&&(jl(t,i,X,o),te=t.memoizedState),(R=Nr||Zd(t,i,R,o,B,te,k)||!1)?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,te,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,te,k)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=te),g.props=o,g.state=te,g.context=k,o=R):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),o=!1)}return Pl(e,t,i,o,f,c)}function Pl(e,t,i,o,c,f){dh(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return c&&vd(t,i,!1),dr(e,t,f);o=t.stateNode,Og.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=$n(t,e.child,null,f),t.child=$n(t,null,x,f)):ct(e,t,x,f),t.memoizedState=o.state,c&&vd(t,i,!0),t.child}function fh(e){var t=e.stateNode;t.pendingContext?md(e,t.pendingContext,t.pendingContext!==t.context):t.context&&md(e,t.context,!1),hl(e,t.containerInfo)}function ph(e,t,i,o,c){return Un(),il(c),t.flags|=256,ct(e,t,i,o),t.child}var Tl={dehydrated:null,treeContext:null,retryLane:0};function Ol(e){return{baseLanes:e,cachePool:null,transitions:null}}function mh(e,t,i){var o=t.pendingProps,c=Fe.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Oe(Fe,c&1),e===null)return sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=o.children,e=o.fallback,f?(o=t.mode,f=t.child,g={mode:"hidden",children:g},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Aa(g,o,0,null),e=dn(e,o,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ol(i),t.memoizedState=Tl,e):Rl(t,g));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return Rg(e,t,g,o,x,c,i);if(f){f=o.fallback,g=t.mode,c=e.child,x=c.sibling;var k={mode:"hidden",children:o.children};return(g&1)===0&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=k,t.deletions=null):(o=Dr(c,k),o.subtreeFlags=c.subtreeFlags&14680064),x!==null?f=Dr(x,f):(f=dn(f,g,i,null),f.flags|=2),f.return=t,o.return=t,o.sibling=f,t.child=o,o=f,f=t.child,g=e.child.memoizedState,g=g===null?Ol(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Tl,o}return f=e.child,e=f.sibling,o=Dr(f,{mode:"visible",children:o.children}),(t.mode&1)===0&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Rl(e,t){return t=Aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xa(e,t,i,o){return o!==null&&il(o),$n(t,e.child,null,i),e=Rl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Rg(e,t,i,o,c,f,g){if(i)return t.flags&256?(t.flags&=-257,o=El(Error(n(422))),xa(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=o.fallback,c=t.mode,o=Aa({mode:"visible",children:o.children},c,0,null),f=dn(f,c,g,null),f.flags|=2,o.return=t,f.return=t,o.sibling=f,t.child=o,(t.mode&1)!==0&&$n(t,e.child,null,g),t.child.memoizedState=Ol(g),t.memoizedState=Tl,f);if((t.mode&1)===0)return xa(e,t,g,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var x=o.dgst;return o=x,f=Error(n(419)),o=El(f,o,void 0),xa(e,t,g,o)}if(x=(g&e.childLanes)!==0,yt||x){if(o=Ze,o!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(o.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,ur(e,c),Bt(o,e,c,-1))}return Kl(),o=El(Error(n(421))),xa(e,t,g,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Hg.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,Et=Sr(c.nextSibling),bt=t,$e=!0,Ut=null,e!==null&&(Ct[Pt++]=or,Ct[Pt++]=lr,Ct[Pt++]=tn,or=e.id,lr=e.overflow,tn=t),t=Rl(t,o.children),t.flags|=4096,t)}function gh(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ul(e.return,t,i)}function Al(e,t,i,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=i,f.tailMode=c)}function vh(e,t,i){var o=t.pendingProps,c=o.revealOrder,f=o.tail;if(ct(e,t,o.children,i),o=Fe.current,(o&2)!==0)o=o&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gh(e,i,t);else if(e.tag===19)gh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Oe(Fe,o),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&fa(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Al(t,!1,c,i,f);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&fa(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Al(t,!0,i,null,f);break;case"together":Al(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _a(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),on|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Dr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Dr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ag(e,t,i){switch(t.tag){case 3:fh(t),Un();break;case 5:Od(t);break;case 1:vt(t.type)&&na(t);break;case 4:hl(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Oe(ua,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Oe(Fe,Fe.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?mh(e,t,i):(Oe(Fe,Fe.current&1),e=dr(e,t,i),e!==null?e.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(o=(i&t.childLanes)!==0,(e.flags&128)!==0){if(o)return vh(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Oe(Fe,Fe.current),o)break;return null;case 22:case 23:return t.lanes=0,ch(e,t,i)}return dr(e,t,i)}var yh,Dl,wh,xh;yh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Dl=function(){},wh=function(e,t,i,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,sn(Jt.current);var f=null;switch(i){case"input":c=lo(e,c),o=lo(e,o),f=[];break;case"select":c=W({},c,{value:void 0}),o=W({},o,{value:void 0}),f=[];break;case"textarea":c=ho(e,c),o=ho(e,o),f=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ea)}po(i,o);var g;i=null;for(R in c)if(!o.hasOwnProperty(R)&&c.hasOwnProperty(R)&&c[R]!=null)if(R==="style"){var x=c[R];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else R!=="dangerouslySetInnerHTML"&&R!=="children"&&R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&R!=="autoFocus"&&(l.hasOwnProperty(R)?f||(f=[]):(f=f||[]).push(R,null));for(R in o){var k=o[R];if(x=c!=null?c[R]:void 0,o.hasOwnProperty(R)&&k!==x&&(k!=null||x!=null))if(R==="style")if(x){for(g in x)!x.hasOwnProperty(g)||k&&k.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in k)k.hasOwnProperty(g)&&x[g]!==k[g]&&(i||(i={}),i[g]=k[g])}else i||(f||(f=[]),f.push(R,i)),i=k;else R==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,x=x?x.__html:void 0,k!=null&&x!==k&&(f=f||[]).push(R,k)):R==="children"?typeof k!="string"&&typeof k!="number"||(f=f||[]).push(R,""+k):R!=="suppressContentEditableWarning"&&R!=="suppressHydrationWarning"&&(l.hasOwnProperty(R)?(k!=null&&R==="onScroll"&&De("scroll",e),f||x===k||(f=[])):(f=f||[]).push(R,k))}i&&(f=f||[]).push("style",i);var R=f;(t.updateQueue=R)&&(t.flags|=4)}},xh=function(e,t,i,o){i!==o&&(t.flags|=4)};function si(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ot(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function Dg(e,t,i){var o=t.pendingProps;switch(rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(t),null;case 1:return vt(t.type)&&ra(),ot(t),null;case 3:return o=t.stateNode,Bn(),Me(gt),Me(it),ml(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(oa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ut!==null&&(Hl(Ut),Ut=null))),Dl(e,t),ot(t),null;case 5:fl(t);var c=sn(Zs.current);if(i=t.type,e!==null&&t.stateNode!=null)wh(e,t,i,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(n(166));return ot(t),null}if(e=sn(Jt.current),oa(t)){o=t.stateNode,i=t.type;var f=t.memoizedProps;switch(o[Yt]=t,o[Ks]=f,e=(t.mode&1)!==0,i){case"dialog":De("cancel",o),De("close",o);break;case"iframe":case"object":case"embed":De("load",o);break;case"video":case"audio":for(c=0;c<Hs.length;c++)De(Hs[c],o);break;case"source":De("error",o);break;case"img":case"image":case"link":De("error",o),De("load",o);break;case"details":De("toggle",o);break;case"input":ec(o,f),De("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},De("invalid",o);break;case"textarea":nc(o,f),De("invalid",o)}po(i,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?o.textContent!==x&&(f.suppressHydrationWarning!==!0&&Zi(o.textContent,x,e),c=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&Zi(o.textContent,x,e),c=["children",""+x]):l.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&De("scroll",o)}switch(i){case"input":Ti(o),rc(o,f,!0);break;case"textarea":Ti(o),ic(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=ea)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ac(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[Yt]=t,e[Ks]=o,yh(e,t,!1,!1),t.stateNode=e;e:{switch(g=mo(i,o),i){case"dialog":De("cancel",e),De("close",e),c=o;break;case"iframe":case"object":case"embed":De("load",e),c=o;break;case"video":case"audio":for(c=0;c<Hs.length;c++)De(Hs[c],e);c=o;break;case"source":De("error",e),c=o;break;case"img":case"image":case"link":De("error",e),De("load",e),c=o;break;case"details":De("toggle",e),c=o;break;case"input":ec(e,o),c=lo(e,o),De("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=W({},o,{value:void 0}),De("invalid",e);break;case"textarea":nc(e,o),c=ho(e,o),De("invalid",e);break;default:c=o}po(i,c),x=c;for(f in x)if(x.hasOwnProperty(f)){var k=x[f];f==="style"?uc(e,k):f==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&oc(e,k)):f==="children"?typeof k=="string"?(i!=="textarea"||k!=="")&&Es(e,k):typeof k=="number"&&Es(e,""+k):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?k!=null&&f==="onScroll"&&De("scroll",e):k!=null&&M(e,f,k,g))}switch(i){case"input":Ti(e),rc(e,o,!1);break;case"textarea":Ti(e),ic(e);break;case"option":o.value!=null&&e.setAttribute("value",""+be(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?Sn(e,!!o.multiple,f,!1):o.defaultValue!=null&&Sn(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ea)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ot(t),null;case 6:if(e&&t.stateNode!=null)xh(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(n(166));if(i=sn(Zs.current),sn(Jt.current),oa(t)){if(o=t.stateNode,i=t.memoizedProps,o[Yt]=t,(f=o.nodeValue!==i)&&(e=bt,e!==null))switch(e.tag){case 3:Zi(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Zi(o.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[Yt]=t,t.stateNode=o}return ot(t),null;case 13:if(Me(Fe),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&Et!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Sd(),Un(),t.flags|=98560,f=!1;else if(f=oa(t),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[Yt]=t}else Un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ot(t),f=!1}else Ut!==null&&(Hl(Ut),Ut=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Fe.current&1)!==0?Ge===0&&(Ge=3):Kl())),t.updateQueue!==null&&(t.flags|=4),ot(t),null);case 4:return Bn(),Dl(e,t),e===null&&Vs(t.stateNode.containerInfo),ot(t),null;case 10:return ll(t.type._context),ot(t),null;case 17:return vt(t.type)&&ra(),ot(t),null;case 19:if(Me(Fe),f=t.memoizedState,f===null)return ot(t),null;if(o=(t.flags&128)!==0,g=f.rendering,g===null)if(o)si(f,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=fa(e),g!==null){for(t.flags|=128,si(f,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)f=i,e=o,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Oe(Fe,Fe.current&1|2),t.child}e=e.sibling}f.tail!==null&&qe()>Vn&&(t.flags|=128,o=!0,si(f,!1),t.lanes=4194304)}else{if(!o)if(e=fa(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),si(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!$e)return ot(t),null}else 2*qe()-f.renderingStartTime>Vn&&i!==1073741824&&(t.flags|=128,o=!0,si(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=qe(),t.sibling=null,i=Fe.current,Oe(Fe,o?i&1|2:i&1),t):(ot(t),null);case 22:case 23:return Ql(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&(t.mode&1)!==0?(Nt&1073741824)!==0&&(ot(t),t.subtreeFlags&6&&(t.flags|=8192)):ot(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Mg(e,t){switch(rl(t),t.tag){case 1:return vt(t.type)&&ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),Me(gt),Me(it),ml(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return fl(t),null;case 13:if(Me(Fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Me(Fe),null;case 4:return Bn(),null;case 10:return ll(t.type._context),null;case 22:case 23:return Ql(),null;case 24:return null;default:return null}}var ka=!1,lt=!1,Lg=typeof WeakSet=="function"?WeakSet:Set,Z=null;function qn(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){Be(e,t,o)}else i.current=null}function Ml(e,t,i){try{i()}catch(o){Be(e,t,o)}}var _h=!1;function Ig(e,t){if(Qo=Bi,e=Zc(),$o(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,x=-1,k=-1,R=0,q=0,V=e,B=null;t:for(;;){for(var X;V!==i||c!==0&&V.nodeType!==3||(x=g+c),V!==f||o!==0&&V.nodeType!==3||(k=g+o),V.nodeType===3&&(g+=V.nodeValue.length),(X=V.firstChild)!==null;)B=V,V=X;for(;;){if(V===e)break t;if(B===i&&++R===c&&(x=g),B===f&&++q===o&&(k=g),(X=V.nextSibling)!==null)break;V=B,B=V.parentNode}V=X}i=x===-1||k===-1?null:{start:x,end:k}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ko={focusedElem:e,selectionRange:i},Bi=!1,Z=t;Z!==null;)if(t=Z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Z=e;else for(;Z!==null;){t=Z;try{var te=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(te!==null){var se=te.memoizedProps,He=te.memoizedState,C=t.stateNode,b=C.getSnapshotBeforeUpdate(t.elementType===t.type?se:$t(t.type,se),He);C.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var P=t.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Be(t,t.return,Q)}if(e=t.sibling,e!==null){e.return=t.return,Z=e;break}Z=t.return}return te=_h,_h=!1,te}function ii(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Ml(t,i,f)}c=c.next}while(c!==o)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Ll(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function kh(e){var t=e.alternate;t!==null&&(e.alternate=null,kh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Ks],delete t[Xo],delete t[wg],delete t[xg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sh(e){return e.tag===5||e.tag===3||e.tag===4}function jh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Il(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ea));else if(o!==4&&(e=e.child,e!==null))for(Il(e,t,i),e=e.sibling;e!==null;)Il(e,t,i),e=e.sibling}function Ul(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Ul(e,t,i),e=e.sibling;e!==null;)Ul(e,t,i),e=e.sibling}var nt=null,Ft=!1;function Pr(e,t,i){for(i=i.child;i!==null;)bh(e,t,i),i=i.sibling}function bh(e,t,i){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Li,i)}catch{}switch(i.tag){case 5:lt||qn(i,t);case 6:var o=nt,c=Ft;nt=null,Pr(e,t,i),nt=o,Ft=c,nt!==null&&(Ft?(e=nt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):nt.removeChild(i.stateNode));break;case 18:nt!==null&&(Ft?(e=nt,i=i.stateNode,e.nodeType===8?Jo(e.parentNode,i):e.nodeType===1&&Jo(e,i),Is(e)):Jo(nt,i.stateNode));break;case 4:o=nt,c=Ft,nt=i.stateNode.containerInfo,Ft=!0,Pr(e,t,i),nt=o,Ft=c;break;case 0:case 11:case 14:case 15:if(!lt&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Ml(i,t,g),c=c.next}while(c!==o)}Pr(e,t,i);break;case 1:if(!lt&&(qn(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(x){Be(i,t,x)}Pr(e,t,i);break;case 21:Pr(e,t,i);break;case 22:i.mode&1?(lt=(o=lt)||i.memoizedState!==null,Pr(e,t,i),lt=o):Pr(e,t,i);break;default:Pr(e,t,i)}}function Eh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new Lg),t.forEach(function(o){var c=Vg.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}}function zt(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:nt=x.stateNode,Ft=!1;break e;case 3:nt=x.stateNode.containerInfo,Ft=!0;break e;case 4:nt=x.stateNode.containerInfo,Ft=!0;break e}x=x.return}if(nt===null)throw Error(n(160));bh(f,g,c),nt=null,Ft=!1;var k=c.alternate;k!==null&&(k.return=null),c.return=null}catch(R){Be(c,t,R)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Nh(t,e),t=t.sibling}function Nh(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(zt(t,e),Zt(e),o&4){try{ii(3,e,e.return),Sa(3,e)}catch(se){Be(e,e.return,se)}try{ii(5,e,e.return)}catch(se){Be(e,e.return,se)}}break;case 1:zt(t,e),Zt(e),o&512&&i!==null&&qn(i,i.return);break;case 5:if(zt(t,e),Zt(e),o&512&&i!==null&&qn(i,i.return),e.flags&32){var c=e.stateNode;try{Es(c,"")}catch(se){Be(e,e.return,se)}}if(o&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,x=e.type,k=e.updateQueue;if(e.updateQueue=null,k!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&tc(c,f),mo(x,g);var R=mo(x,f);for(g=0;g<k.length;g+=2){var q=k[g],V=k[g+1];q==="style"?uc(c,V):q==="dangerouslySetInnerHTML"?oc(c,V):q==="children"?Es(c,V):M(c,q,V,R)}switch(x){case"input":uo(c,f);break;case"textarea":sc(c,f);break;case"select":var B=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var X=f.value;X!=null?Sn(c,!!f.multiple,X,!1):B!==!!f.multiple&&(f.defaultValue!=null?Sn(c,!!f.multiple,f.defaultValue,!0):Sn(c,!!f.multiple,f.multiple?[]:"",!1))}c[Ks]=f}catch(se){Be(e,e.return,se)}}break;case 6:if(zt(t,e),Zt(e),o&4){if(e.stateNode===null)throw Error(n(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(se){Be(e,e.return,se)}}break;case 3:if(zt(t,e),Zt(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Is(t.containerInfo)}catch(se){Be(e,e.return,se)}break;case 4:zt(t,e),Zt(e);break;case 13:zt(t,e),Zt(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(zl=qe())),o&4&&Eh(e);break;case 22:if(q=i!==null&&i.memoizedState!==null,e.mode&1?(lt=(R=lt)||q,zt(t,e),lt=R):zt(t,e),Zt(e),o&8192){if(R=e.memoizedState!==null,(e.stateNode.isHidden=R)&&!q&&(e.mode&1)!==0)for(Z=e,q=e.child;q!==null;){for(V=Z=q;Z!==null;){switch(B=Z,X=B.child,B.tag){case 0:case 11:case 14:case 15:ii(4,B,B.return);break;case 1:qn(B,B.return);var te=B.stateNode;if(typeof te.componentWillUnmount=="function"){o=B,i=B.return;try{t=o,te.props=t.memoizedProps,te.state=t.memoizedState,te.componentWillUnmount()}catch(se){Be(o,i,se)}}break;case 5:qn(B,B.return);break;case 22:if(B.memoizedState!==null){Th(V);continue}}X!==null?(X.return=B,Z=X):Th(V)}q=q.sibling}e:for(q=null,V=e;;){if(V.tag===5){if(q===null){q=V;try{c=V.stateNode,R?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=V.stateNode,k=V.memoizedProps.style,g=k!=null&&k.hasOwnProperty("display")?k.display:null,x.style.display=lc("display",g))}catch(se){Be(e,e.return,se)}}}else if(V.tag===6){if(q===null)try{V.stateNode.nodeValue=R?"":V.memoizedProps}catch(se){Be(e,e.return,se)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;q===V&&(q=null),V=V.return}q===V&&(q=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:zt(t,e),Zt(e),o&4&&Eh(e);break;case 21:break;default:zt(t,e),Zt(e)}}function Zt(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Sh(i)){var o=i;break e}i=i.return}throw Error(n(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(Es(c,""),o.flags&=-33);var f=jh(e);Ul(e,f,c);break;case 3:case 4:var g=o.stateNode.containerInfo,x=jh(e);Il(e,x,g);break;default:throw Error(n(161))}}catch(k){Be(e,e.return,k)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ug(e,t,i){Z=e,Ch(e)}function Ch(e,t,i){for(var o=(e.mode&1)!==0;Z!==null;){var c=Z,f=c.child;if(c.tag===22&&o){var g=c.memoizedState!==null||ka;if(!g){var x=c.alternate,k=x!==null&&x.memoizedState!==null||lt;x=ka;var R=lt;if(ka=g,(lt=k)&&!R)for(Z=c;Z!==null;)g=Z,k=g.child,g.tag===22&&g.memoizedState!==null?Oh(c):k!==null?(k.return=g,Z=k):Oh(c);for(;f!==null;)Z=f,Ch(f),f=f.sibling;Z=c,ka=x,lt=R}Ph(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,Z=f):Ph(e)}}function Ph(e){for(;Z!==null;){var t=Z;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:lt||Sa(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!lt)if(i===null)o.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:$t(t.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Td(t,f,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Td(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var k=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&i.focus();break;case"img":k.src&&(i.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var R=t.alternate;if(R!==null){var q=R.memoizedState;if(q!==null){var V=q.dehydrated;V!==null&&Is(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lt||t.flags&512&&Ll(t)}catch(B){Be(t,t.return,B)}}if(t===e){Z=null;break}if(i=t.sibling,i!==null){i.return=t.return,Z=i;break}Z=t.return}}function Th(e){for(;Z!==null;){var t=Z;if(t===e){Z=null;break}var i=t.sibling;if(i!==null){i.return=t.return,Z=i;break}Z=t.return}}function Oh(e){for(;Z!==null;){var t=Z;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Sa(4,t)}catch(k){Be(t,i,k)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(k){Be(t,c,k)}}var f=t.return;try{Ll(t)}catch(k){Be(t,f,k)}break;case 5:var g=t.return;try{Ll(t)}catch(k){Be(t,g,k)}}}catch(k){Be(t,t.return,k)}if(t===e){Z=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Z=x;break}Z=t.return}}var $g=Math.ceil,ja=$.ReactCurrentDispatcher,$l=$.ReactCurrentOwner,Rt=$.ReactCurrentBatchConfig,we=0,Ze=null,Qe=null,st=0,Nt=0,Hn=jr(0),Ge=0,ai=null,on=0,ba=0,Fl=0,oi=null,wt=null,zl=0,Vn=1/0,hr=null,Ea=!1,Bl=null,Tr=null,Na=!1,Or=null,Ca=0,li=0,Wl=null,Pa=-1,Ta=0;function dt(){return(we&6)!==0?qe():Pa!==-1?Pa:Pa=qe()}function Rr(e){return(e.mode&1)===0?1:(we&2)!==0&&st!==0?st&-st:kg.transition!==null?(Ta===0&&(Ta=jc()),Ta):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:Ac(e.type)),e)}function Bt(e,t,i,o){if(50<li)throw li=0,Wl=null,Error(n(185));Rs(e,i,o),((we&2)===0||e!==Ze)&&(e===Ze&&((we&2)===0&&(ba|=i),Ge===4&&Ar(e,st)),xt(e,o),i===1&&we===0&&(t.mode&1)===0&&(Vn=qe()+500,sa&&Er()))}function xt(e,t){var i=e.callbackNode;km(e,t);var o=$i(e,e===Ze?st:0);if(o===0)i!==null&&_c(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&_c(i),t===1)e.tag===0?_g(Ah.bind(null,e)):yd(Ah.bind(null,e)),vg(function(){(we&6)===0&&Er()}),i=null;else{switch(bc(o)){case 1:i=ko;break;case 4:i=kc;break;case 16:i=Mi;break;case 536870912:i=Sc;break;default:i=Mi}i=zh(i,Rh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Rh(e,t){if(Pa=-1,Ta=0,(we&6)!==0)throw Error(n(327));var i=e.callbackNode;if(Qn()&&e.callbackNode!==i)return null;var o=$i(e,e===Ze?st:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||t)t=Oa(e,o);else{t=o;var c=we;we|=2;var f=Mh();(Ze!==e||st!==t)&&(hr=null,Vn=qe()+500,un(e,t));do try{Bg();break}catch(x){Dh(e,x)}while(!0);ol(),ja.current=f,we=c,Qe!==null?t=0:(Ze=null,st=0,t=Ge)}if(t!==0){if(t===2&&(c=So(e),c!==0&&(o=c,t=ql(e,c))),t===1)throw i=ai,un(e,0),Ar(e,o),xt(e,qe()),i;if(t===6)Ar(e,o);else{if(c=e.current.alternate,(o&30)===0&&!Fg(c)&&(t=Oa(e,o),t===2&&(f=So(e),f!==0&&(o=f,t=ql(e,f))),t===1))throw i=ai,un(e,0),Ar(e,o),xt(e,qe()),i;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(n(345));case 2:cn(e,wt,hr);break;case 3:if(Ar(e,o),(o&130023424)===o&&(t=zl+500-qe(),10<t)){if($i(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){dt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Yo(cn.bind(null,e,wt,hr),t);break}cn(e,wt,hr);break;case 4:if(Ar(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var g=31-Lt(o);f=1<<g,g=t[g],g>c&&(c=g),o&=~f}if(o=c,o=qe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*$g(o/1960))-o,10<o){e.timeoutHandle=Yo(cn.bind(null,e,wt,hr),o);break}cn(e,wt,hr);break;case 5:cn(e,wt,hr);break;default:throw Error(n(329))}}}return xt(e,qe()),e.callbackNode===i?Rh.bind(null,e):null}function ql(e,t){var i=oi;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=Oa(e,t),e!==2&&(t=wt,wt=i,t!==null&&Hl(t)),e}function Hl(e){wt===null?wt=e:wt.push.apply(wt,e)}function Fg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],f=c.getSnapshot;c=c.value;try{if(!It(f(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ar(e,t){for(t&=~Fl,t&=~ba,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Lt(t),o=1<<i;e[i]=-1,t&=~o}}function Ah(e){if((we&6)!==0)throw Error(n(327));Qn();var t=$i(e,0);if((t&1)===0)return xt(e,qe()),null;var i=Oa(e,t);if(e.tag!==0&&i===2){var o=So(e);o!==0&&(t=o,i=ql(e,o))}if(i===1)throw i=ai,un(e,0),Ar(e,t),xt(e,qe()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,wt,hr),xt(e,qe()),null}function Vl(e,t){var i=we;we|=1;try{return e(t)}finally{we=i,we===0&&(Vn=qe()+500,sa&&Er())}}function ln(e){Or!==null&&Or.tag===0&&(we&6)===0&&Qn();var t=we;we|=1;var i=Rt.transition,o=Ee;try{if(Rt.transition=null,Ee=1,e)return e()}finally{Ee=o,Rt.transition=i,we=t,(we&6)===0&&Er()}}function Ql(){Nt=Hn.current,Me(Hn)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,gg(i)),Qe!==null)for(i=Qe.return;i!==null;){var o=i;switch(rl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ra();break;case 3:Bn(),Me(gt),Me(it),ml();break;case 5:fl(o);break;case 4:Bn();break;case 13:Me(Fe);break;case 19:Me(Fe);break;case 10:ll(o.type._context);break;case 22:case 23:Ql()}i=i.return}if(Ze=e,Qe=e=Dr(e.current,null),st=Nt=t,Ge=0,ai=null,Fl=ba=on=0,wt=oi=null,nn!==null){for(t=0;t<nn.length;t++)if(i=nn[t],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,f=i.pending;if(f!==null){var g=f.next;f.next=c,o.next=g}i.pending=o}nn=null}return e}function Dh(e,t){do{var i=Qe;try{if(ol(),pa.current=ya,ma){for(var o=ze.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}ma=!1}if(an=0,Xe=Ke=ze=null,ei=!1,ti=0,$l.current=null,i===null||i.return===null){Ge=1,ai=t,Qe=null;break}e:{var f=e,g=i.return,x=i,k=t;if(t=st,x.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var R=k,q=x,V=q.tag;if((q.mode&1)===0&&(V===0||V===11||V===15)){var B=q.alternate;B?(q.updateQueue=B.updateQueue,q.memoizedState=B.memoizedState,q.lanes=B.lanes):(q.updateQueue=null,q.memoizedState=null)}var X=ih(g);if(X!==null){X.flags&=-257,ah(X,g,x,f,t),X.mode&1&&sh(f,R,t),t=X,k=R;var te=t.updateQueue;if(te===null){var se=new Set;se.add(k),t.updateQueue=se}else te.add(k);break e}else{if((t&1)===0){sh(f,R,t),Kl();break e}k=Error(n(426))}}else if($e&&x.mode&1){var He=ih(g);if(He!==null){(He.flags&65536)===0&&(He.flags|=256),ah(He,g,x,f,t),il(Wn(k,x));break e}}f=k=Wn(k,x),Ge!==4&&(Ge=2),oi===null?oi=[f]:oi.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var C=rh(f,k,t);Pd(f,C);break e;case 1:x=k;var b=f.type,P=f.stateNode;if((f.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Tr===null||!Tr.has(P)))){f.flags|=65536,t&=-t,f.lanes|=t;var Q=nh(f,x,t);Pd(f,Q);break e}}f=f.return}while(f!==null)}Ih(i)}catch(ie){t=ie,Qe===i&&i!==null&&(Qe=i=i.return);continue}break}while(!0)}function Mh(){var e=ja.current;return ja.current=ya,e===null?ya:e}function Kl(){(Ge===0||Ge===3||Ge===2)&&(Ge=4),Ze===null||(on&268435455)===0&&(ba&268435455)===0||Ar(Ze,st)}function Oa(e,t){var i=we;we|=2;var o=Mh();(Ze!==e||st!==t)&&(hr=null,un(e,t));do try{zg();break}catch(c){Dh(e,c)}while(!0);if(ol(),we=i,ja.current=o,Qe!==null)throw Error(n(261));return Ze=null,st=0,Ge}function zg(){for(;Qe!==null;)Lh(Qe)}function Bg(){for(;Qe!==null&&!fm();)Lh(Qe)}function Lh(e){var t=Fh(e.alternate,e,Nt);e.memoizedProps=e.pendingProps,t===null?Ih(e):Qe=t,$l.current=null}function Ih(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Dg(i,t,Nt),i!==null){Qe=i;return}}else{if(i=Mg(i,t),i!==null){i.flags&=32767,Qe=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ge=6,Qe=null;return}}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);Ge===0&&(Ge=5)}function cn(e,t,i){var o=Ee,c=Rt.transition;try{Rt.transition=null,Ee=1,Wg(e,t,i,o)}finally{Rt.transition=c,Ee=o}return null}function Wg(e,t,i,o){do Qn();while(Or!==null);if((we&6)!==0)throw Error(n(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Sm(e,f),e===Ze&&(Qe=Ze=null,st=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Na||(Na=!0,zh(Mi,function(){return Qn(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=Rt.transition,Rt.transition=null;var g=Ee;Ee=1;var x=we;we|=4,$l.current=null,Ig(e,i),Nh(i,e),ug(Ko),Bi=!!Qo,Ko=Qo=null,e.current=i,Ug(i),pm(),we=x,Ee=g,Rt.transition=f}else e.current=i;if(Na&&(Na=!1,Or=e,Ca=c),f=e.pendingLanes,f===0&&(Tr=null),vm(i.stateNode),xt(e,qe()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(Ea)throw Ea=!1,e=Bl,Bl=null,e;return(Ca&1)!==0&&e.tag!==0&&Qn(),f=e.pendingLanes,(f&1)!==0?e===Wl?li++:(li=0,Wl=e):li=0,Er(),null}function Qn(){if(Or!==null){var e=bc(Ca),t=Rt.transition,i=Ee;try{if(Rt.transition=null,Ee=16>e?16:e,Or===null)var o=!1;else{if(e=Or,Or=null,Ca=0,(we&6)!==0)throw Error(n(331));var c=we;for(we|=4,Z=e.current;Z!==null;){var f=Z,g=f.child;if((Z.flags&16)!==0){var x=f.deletions;if(x!==null){for(var k=0;k<x.length;k++){var R=x[k];for(Z=R;Z!==null;){var q=Z;switch(q.tag){case 0:case 11:case 15:ii(8,q,f)}var V=q.child;if(V!==null)V.return=q,Z=V;else for(;Z!==null;){q=Z;var B=q.sibling,X=q.return;if(kh(q),q===R){Z=null;break}if(B!==null){B.return=X,Z=B;break}Z=X}}}var te=f.alternate;if(te!==null){var se=te.child;if(se!==null){te.child=null;do{var He=se.sibling;se.sibling=null,se=He}while(se!==null)}}Z=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,Z=g;else e:for(;Z!==null;){if(f=Z,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ii(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,Z=C;break e}Z=f.return}}var b=e.current;for(Z=b;Z!==null;){g=Z;var P=g.child;if((g.subtreeFlags&2064)!==0&&P!==null)P.return=g,Z=P;else e:for(g=b;Z!==null;){if(x=Z,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Sa(9,x)}}catch(ie){Be(x,x.return,ie)}if(x===g){Z=null;break e}var Q=x.sibling;if(Q!==null){Q.return=x.return,Z=Q;break e}Z=x.return}}if(we=c,Er(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Li,e)}catch{}o=!0}return o}finally{Ee=i,Rt.transition=t}}return!1}function Uh(e,t,i){t=Wn(i,t),t=rh(e,t,1),e=Cr(e,t,1),t=dt(),e!==null&&(Rs(e,1,t),xt(e,t))}function Be(e,t,i){if(e.tag===3)Uh(e,e,i);else for(;t!==null;){if(t.tag===3){Uh(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Tr===null||!Tr.has(o))){e=Wn(i,e),e=nh(t,e,1),t=Cr(t,e,1),e=dt(),t!==null&&(Rs(t,1,e),xt(t,e));break}}t=t.return}}function qg(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=dt(),e.pingedLanes|=e.suspendedLanes&i,Ze===e&&(st&i)===i&&(Ge===4||Ge===3&&(st&130023424)===st&&500>qe()-zl?un(e,0):Fl|=i),xt(e,t)}function $h(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ui,Ui<<=1,(Ui&130023424)===0&&(Ui=4194304)));var i=dt();e=ur(e,t),e!==null&&(Rs(e,t,i),xt(e,i))}function Hg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),$h(e,i)}function Vg(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(n(314))}o!==null&&o.delete(t),$h(e,i)}var Fh;Fh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||gt.current)yt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return yt=!1,Ag(e,t,i);yt=(e.flags&131072)!==0}else yt=!1,$e&&(t.flags&1048576)!==0&&wd(t,aa,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;_a(e,t),e=t.pendingProps;var c=Mn(t,it.current);zn(t,i),c=yl(null,t,o,e,c,i);var f=wl();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(o)?(f=!0,na(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,dl(t),c.updater=wa,t.stateNode=c,c._reactInternals=t,bl(t,o,e,i),t=Pl(null,t,o,!0,f,i)):(t.tag=0,$e&&f&&tl(t),ct(null,t,c,i),t=t.child),t;case 16:o=t.elementType;e:{switch(_a(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=Kg(o),e=$t(o,e),c){case 0:t=Cl(null,t,o,e,i);break e;case 1:t=hh(null,t,o,e,i);break e;case 11:t=oh(null,t,o,e,i);break e;case 14:t=lh(null,t,o,$t(o.type,e),i);break e}throw Error(n(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:$t(o,c),Cl(e,t,o,c,i);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:$t(o,c),hh(e,t,o,c,i);case 3:e:{if(fh(t),e===null)throw Error(n(387));o=t.pendingProps,f=t.memoizedState,c=f.element,Cd(e,t),ha(t,o,null,i);var g=t.memoizedState;if(o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=Wn(Error(n(423)),t),t=ph(e,t,o,i,c);break e}else if(o!==c){c=Wn(Error(n(424)),t),t=ph(e,t,o,i,c);break e}else for(Et=Sr(t.stateNode.containerInfo.firstChild),bt=t,$e=!0,Ut=null,i=Ed(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Un(),o===c){t=dr(e,t,i);break e}ct(e,t,o,i)}t=t.child}return t;case 5:return Od(t),e===null&&sl(t),o=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,Go(o,c)?g=null:f!==null&&Go(o,f)&&(t.flags|=32),dh(e,t),ct(e,t,g,i),t.child;case 6:return e===null&&sl(t),null;case 13:return mh(e,t,i);case 4:return hl(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=$n(t,null,o,i):ct(e,t,o,i),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:$t(o,c),oh(e,t,o,c,i);case 7:return ct(e,t,t.pendingProps,i),t.child;case 8:return ct(e,t,t.pendingProps.children,i),t.child;case 12:return ct(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,Oe(ua,o._currentValue),o._currentValue=g,f!==null)if(It(f.value,g)){if(f.children===c.children&&!gt.current){t=dr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var k=x.firstContext;k!==null;){if(k.context===o){if(f.tag===1){k=cr(-1,i&-i),k.tag=2;var R=f.updateQueue;if(R!==null){R=R.shared;var q=R.pending;q===null?k.next=k:(k.next=q.next,q.next=k),R.pending=k}}f.lanes|=i,k=f.alternate,k!==null&&(k.lanes|=i),ul(f.return,i,t),x.lanes|=i;break}k=k.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),ul(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}ct(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,zn(t,i),c=Tt(c),o=o(c),t.flags|=1,ct(e,t,o,i),t.child;case 14:return o=t.type,c=$t(o,t.pendingProps),c=$t(o.type,c),lh(e,t,o,c,i);case 15:return uh(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:$t(o,c),_a(e,t),t.tag=1,vt(o)?(e=!0,na(t)):e=!1,zn(t,i),eh(t,o,c),bl(t,o,c,i),Pl(null,t,o,!0,e,i);case 19:return vh(e,t,i);case 22:return ch(e,t,i)}throw Error(n(156,t.tag))};function zh(e,t){return xc(e,t)}function Qg(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,i,o){return new Qg(e,t,i,o)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Kg(e){if(typeof e=="function")return Gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pe)return 11;if(e===ae)return 14}return 2}function Dr(e,t){var i=e.alternate;return i===null?(i=At(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Ra(e,t,i,o,c,f){var g=2;if(o=e,typeof e=="function")Gl(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case E:return dn(i.children,c,f,t);case ee:g=8,c|=8;break;case F:return e=At(12,i,t,c|2),e.elementType=F,e.lanes=f,e;case je:return e=At(13,i,t,c),e.elementType=je,e.lanes=f,e;case re:return e=At(19,i,t,c),e.elementType=re,e.lanes=f,e;case ce:return Aa(i,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:g=10;break e;case J:g=9;break e;case pe:g=11;break e;case ae:g=14;break e;case H:g=16,o=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=At(g,i,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function dn(e,t,i,o){return e=At(7,e,o,t),e.lanes=i,e}function Aa(e,t,i,o){return e=At(22,e,o,t),e.elementType=ce,e.lanes=i,e.stateNode={isHidden:!1},e}function Yl(e,t,i){return e=At(6,e,null,t),e.lanes=i,e}function Jl(e,t,i){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gg(e,t,i,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jo(0),this.expirationTimes=jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jo(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Xl(e,t,i,o,c,f,g,x,k){return e=new Gg(e,t,i,x,k),t===1?(t=1,f===!0&&(t|=8)):t=0,f=At(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},dl(f),e}function Yg(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Bh(e){if(!e)return br;e=e._reactInternals;e:{if(Xr(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(vt(i))return gd(e,i,t)}return t}function Wh(e,t,i,o,c,f,g,x,k){return e=Xl(i,o,!0,e,c,f,g,x,k),e.context=Bh(null),i=e.current,o=dt(),c=Rr(i),f=cr(o,c),f.callback=t??null,Cr(i,f,c),e.current.lanes=c,Rs(e,c,o),xt(e,o),e}function Da(e,t,i,o){var c=t.current,f=dt(),g=Rr(c);return i=Bh(i),t.context===null?t.context=i:t.pendingContext=i,t=cr(f,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Cr(c,t,g),e!==null&&(Bt(e,c,g,f),da(e,c,g)),g}function Ma(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Zl(e,t){qh(e,t),(e=e.alternate)&&qh(e,t)}function Jg(){return null}var Hh=typeof reportError=="function"?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}La.prototype.render=eu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Da(e,t,null,null)},La.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ln(function(){Da(null,e,null,null)}),t[ir]=null}};function La(e){this._internalRoot=e}La.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cc();e={blockedOn:null,target:e,priority:t};for(var i=0;i<xr.length&&t!==0&&t<xr[i].priority;i++);xr.splice(i,0,e),i===0&&Oc(e)}};function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ia(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vh(){}function Xg(e,t,i,o,c){if(c){if(typeof o=="function"){var f=o;o=function(){var R=Ma(g);f.call(R)}}var g=Wh(t,o,e,0,null,!1,!1,"",Vh);return e._reactRootContainer=g,e[ir]=g.current,Vs(e.nodeType===8?e.parentNode:e),ln(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var x=o;o=function(){var R=Ma(k);x.call(R)}}var k=Xl(e,0,!1,null,null,!1,!1,"",Vh);return e._reactRootContainer=k,e[ir]=k.current,Vs(e.nodeType===8?e.parentNode:e),ln(function(){Da(t,k,i,o)}),k}function Ua(e,t,i,o,c){var f=i._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var x=c;c=function(){var k=Ma(g);x.call(k)}}Da(t,g,e,c)}else g=Xg(i,t,e,c,o);return Ma(g)}Ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Os(t.pendingLanes);i!==0&&(bo(t,i|1),xt(t,qe()),(we&6)===0&&(Vn=qe()+500,Er()))}break;case 13:ln(function(){var o=ur(e,1);if(o!==null){var c=dt();Bt(o,e,1,c)}}),Zl(e,1)}},Eo=function(e){if(e.tag===13){var t=ur(e,134217728);if(t!==null){var i=dt();Bt(t,e,134217728,i)}Zl(e,134217728)}},Nc=function(e){if(e.tag===13){var t=Rr(e),i=ur(e,t);if(i!==null){var o=dt();Bt(i,e,t,o)}Zl(e,t)}},Cc=function(){return Ee},Pc=function(e,t){var i=Ee;try{return Ee=e,t()}finally{Ee=i}},yo=function(e,t,i){switch(t){case"input":if(uo(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=ta(o);if(!c)throw Error(n(90));Zu(o),uo(o,c)}}}break;case"textarea":sc(e,i);break;case"select":t=i.value,t!=null&&Sn(e,!!i.multiple,t,!1)}},fc=Vl,pc=ln;var Zg={usingClientEntryPoint:!1,Events:[Gs,An,ta,dc,hc,Vl]},ui={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ev={bundleType:ui.bundleType,version:ui.version,rendererPackageName:ui.rendererPackageName,rendererConfig:ui.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yc(e),e===null?null:e.stateNode},findFiberByHostInstance:ui.findFiberByHostInstance||Jg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Li=$a.inject(ev),Gt=$a}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zg,_t.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tu(t))throw Error(n(200));return Yg(e,t,null,i)},_t.createRoot=function(e,t){if(!tu(e))throw Error(n(299));var i=!1,o="",c=Hh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Xl(e,1,!1,null,null,i,!1,o,c),e[ir]=t.current,Vs(e.nodeType===8?e.parentNode:e),new eu(t)},_t.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=yc(t),e=e===null?null:e.stateNode,e},_t.flushSync=function(e){return ln(e)},_t.hydrate=function(e,t,i){if(!Ia(t))throw Error(n(200));return Ua(null,e,t,!0,i)},_t.hydrateRoot=function(e,t,i){if(!tu(e))throw Error(n(405));var o=i!=null&&i.hydratedSources||null,c=!1,f="",g=Hh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Wh(t,null,e,1,i??null,c,!1,f,g),e[ir]=t.current,Vs(e),o)for(e=0;e<o.length;e++)i=o[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new La(t)},_t.render=function(e,t,i){if(!Ia(t))throw Error(n(200));return Ua(null,e,t,!1,i)},_t.unmountComponentAtNode=function(e){if(!Ia(e))throw Error(n(40));return e._reactRootContainer?(ln(function(){Ua(null,null,e,!1,function(){e._reactRootContainer=null,e[ir]=null})}),!0):!1},_t.unstable_batchedUpdates=Vl,_t.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!Ia(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Ua(e,t,i,!1,o)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var tf;function up(){if(tf)return iu.exports;tf=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),iu.exports=cv(),iu.exports}var rf;function dv(){if(rf)return za;rf=1;var s=up();return za.createRoot=s.createRoot,za.hydrateRoot=s.hydrateRoot,za}var hv=dv();const fv=s=>s instanceof Error?s.message+`
`+s.stack:JSON.stringify(s,null,2);class pv extends lp.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?d.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[d.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),d.jsx("pre",{className:"mt-2 text-sm",children:fv(this.state.error)})]}):this.props.children}}up();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xi(){return xi=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},xi.apply(this,arguments)}var Vr;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(Vr||(Vr={}));const nf="popstate";function mv(s){s===void 0&&(s={});function r(a,l){let{pathname:u,search:h,hash:p}=a.location;return wu("",{pathname:u,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:Ga(l)}return vv(r,n,null,s)}function Ve(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function cp(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function gv(){return Math.random().toString(36).substr(2,8)}function sf(s,r){return{usr:s.state,key:s.key,idx:r}}function wu(s,r,n,a){return n===void 0&&(n=null),xi({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?xs(r):r,{state:n,key:r&&r.key||a||gv()})}function Ga(s){let{pathname:r="/",search:n="",hash:a=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function xs(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substr(a),s=s.substr(0,a)),s&&(r.pathname=s)}return r}function vv(s,r,n,a){a===void 0&&(a={});let{window:l=document.defaultView,v5Compat:u=!1}=a,h=l.history,p=Vr.Pop,m=null,v=y();v==null&&(v=0,h.replaceState(xi({},h.state,{idx:v}),""));function y(){return(h.state||{idx:null}).idx}function w(){p=Vr.Pop;let j=y(),D=j==null?null:j-v;v=j,m&&m({action:p,location:O.location,delta:D})}function _(j,D){p=Vr.Push;let Y=wu(O.location,j,D);v=y()+1;let M=sf(Y,v),$=O.createHref(Y);try{h.pushState(M,"",$)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;l.location.assign($)}u&&m&&m({action:p,location:O.location,delta:1})}function T(j,D){p=Vr.Replace;let Y=wu(O.location,j,D);v=y();let M=sf(Y,v),$=O.createHref(Y);h.replaceState(M,"",$),u&&m&&m({action:p,location:O.location,delta:0})}function N(j){let D=l.location.origin!=="null"?l.location.origin:l.location.href,Y=typeof j=="string"?j:Ga(j);return Y=Y.replace(/ $/,"%20"),Ve(D,"No window.location.(origin|href) available to create URL for href: "+Y),new URL(Y,D)}let O={get action(){return p},get location(){return s(l,h)},listen(j){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(nf,w),m=j,()=>{l.removeEventListener(nf,w),m=null}},createHref(j){return r(l,j)},createURL:N,encodeLocation(j){let D=N(j);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:_,replace:T,go(j){return h.go(j)}};return O}var af;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(af||(af={}));function yv(s,r,n){return n===void 0&&(n="/"),wv(s,r,n)}function wv(s,r,n,a){let l=typeof r=="string"?xs(r):r,u=$u(l.pathname||"/",n);if(u==null)return null;let h=dp(s);xv(h);let p=null;for(let m=0;p==null&&m<h.length;++m){let v=Rv(u);p=Pv(h[m],v)}return p}function dp(s,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let l=(u,h,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};m.relativePath.startsWith("/")&&(Ve(m.relativePath.startsWith(a),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(a.length));let v=Qr([a,m.relativePath]),y=n.concat(m);u.children&&u.children.length>0&&(Ve(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),dp(u.children,r,y,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:Nv(v,u.index),routesMeta:y})};return s.forEach((u,h)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,h);else for(let m of hp(u.path))l(u,h,m)}),r}function hp(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let h=hp(a.join("/")),p=[];return p.push(...h.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...h),p.map(m=>s.startsWith("/")&&m===""?"/":m)}function xv(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:Cv(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const _v=/^:[\w-]+$/,kv=3,Sv=2,jv=1,bv=10,Ev=-2,of=s=>s==="*";function Nv(s,r){let n=s.split("/"),a=n.length;return n.some(of)&&(a+=Ev),r&&(a+=Sv),n.filter(l=>!of(l)).reduce((l,u)=>l+(_v.test(u)?kv:u===""?jv:bv),a)}function Cv(s,r){return s.length===r.length&&s.slice(0,-1).every((a,l)=>a===r[l])?s[s.length-1]-r[r.length-1]:0}function Pv(s,r,n){let{routesMeta:a}=s,l={},u="/",h=[];for(let p=0;p<a.length;++p){let m=a[p],v=p===a.length-1,y=u==="/"?r:r.slice(u.length)||"/",w=Tv({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),_=m.route;if(!w)return null;Object.assign(l,w.params),h.push({params:l,pathname:Qr([u,w.pathname]),pathnameBase:Lv(Qr([u,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(u=Qr([u,w.pathnameBase]))}return h}function Tv(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Ov(s.path,s.caseSensitive,s.end),l=r.match(n);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((v,y,w)=>{let{paramName:_,isOptional:T}=y;if(_==="*"){let O=p[w]||"";h=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const N=p[w];return T&&!N?v[_]=void 0:v[_]=(N||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function Ov(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),cp(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,m)=>(a.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),a]}function Rv(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return cp(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function $u(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Av(s,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?xs(s):s;return{pathname:n?n.startsWith("/")?n:Dv(n,r):r,search:Iv(a),hash:Uv(l)}}function Dv(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function lu(s,r,n,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mv(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Fu(s,r){let n=Mv(s);return r?n.map((a,l)=>l===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function zu(s,r,n,a){a===void 0&&(a=!1);let l;typeof s=="string"?l=xs(s):(l=xi({},s),Ve(!l.pathname||!l.pathname.includes("?"),lu("?","pathname","search",l)),Ve(!l.pathname||!l.pathname.includes("#"),lu("#","pathname","hash",l)),Ve(!l.search||!l.search.includes("#"),lu("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,p;if(h==null)p=n;else{let w=r.length-1;if(!a&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),w-=1;l.pathname=_.join("/")}p=w>=0?r[w]:"/"}let m=Av(l,p),v=h&&h!=="/"&&h.endsWith("/"),y=(u||h===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const Qr=s=>s.join("/").replace(/\/\/+/g,"/"),Lv=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Iv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Uv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function $v(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const fp=["post","put","patch","delete"];new Set(fp);const Fv=["get",...fp];new Set(Fv);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _i(){return _i=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},_i.apply(this,arguments)}const Bu=A.createContext(null),zv=A.createContext(null),Gr=A.createContext(null),ro=A.createContext(null),Yr=A.createContext({outlet:null,matches:[],isDataRoute:!1}),pp=A.createContext(null);function Bv(s,r){let{relative:n}=r===void 0?{}:r;_s()||Ve(!1);let{basename:a,navigator:l}=A.useContext(Gr),{hash:u,pathname:h,search:p}=vp(s,{relative:n}),m=h;return a!=="/"&&(m=h==="/"?a:Qr([a,h])),l.createHref({pathname:m,search:p,hash:u})}function _s(){return A.useContext(ro)!=null}function ks(){return _s()||Ve(!1),A.useContext(ro).location}function mp(s){A.useContext(Gr).static||A.useLayoutEffect(s)}function gp(){let{isDataRoute:s}=A.useContext(Yr);return s?ty():Wv()}function Wv(){_s()||Ve(!1);let s=A.useContext(Bu),{basename:r,future:n,navigator:a}=A.useContext(Gr),{matches:l}=A.useContext(Yr),{pathname:u}=ks(),h=JSON.stringify(Fu(l,n.v7_relativeSplatPath)),p=A.useRef(!1);return mp(()=>{p.current=!0}),A.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){a.go(v);return}let w=zu(v,JSON.parse(h),u,y.relative==="path");s==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Qr([r,w.pathname])),(y.replace?a.replace:a.push)(w,y.state,y)},[r,a,h,u,s])}function vp(s,r){let{relative:n}=r===void 0?{}:r,{future:a}=A.useContext(Gr),{matches:l}=A.useContext(Yr),{pathname:u}=ks(),h=JSON.stringify(Fu(l,a.v7_relativeSplatPath));return A.useMemo(()=>zu(s,JSON.parse(h),u,n==="path"),[s,h,u,n])}function qv(s,r){return Hv(s,r)}function Hv(s,r,n,a){_s()||Ve(!1);let{navigator:l,static:u}=A.useContext(Gr),{matches:h}=A.useContext(Yr),p=h[h.length-1],m=p?p.params:{};p&&p.pathname;let v=p?p.pathnameBase:"/";p&&p.route;let y=ks(),w;if(r){var _;let D=typeof r=="string"?xs(r):r;v==="/"||(_=D.pathname)!=null&&_.startsWith(v)||Ve(!1),w=D}else w=y;let T=w.pathname||"/",N=T;if(v!=="/"){let D=v.replace(/^\//,"").split("/");N="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let O=yv(s,{pathname:N}),j=Yv(O&&O.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:Qr([v,l.encodeLocation?l.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:Qr([v,l.encodeLocation?l.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),h,n,a);return r&&j?A.createElement(ro.Provider,{value:{location:_i({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Vr.Pop}},j):j}function Vv(){let s=ey(),r=$v(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},r),n?A.createElement("pre",{style:l},n):null,null)}const Qv=A.createElement(Vv,null);class Kv extends A.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?A.createElement(Yr.Provider,{value:this.props.routeContext},A.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gv(s){let{routeContext:r,match:n,children:a}=s,l=A.useContext(Bu);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(Yr.Provider,{value:r},a)}function Yv(s,r,n,a){var l;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=a)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,p=(l=n)==null?void 0:l.errors;if(p!=null){let y=h.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);y>=0||Ve(!1),h=h.slice(0,Math.min(h.length,y+1))}let m=!1,v=-1;if(n&&a&&a.v7_partialHydration)for(let y=0;y<h.length;y++){let w=h[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:_,errors:T}=n,N=w.route.loader&&_[w.route.id]===void 0&&(!T||T[w.route.id]===void 0);if(w.route.lazy||N){m=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((y,w,_)=>{let T,N=!1,O=null,j=null;n&&(T=p&&w.route.id?p[w.route.id]:void 0,O=w.route.errorElement||Qv,m&&(v<0&&_===0?(ry("route-fallback"),N=!0,j=null):v===_&&(N=!0,j=w.route.hydrateFallbackElement||null)));let D=r.concat(h.slice(0,_+1)),Y=()=>{let M;return T?M=O:N?M=j:w.route.Component?M=A.createElement(w.route.Component,null):w.route.element?M=w.route.element:M=y,A.createElement(Gv,{match:w,routeContext:{outlet:y,matches:D,isDataRoute:n!=null},children:M})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?A.createElement(Kv,{location:n.location,revalidation:n.revalidation,component:O,error:T,children:Y(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):Y()},null)}var yp=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(yp||{}),wp=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(wp||{});function Jv(s){let r=A.useContext(Bu);return r||Ve(!1),r}function Xv(s){let r=A.useContext(zv);return r||Ve(!1),r}function Zv(s){let r=A.useContext(Yr);return r||Ve(!1),r}function xp(s){let r=Zv(),n=r.matches[r.matches.length-1];return n.route.id||Ve(!1),n.route.id}function ey(){var s;let r=A.useContext(pp),n=Xv(),a=xp();return r!==void 0?r:(s=n.errors)==null?void 0:s[a]}function ty(){let{router:s}=Jv(yp.UseNavigateStable),r=xp(wp.UseNavigateStable),n=A.useRef(!1);return mp(()=>{n.current=!0}),A.useCallback(function(l,u){u===void 0&&(u={}),n.current&&(typeof l=="number"?s.navigate(l):s.navigate(l,_i({fromRouteId:r},u)))},[s,r])}const lf={};function ry(s,r,n){lf[s]||(lf[s]=!0)}function ny(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function qt(s){let{to:r,replace:n,state:a,relative:l}=s;_s()||Ve(!1);let{future:u,static:h}=A.useContext(Gr),{matches:p}=A.useContext(Yr),{pathname:m}=ks(),v=gp(),y=zu(r,Fu(p,u.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(y);return A.useEffect(()=>v(JSON.parse(w),{replace:n,state:a,relative:l}),[v,w,l,n,a]),null}function er(s){Ve(!1)}function sy(s){let{basename:r="/",children:n=null,location:a,navigationType:l=Vr.Pop,navigator:u,static:h=!1,future:p}=s;_s()&&Ve(!1);let m=r.replace(/^\/*/,"/"),v=A.useMemo(()=>({basename:m,navigator:u,static:h,future:_i({v7_relativeSplatPath:!1},p)}),[m,p,u,h]);typeof a=="string"&&(a=xs(a));let{pathname:y="/",search:w="",hash:_="",state:T=null,key:N="default"}=a,O=A.useMemo(()=>{let j=$u(y,m);return j==null?null:{location:{pathname:j,search:w,hash:_,state:T,key:N},navigationType:l}},[m,y,w,_,T,N,l]);return O==null?null:A.createElement(Gr.Provider,{value:v},A.createElement(ro.Provider,{children:n,value:O}))}function iy(s){let{children:r,location:n}=s;return qv(xu(r),n)}new Promise(()=>{});function xu(s,r){r===void 0&&(r=[]);let n=[];return A.Children.forEach(s,(a,l)=>{if(!A.isValidElement(a))return;let u=[...r,l];if(a.type===A.Fragment){n.push.apply(n,xu(a.props.children,u));return}a.type!==er&&Ve(!1),!a.props.index||!a.props.children||Ve(!1);let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=xu(a.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _u(){return _u=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},_u.apply(this,arguments)}function ay(s,r){if(s==null)return{};var n={},a=Object.keys(s),l,u;for(u=0;u<a.length;u++)l=a[u],!(r.indexOf(l)>=0)&&(n[l]=s[l]);return n}function oy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ly(s,r){return s.button===0&&(!r||r==="_self")&&!oy(s)}const uy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cy="6";try{window.__reactRouterVersion=cy}catch{}const dy="startTransition",uf=ov[dy];function hy(s){let{basename:r,children:n,future:a,window:l}=s,u=A.useRef();u.current==null&&(u.current=mv({window:l,v5Compat:!0}));let h=u.current,[p,m]=A.useState({action:h.action,location:h.location}),{v7_startTransition:v}=a||{},y=A.useCallback(w=>{v&&uf?uf(()=>m(w)):m(w)},[m,v]);return A.useLayoutEffect(()=>h.listen(y),[h,y]),A.useEffect(()=>ny(a),[a]),A.createElement(sy,{basename:r,children:n,location:p.location,navigationType:p.action,navigator:h,future:a})}const fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",py=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cf=A.forwardRef(function(r,n){let{onClick:a,relative:l,reloadDocument:u,replace:h,state:p,target:m,to:v,preventScrollReset:y,viewTransition:w}=r,_=ay(r,uy),{basename:T}=A.useContext(Gr),N,O=!1;if(typeof v=="string"&&py.test(v)&&(N=v,fy))try{let M=new URL(window.location.href),$=v.startsWith("//")?new URL(M.protocol+v):new URL(v),I=$u($.pathname,T);$.origin===M.origin&&I!=null?v=I+$.search+$.hash:O=!0}catch{}let j=Bv(v,{relative:l}),D=my(v,{replace:h,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:w});function Y(M){a&&a(M),M.defaultPrevented||D(M)}return A.createElement("a",_u({},_,{href:N||j,onClick:O||u?a:Y,ref:n,target:m}))});var df;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(df||(df={}));var hf;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(hf||(hf={}));function my(s,r){let{target:n,replace:a,state:l,preventScrollReset:u,relative:h,viewTransition:p}=r===void 0?{}:r,m=gp(),v=ks(),y=vp(s,{relative:h});return A.useCallback(w=>{if(ly(w,n)){w.preventDefault();let _=a!==void 0?a:Ga(v)===Ga(y);m(s,{replace:_,state:l,preventScrollReset:u,relative:h,viewTransition:p})}},[v,m,y,a,l,n,s,u,h,p])}var no=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},so=typeof window>"u"||"Deno"in globalThis;function Ht(){}function gy(s,r){return typeof s=="function"?s(r):s}function vy(s){return typeof s=="number"&&s>=0&&s!==1/0}function yy(s,r){return Math.max(s+(r||0)-Date.now(),0)}function ku(s,r){return typeof s=="function"?s(r):s}function wy(s,r){return typeof s=="function"?s(r):s}function ff(s,r){const{type:n="all",exact:a,fetchStatus:l,predicate:u,queryKey:h,stale:p}=s;if(h){if(a){if(r.queryHash!==Wu(h,r.options))return!1}else if(!Si(r.queryKey,h))return!1}if(n!=="all"){const m=r.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof p=="boolean"&&r.isStale()!==p||l&&l!==r.state.fetchStatus||u&&!u(r))}function pf(s,r){const{exact:n,status:a,predicate:l,mutationKey:u}=s;if(u){if(!r.options.mutationKey)return!1;if(n){if(ki(r.options.mutationKey)!==ki(u))return!1}else if(!Si(r.options.mutationKey,u))return!1}return!(a&&r.state.status!==a||l&&!l(r))}function Wu(s,r){return((r==null?void 0:r.queryKeyHashFn)||ki)(s)}function ki(s){return JSON.stringify(s,(r,n)=>Su(n)?Object.keys(n).sort().reduce((a,l)=>(a[l]=n[l],a),{}):n)}function Si(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(n=>Si(s[n],r[n])):!1}function _p(s,r){if(s===r)return s;const n=mf(s)&&mf(r);if(n||Su(s)&&Su(r)){const a=n?s:Object.keys(s),l=a.length,u=n?r:Object.keys(r),h=u.length,p=n?[]:{},m=new Set(a);let v=0;for(let y=0;y<h;y++){const w=n?y:u[y];(!n&&m.has(w)||n)&&s[w]===void 0&&r[w]===void 0?(p[w]=void 0,v++):(p[w]=_p(s[w],r[w]),p[w]===s[w]&&s[w]!==void 0&&v++)}return l===h&&v===l?s:p}return r}function mf(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Su(s){if(!gf(s))return!1;const r=s.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!gf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function gf(s){return Object.prototype.toString.call(s)==="[object Object]"}function xy(s){return new Promise(r=>{setTimeout(r,s)})}function _y(s,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,r):n.structuralSharing!==!1?_p(s,r):r}function ky(s,r,n=0){const a=[...s,r];return n&&a.length>n?a.slice(1):a}function Sy(s,r,n=0){const a=[r,...s];return n&&a.length>n?a.slice(0,-1):a}var qu=Symbol();function kp(s,r){return!s.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!s.queryFn||s.queryFn===qu?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var vn,zr,ls,Zf,jy=(Zf=class extends no{constructor(){super();Se(this,vn);Se(this,zr);Se(this,ls);de(this,ls,r=>{if(!so&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,zr)||this.setEventListener(U(this,ls))}onUnsubscribe(){var r;this.hasListeners()||((r=U(this,zr))==null||r.call(this),de(this,zr,void 0))}setEventListener(r){var n;de(this,ls,r),(n=U(this,zr))==null||n.call(this),de(this,zr,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){U(this,vn)!==r&&(de(this,vn,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof U(this,vn)=="boolean"?U(this,vn):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},vn=new WeakMap,zr=new WeakMap,ls=new WeakMap,Zf),Sp=new jy,us,Br,cs,ep,by=(ep=class extends no{constructor(){super();Se(this,us,!0);Se(this,Br);Se(this,cs);de(this,cs,r=>{if(!so&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){U(this,Br)||this.setEventListener(U(this,cs))}onUnsubscribe(){var r;this.hasListeners()||((r=U(this,Br))==null||r.call(this),de(this,Br,void 0))}setEventListener(r){var n;de(this,cs,r),(n=U(this,Br))==null||n.call(this),de(this,Br,r(this.setOnline.bind(this)))}setOnline(r){U(this,us)!==r&&(de(this,us,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return U(this,us)}},us=new WeakMap,Br=new WeakMap,cs=new WeakMap,ep),Ya=new by;function Ey(){let s,r;const n=new Promise((l,u)=>{s=l,r=u});n.status="pending",n.catch(()=>{});function a(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{a({status:"fulfilled",value:l}),s(l)},n.reject=l=>{a({status:"rejected",reason:l}),r(l)},n}function Ny(s){return Math.min(1e3*2**s,3e4)}function jp(s){return(s??"online")==="online"?Ya.isOnline():!0}var bp=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Ep(s){let r=!1,n=0,a;const l=Ey(),u=()=>l.status!=="pending",h=O=>{var j;u()||(_(new bp(O)),(j=s.abort)==null||j.call(s))},p=()=>{r=!0},m=()=>{r=!1},v=()=>Sp.isFocused()&&(s.networkMode==="always"||Ya.isOnline())&&s.canRun(),y=()=>jp(s.networkMode)&&s.canRun(),w=O=>{u()||(a==null||a(),l.resolve(O))},_=O=>{u()||(a==null||a(),l.reject(O))},T=()=>new Promise(O=>{var j;a=D=>{(u()||v())&&O(D)},(j=s.onPause)==null||j.call(s)}).then(()=>{var O;a=void 0,u()||(O=s.onContinue)==null||O.call(s)}),N=()=>{if(u())return;let O;const j=n===0?s.initialPromise:void 0;try{O=j??s.fn()}catch(D){O=Promise.reject(D)}Promise.resolve(O).then(w).catch(D=>{var G;if(u())return;const Y=s.retry??(so?0:3),M=s.retryDelay??Ny,$=typeof M=="function"?M(n,D):M,I=Y===!0||typeof Y=="number"&&n<Y||typeof Y=="function"&&Y(n,D);if(r||!I){_(D);return}n++,(G=s.onFail)==null||G.call(s,n,D),xy($).then(()=>v()?void 0:T()).then(()=>{r?_(D):N()})})};return{promise:l,status:()=>l.status,cancel:h,continue:()=>(a==null||a(),l),cancelRetry:p,continueRetry:m,canStart:y,start:()=>(y()?N():T().then(N),l)}}var Cy=s=>setTimeout(s,0);function Py(){let s=[],r=0,n=p=>{p()},a=p=>{p()},l=Cy;const u=p=>{r?s.push(p):l(()=>{n(p)})},h=()=>{const p=s;s=[],p.length&&l(()=>{a(()=>{p.forEach(m=>{n(m)})})})};return{batch:p=>{let m;r++;try{m=p()}finally{r--,r||h()}return m},batchCalls:p=>(...m)=>{u(()=>{p(...m)})},schedule:u,setNotifyFunction:p=>{n=p},setBatchNotifyFunction:p=>{a=p},setScheduler:p=>{l=p}}}var mt=Py(),yn,tp,Np=(tp=class{constructor(){Se(this,yn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vy(this.gcTime)&&de(this,yn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(so?1/0:5*60*1e3))}clearGcTimeout(){U(this,yn)&&(clearTimeout(U(this,yn)),de(this,yn,void 0))}},yn=new WeakMap,tp),ds,hs,Dt,wn,rt,Ei,xn,Vt,fr,rp,Ty=(rp=class extends Np{constructor(r){super();Se(this,Vt);Se(this,ds);Se(this,hs);Se(this,Dt);Se(this,wn);Se(this,rt);Se(this,Ei);Se(this,xn);de(this,xn,!1),de(this,Ei,r.defaultOptions),this.setOptions(r.options),this.observers=[],de(this,wn,r.client),de(this,Dt,U(this,wn).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,de(this,ds,Ry(this.options)),this.state=r.state??U(this,ds),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=U(this,rt))==null?void 0:r.promise}setOptions(r){this.options={...U(this,Ei),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Dt).remove(this)}setData(r,n){const a=_y(this.state.data,r,this.options);return ut(this,Vt,fr).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){ut(this,Vt,fr).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,l;const n=(a=U(this,rt))==null?void 0:a.promise;return(l=U(this,rt))==null||l.cancel(r),n?n.then(Ht).catch(Ht):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ds))}isActive(){return this.observers.some(r=>wy(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===qu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>ku(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!yy(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=U(this,rt))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=U(this,rt))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),U(this,Dt).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(U(this,rt)&&(U(this,xn)?U(this,rt).cancel({revert:!0}):U(this,rt).cancelRetry()),this.scheduleGc()),U(this,Dt).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ut(this,Vt,fr).call(this,{type:"invalidate"})}async fetch(r,n){var m,v,y,w,_,T,N,O,j,D,Y,M;if(this.state.fetchStatus!=="idle"&&((m=U(this,rt))==null?void 0:m.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(U(this,rt))return U(this,rt).continueRetry(),U(this,rt).promise}if(r&&this.setOptions(r),!this.options.queryFn){const $=this.observers.find(I=>I.options.queryFn);$&&this.setOptions($.options)}const a=new AbortController,l=$=>{Object.defineProperty($,"signal",{enumerable:!0,get:()=>(de(this,xn,!0),a.signal)})},u=()=>{const $=kp(this.options,n),G=(()=>{const E={client:U(this,wn),queryKey:this.queryKey,meta:this.meta};return l(E),E})();return de(this,xn,!1),this.options.persister?this.options.persister($,G,this):$(G)},p=(()=>{const $={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:U(this,wn),state:this.state,fetchFn:u};return l($),$})();(v=this.options.behavior)==null||v.onFetch(p,this),de(this,hs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=p.fetchOptions)==null?void 0:y.meta))&&ut(this,Vt,fr).call(this,{type:"fetch",meta:(w=p.fetchOptions)==null?void 0:w.meta}),de(this,rt,Ep({initialPromise:n==null?void 0:n.initialPromise,fn:p.fetchFn,abort:a.abort.bind(a),onFail:($,I)=>{ut(this,Vt,fr).call(this,{type:"failed",failureCount:$,error:I})},onPause:()=>{ut(this,Vt,fr).call(this,{type:"pause"})},onContinue:()=>{ut(this,Vt,fr).call(this,{type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay,networkMode:p.options.networkMode,canRun:()=>!0}));try{const $=await U(this,rt).start();if($===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData($),(T=(_=U(this,Dt).config).onSuccess)==null||T.call(_,$,this),(O=(N=U(this,Dt).config).onSettled)==null||O.call(N,$,this.state.error,this),$}catch($){if($ instanceof bp){if($.silent)return U(this,rt).promise;if($.revert){if(this.setState({...U(this,hs),fetchStatus:"idle"}),this.state.data===void 0)throw $;return this.state.data}}throw ut(this,Vt,fr).call(this,{type:"error",error:$}),(D=(j=U(this,Dt).config).onError)==null||D.call(j,$,this),(M=(Y=U(this,Dt).config).onSettled)==null||M.call(Y,this.state.data,$,this),$}finally{this.scheduleGc()}}},ds=new WeakMap,hs=new WeakMap,Dt=new WeakMap,wn=new WeakMap,rt=new WeakMap,Ei=new WeakMap,xn=new WeakMap,Vt=new WeakSet,fr=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Oy(a.data,this.options),fetchMeta:r.meta??null};case"success":const l={...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return de(this,hs,r.manual?l:void 0),l;case"error":const u=r.error;return{...a,error:u,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),mt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),U(this,Dt).notify({query:this,type:"updated",action:r})})},rp);function Oy(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jp(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Ry(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,n=r!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var rr,np,Ay=(np=class extends no{constructor(r={}){super();Se(this,rr);this.config=r,de(this,rr,new Map)}build(r,n,a){const l=n.queryKey,u=n.queryHash??Wu(l,n);let h=this.get(u);return h||(h=new Ty({client:r,queryKey:l,queryHash:u,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(l)}),this.add(h)),h}add(r){U(this,rr).has(r.queryHash)||(U(this,rr).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=U(this,rr).get(r.queryHash);n&&(r.destroy(),n===r&&U(this,rr).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){mt.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return U(this,rr).get(r)}getAll(){return[...U(this,rr).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>ff(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>ff(r,a)):n}notify(r){mt.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){mt.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){mt.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},rr=new WeakMap,np),nr,ft,_n,sr,Ur,sp,Dy=(sp=class extends Np{constructor(r){super();Se(this,sr);Se(this,nr);Se(this,ft);Se(this,_n);this.mutationId=r.mutationId,de(this,ft,r.mutationCache),de(this,nr,[]),this.state=r.state||My(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){U(this,nr).includes(r)||(U(this,nr).push(r),this.clearGcTimeout(),U(this,ft).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){de(this,nr,U(this,nr).filter(n=>n!==r)),this.scheduleGc(),U(this,ft).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){U(this,nr).length||(this.state.status==="pending"?this.scheduleGc():U(this,ft).remove(this))}continue(){var r;return((r=U(this,_n))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var u,h,p,m,v,y,w,_,T,N,O,j,D,Y,M,$,I,G,E,ee;const n=()=>{ut(this,sr,Ur).call(this,{type:"continue"})};de(this,_n,Ep({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(F,L)=>{ut(this,sr,Ur).call(this,{type:"failed",failureCount:F,error:L})},onPause:()=>{ut(this,sr,Ur).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,ft).canRun(this)}));const a=this.state.status==="pending",l=!U(this,_n).canStart();try{if(a)n();else{ut(this,sr,Ur).call(this,{type:"pending",variables:r,isPaused:l}),await((h=(u=U(this,ft).config).onMutate)==null?void 0:h.call(u,r,this));const L=await((m=(p=this.options).onMutate)==null?void 0:m.call(p,r));L!==this.state.context&&ut(this,sr,Ur).call(this,{type:"pending",context:L,variables:r,isPaused:l})}const F=await U(this,_n).start();return await((y=(v=U(this,ft).config).onSuccess)==null?void 0:y.call(v,F,r,this.state.context,this)),await((_=(w=this.options).onSuccess)==null?void 0:_.call(w,F,r,this.state.context)),await((N=(T=U(this,ft).config).onSettled)==null?void 0:N.call(T,F,null,this.state.variables,this.state.context,this)),await((j=(O=this.options).onSettled)==null?void 0:j.call(O,F,null,r,this.state.context)),ut(this,sr,Ur).call(this,{type:"success",data:F}),F}catch(F){try{throw await((Y=(D=U(this,ft).config).onError)==null?void 0:Y.call(D,F,r,this.state.context,this)),await(($=(M=this.options).onError)==null?void 0:$.call(M,F,r,this.state.context)),await((G=(I=U(this,ft).config).onSettled)==null?void 0:G.call(I,void 0,F,this.state.variables,this.state.context,this)),await((ee=(E=this.options).onSettled)==null?void 0:ee.call(E,void 0,F,r,this.state.context)),F}finally{ut(this,sr,Ur).call(this,{type:"error",error:F})}}finally{U(this,ft).runNext(this)}}},nr=new WeakMap,ft=new WeakMap,_n=new WeakMap,sr=new WeakSet,Ur=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),mt.batch(()=>{U(this,nr).forEach(a=>{a.onMutationUpdate(r)}),U(this,ft).notify({mutation:this,type:"updated",action:r})})},sp);function My(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gr,Qt,Ni,ip,Ly=(ip=class extends no{constructor(r={}){super();Se(this,gr);Se(this,Qt);Se(this,Ni);this.config=r,de(this,gr,new Set),de(this,Qt,new Map),de(this,Ni,0)}build(r,n,a){const l=new Dy({mutationCache:this,mutationId:++Fa(this,Ni)._,options:r.defaultMutationOptions(n),state:a});return this.add(l),l}add(r){U(this,gr).add(r);const n=Ba(r);if(typeof n=="string"){const a=U(this,Qt).get(n);a?a.push(r):U(this,Qt).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(U(this,gr).delete(r)){const n=Ba(r);if(typeof n=="string"){const a=U(this,Qt).get(n);if(a)if(a.length>1){const l=a.indexOf(r);l!==-1&&a.splice(l,1)}else a[0]===r&&U(this,Qt).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=Ba(r);if(typeof n=="string"){const a=U(this,Qt).get(n),l=a==null?void 0:a.find(u=>u.state.status==="pending");return!l||l===r}else return!0}runNext(r){var a;const n=Ba(r);if(typeof n=="string"){const l=(a=U(this,Qt).get(n))==null?void 0:a.find(u=>u!==r&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){mt.batch(()=>{U(this,gr).forEach(r=>{this.notify({type:"removed",mutation:r})}),U(this,gr).clear(),U(this,Qt).clear()})}getAll(){return Array.from(U(this,gr))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>pf(n,a))}findAll(r={}){return this.getAll().filter(n=>pf(r,n))}notify(r){mt.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return mt.batch(()=>Promise.all(r.map(n=>n.continue().catch(Ht))))}},gr=new WeakMap,Qt=new WeakMap,Ni=new WeakMap,ip);function Ba(s){var r;return(r=s.options.scope)==null?void 0:r.id}function vf(s){return{onFetch:(r,n)=>{var y,w,_,T,N;const a=r.options,l=(_=(w=(y=r.fetchOptions)==null?void 0:y.meta)==null?void 0:w.fetchMore)==null?void 0:_.direction,u=((T=r.state.data)==null?void 0:T.pages)||[],h=((N=r.state.data)==null?void 0:N.pageParams)||[];let p={pages:[],pageParams:[]},m=0;const v=async()=>{let O=!1;const j=M=>{Object.defineProperty(M,"signal",{enumerable:!0,get:()=>(r.signal.aborted?O=!0:r.signal.addEventListener("abort",()=>{O=!0}),r.signal)})},D=kp(r.options,r.fetchOptions),Y=async(M,$,I)=>{if(O)return Promise.reject();if($==null&&M.pages.length)return Promise.resolve(M);const E=(()=>{const J={client:r.client,queryKey:r.queryKey,pageParam:$,direction:I?"backward":"forward",meta:r.options.meta};return j(J),J})(),ee=await D(E),{maxPages:F}=r.options,L=I?Sy:ky;return{pages:L(M.pages,ee,F),pageParams:L(M.pageParams,$,F)}};if(l&&u.length){const M=l==="backward",$=M?Iy:yf,I={pages:u,pageParams:h},G=$(a,I);p=await Y(I,G,M)}else{const M=s??u.length;do{const $=m===0?h[0]??a.initialPageParam:yf(a,p);if(m>0&&$==null)break;p=await Y(p,$),m++}while(m<M)}return p};r.options.persister?r.fetchFn=()=>{var O,j;return(j=(O=r.options).persister)==null?void 0:j.call(O,v,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=v}}}function yf(s,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?s.getNextPageParam(r[a],r,n[a],n):void 0}function Iy(s,{pages:r,pageParams:n}){var a;return r.length>0?(a=s.getPreviousPageParam)==null?void 0:a.call(s,r[0],r,n[0],n):void 0}var We,Wr,qr,fs,ps,Hr,ms,gs,ap,Uy=(ap=class{constructor(s={}){Se(this,We);Se(this,Wr);Se(this,qr);Se(this,fs);Se(this,ps);Se(this,Hr);Se(this,ms);Se(this,gs);de(this,We,s.queryCache||new Ay),de(this,Wr,s.mutationCache||new Ly),de(this,qr,s.defaultOptions||{}),de(this,fs,new Map),de(this,ps,new Map),de(this,Hr,0)}mount(){Fa(this,Hr)._++,U(this,Hr)===1&&(de(this,ms,Sp.subscribe(async s=>{s&&(await this.resumePausedMutations(),U(this,We).onFocus())})),de(this,gs,Ya.subscribe(async s=>{s&&(await this.resumePausedMutations(),U(this,We).onOnline())})))}unmount(){var s,r;Fa(this,Hr)._--,U(this,Hr)===0&&((s=U(this,ms))==null||s.call(this),de(this,ms,void 0),(r=U(this,gs))==null||r.call(this),de(this,gs,void 0))}isFetching(s){return U(this,We).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return U(this,Wr).findAll({...s,status:"pending"}).length}getQueryData(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=U(this,We).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),n=U(this,We).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(ku(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(s){return U(this,We).findAll(s).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(s,r,n){const a=this.defaultQueryOptions({queryKey:s}),l=U(this,We).get(a.queryHash),u=l==null?void 0:l.state.data,h=gy(r,u);if(h!==void 0)return U(this,We).build(this,a).setData(h,{...n,manual:!0})}setQueriesData(s,r,n){return mt.batch(()=>U(this,We).findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=U(this,We).get(r.queryHash))==null?void 0:n.state}removeQueries(s){const r=U(this,We);mt.batch(()=>{r.findAll(s).forEach(n=>{r.remove(n)})})}resetQueries(s,r){const n=U(this,We);return mt.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const n={revert:!0,...r},a=mt.batch(()=>U(this,We).findAll(s).map(l=>l.cancel(n)));return Promise.all(a).then(Ht).catch(Ht)}invalidateQueries(s,r={}){return mt.batch(()=>(U(this,We).findAll(s).forEach(n=>{n.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},r)))}refetchQueries(s,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=mt.batch(()=>U(this,We).findAll(s).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,n);return n.throwOnError||(u=u.catch(Ht)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(Ht)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const n=U(this,We).build(this,r);return n.isStaleByTime(ku(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(Ht).catch(Ht)}fetchInfiniteQuery(s){return s.behavior=vf(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(Ht).catch(Ht)}ensureInfiniteQueryData(s){return s.behavior=vf(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Ya.isOnline()?U(this,Wr).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,We)}getMutationCache(){return U(this,Wr)}getDefaultOptions(){return U(this,qr)}setDefaultOptions(s){de(this,qr,s)}setQueryDefaults(s,r){U(this,fs).set(ki(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...U(this,fs).values()],n={};return r.forEach(a=>{Si(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,r){U(this,ps).set(ki(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...U(this,ps).values()],n={};return r.forEach(a=>{Si(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const r={...U(this,qr).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=Wu(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===qu&&(r.enabled=!1),r}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...U(this,qr).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){U(this,We).clear(),U(this,Wr).clear()}},We=new WeakMap,Wr=new WeakMap,qr=new WeakMap,fs=new WeakMap,ps=new WeakMap,Hr=new WeakMap,ms=new WeakMap,gs=new WeakMap,ap),$y=A.createContext(void 0),Fy=({client:s,children:r})=>(A.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),d.jsx($y.Provider,{value:s,children:r}));const zy="modulepreload",By=function(s){return"/"+s},wf={},Ci=function(r,n,a){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=Promise.allSettled(n.map(m=>{if(m=By(m),m in wf)return;wf[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":zy,v||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),v)return new Promise((_,T)=>{w.addEventListener("load",_),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})},Wy=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>Ci(async()=>{const{default:a}=await Promise.resolve().then(()=>Ss);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class Hu extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class qy extends Hu{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class xf extends Hu{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class _f extends Hu{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var ju;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(ju||(ju={}));var Hy=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};class Vy{constructor(r,{headers:n={},customFetch:a,region:l=ju.Any}={}){this.url=r,this.headers=n,this.region=l,this.fetch=Wy(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var a;return Hy(this,void 0,void 0,function*(){try{const{headers:l,method:u,body:h}=n;let p={},{region:m}=n;m||(m=this.region);const v=new URL(`${this.url}/${r}`);m&&m!=="any"&&(p["x-region"]=m,v.searchParams.set("forceFunctionRegion",m));let y;h&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(p["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(p["Content-Type"]="application/json",y=JSON.stringify(h)));const w=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:y}).catch(O=>{throw new qy(O)}),_=w.headers.get("x-relay-error");if(_&&_==="true")throw new xf(w);if(!w.ok)throw new _f(w);let T=((a=w.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return T==="application/json"?N=yield w.json():T==="application/octet-stream"?N=yield w.blob():T==="text/event-stream"?N=w:T==="multipart/form-data"?N=yield w.formData():N=yield w.text(),{data:N,error:null,response:w}}catch(l){return{data:null,error:l,response:l instanceof _f||l instanceof xf?l.context:void 0}}})}}var tt={},Kn={},Gn={},Yn={},Jn={},Xn={},Qy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vs=Qy();const Ky=vs.fetch,Cp=vs.fetch.bind(vs),Pp=vs.Headers,Gy=vs.Request,Yy=vs.Response,Ss=Object.freeze(Object.defineProperty({__proto__:null,Headers:Pp,Request:Gy,Response:Yy,default:Cp,fetch:Ky},Symbol.toStringTag,{value:"Module"})),Jy=nv(Ss);var Wa={},kf;function Tp(){if(kf)return Wa;kf=1,Object.defineProperty(Wa,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Wa.default=s,Wa}var Sf;function Op(){if(Sf)return Xn;Sf=1;var s=Xn&&Xn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Xn,"__esModule",{value:!0});const r=s(Jy),n=s(Tp());class a{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,w,_;let T=null,N=null,O=null,j=v.status,D=v.statusText;if(v.ok){if(this.method!=="HEAD"){const I=await v.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=I:N=JSON.parse(I))}const M=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),$=(w=v.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");M&&$&&$.length>1&&(O=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(T={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,O=null,j=406,D="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const M=await v.text();try{T=JSON.parse(M),Array.isArray(T)&&v.status===404&&(N=[],T=null,j=200,D="OK")}catch{v.status===404&&M===""?(j=204,D="No Content"):T={message:M}}if(T&&this.isMaybeSingle&&(!((_=T==null?void 0:T.details)===null||_===void 0)&&_.includes("0 rows"))&&(T=null,j=200,D="OK"),T&&this.shouldThrowOnError)throw new n.default(T)}return{error:T,data:N,count:O,status:j,statusText:D}});return this.shouldThrowOnError||(m=m.catch(v=>{var y,w,_;return{error:{message:`${(y=v==null?void 0:v.name)!==null&&y!==void 0?y:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(w=v==null?void 0:v.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=v==null?void 0:v.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,h)}returns(){return this}overrideTypes(){return this}}return Xn.default=a,Xn}var jf;function Rp(){if(jf)return Jn;jf=1;var s=Jn&&Jn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Jn,"__esModule",{value:!0});const r=s(Op());class n extends r.default{select(l){let u=!1;const h=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:u=!0,nullsFirst:h,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:h,referencedTable:p=h}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:u=!1,settings:h=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var y;const w=[l?"analyze":null,u?"verbose":null,h?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${_}"; options=${w};`,v==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Jn.default=n,Jn}var bf;function Vu(){if(bf)return Yn;bf=1;var s=Yn&&Yn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Yn,"__esModule",{value:!0});const r=s(Rp());class n extends r.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const h=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:h,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(l,u,h){return this.url.searchParams.append(l,`not.${u}.${h}`),this}or(l,{foreignTable:u,referencedTable:h=u}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,u,h){return this.url.searchParams.append(l,`${u}.${h}`),this}}return Yn.default=n,Yn}var Ef;function Ap(){if(Ef)return Gn;Ef=1;var s=Gn&&Gn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Gn,"__esModule",{value:!0});const r=s(Vu());class n{constructor(l,{headers:u={},schema:h,fetch:p}){this.url=l,this.headers=u,this.schema=h,this.fetch=p}select(l,{head:u=!1,count:h}={}){const p=u?"HEAD":"GET";let m=!1;const v=(l??"*").split("").map(y=>/\s/.test(y)&&!m?"":(y==='"'&&(m=!m),y)).join("");return this.url.searchParams.set("select",v),h&&(this.headers.Prefer=`count=${h}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:u,defaultToNull:h=!0}={}){const p="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),h||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(l)){const v=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:u,ignoreDuplicates:h=!1,count:p,defaultToNull:m=!0}={}){const v="POST",y=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&y.push(this.headers.Prefer),p&&y.push(`count=${p}`),m||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const w=l.reduce((_,T)=>_.concat(Object.keys(T)),[]);if(w.length>0){const _=[...new Set(w)].map(T=>`"${T}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:u}={}){const h="PATCH",p=[];return this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),this.headers.Prefer=p.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const u="DELETE",h=[];return l&&h.push(`count=${l}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Gn.default=n,Gn}var di={},hi={},Nf;function Xy(){return Nf||(Nf=1,Object.defineProperty(hi,"__esModule",{value:!0}),hi.version=void 0,hi.version="0.0.0-automated"),hi}var Cf;function Zy(){if(Cf)return di;Cf=1,Object.defineProperty(di,"__esModule",{value:!0}),di.DEFAULT_HEADERS=void 0;const s=Xy();return di.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},di}var Pf;function e0(){if(Pf)return Kn;Pf=1;var s=Kn&&Kn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Kn,"__esModule",{value:!0});const r=s(Ap()),n=s(Vu()),a=Zy();class l{constructor(h,{headers:p={},schema:m,fetch:v}={}){this.url=h,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),p),this.schemaName=m,this.fetch=v}from(h){const p=new URL(`${this.url}/${h}`);return new r.default(p,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new l(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,p={},{head:m=!1,get:v=!1,count:y}={}){let w;const _=new URL(`${this.url}/rpc/${h}`);let T;m||v?(w=m?"HEAD":"GET",Object.entries(p).filter(([O,j])=>j!==void 0).map(([O,j])=>[O,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([O,j])=>{_.searchParams.append(O,j)})):(w="POST",T=p);const N=Object.assign({},this.headers);return y&&(N.Prefer=`count=${y}`),new n.default({method:w,url:_,headers:N,schema:this.schemaName,body:T,fetch:this.fetch,allowEmpty:!1})}}return Kn.default=l,Kn}var Tf;function t0(){if(Tf)return tt;Tf=1;var s=tt&&tt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const r=s(e0());tt.PostgrestClient=r.default;const n=s(Ap());tt.PostgrestQueryBuilder=n.default;const a=s(Vu());tt.PostgrestFilterBuilder=a.default;const l=s(Rp());tt.PostgrestTransformBuilder=l.default;const u=s(Op());tt.PostgrestBuilder=u.default;const h=s(Tp());return tt.PostgrestError=h.default,tt.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:h.default},tt}var r0=t0();const n0=op(r0),{PostgrestClient:s0,PostgrestQueryBuilder:q_,PostgrestFilterBuilder:H_,PostgrestTransformBuilder:V_,PostgrestBuilder:Q_,PostgrestError:K_}=n0;class i0{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const a0="2.15.1",o0=`realtime-js/${a0}`,l0="1.0.0",bu=1e4,u0=1e3,c0=100;var vi;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(vi||(vi={}));var Ye;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Ye||(Ye={}));var Kt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Kt||(Kt={}));var Eu;(function(s){s.websocket="websocket"})(Eu||(Eu={}));var gn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(gn||(gn={}));class d0{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const l=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const p=a.decode(r.slice(h,h+l));h=h+l;const m=a.decode(r.slice(h,h+u));h=h+u;const v=JSON.parse(a.decode(r.slice(h,r.byteLength)));return{ref:null,topic:p,event:m,payload:v}}}class Dp{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Re;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Re||(Re={}));const Of=(s,r,n={})=>{var a;const l=(a=n.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((u,h)=>(u[h]=h0(h,s,r,l),u),{})},h0=(s,r,n,a)=>{const l=r.find(p=>p.name===s),u=l==null?void 0:l.type,h=n[s];return u&&!a.includes(u)?Mp(u,h):Nu(h)},Mp=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return g0(r,n)}switch(s){case Re.bool:return f0(r);case Re.float4:case Re.float8:case Re.int2:case Re.int4:case Re.int8:case Re.numeric:case Re.oid:return p0(r);case Re.json:case Re.jsonb:return m0(r);case Re.timestamp:return v0(r);case Re.abstime:case Re.date:case Re.daterange:case Re.int4range:case Re.int8range:case Re.money:case Re.reltime:case Re.text:case Re.time:case Re.timestamptz:case Re.timetz:case Re.tsrange:case Re.tstzrange:return Nu(r);default:return Nu(r)}},Nu=s=>s,f0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},p0=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},m0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},g0=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let u;const h=s.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(p=>Mp(r,p))}return s},v0=s=>typeof s=="string"?s.replace(" ","T"):s,Lp=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class uu{constructor(r,n,a={},l=bu){this.channel=r,this.event=n,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Rf;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Rf||(Rf={}));class yi{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yi.syncState(this.state,l,u,h),this.pendingDiffs.forEach(m=>{this.state=yi.syncDiff(this.state,m,u,h)}),this.pendingDiffs=[],p()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:h,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=yi.syncDiff(this.state,l,u,h),p())}),this.onJoin((l,u,h)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:h})}),this.onLeave((l,u,h)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,l){const u=this.cloneDeep(r),h=this.transformState(n),p={},m={};return this.map(u,(v,y)=>{h[v]||(m[v]=y)}),this.map(h,(v,y)=>{const w=u[v];if(w){const _=y.map(j=>j.presence_ref),T=w.map(j=>j.presence_ref),N=y.filter(j=>T.indexOf(j.presence_ref)<0),O=w.filter(j=>_.indexOf(j.presence_ref)<0);N.length>0&&(p[v]=N),O.length>0&&(m[v]=O)}else p[v]=y}),this.syncDiff(u,{joins:p,leaves:m},a,l)}static syncDiff(r,n,a,l){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var v;const y=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(m),y.length>0){const w=r[p].map(T=>T.presence_ref),_=y.filter(T=>w.indexOf(T.presence_ref)<0);r[p].unshift(..._)}a(p,y,m)}),this.map(h,(p,m)=>{let v=r[p];if(!v)return;const y=m.map(w=>w.presence_ref);v=v.filter(w=>y.indexOf(w.presence_ref)<0),r[p]=v,l(p,v,m),v.length===0&&delete r[p]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const l=r[a];return"metas"in l?n[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[a]=l,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Af;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Af||(Af={}));var wi;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(wi||(wi={}));var mr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class Qu{constructor(r,n={config:{}},a){this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=Ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new uu(this,Kt.join,this.params,this.timeout),this.rejoinTimer=new Dp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ye.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Kt.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new yi(this),this.broadcastEndpointURL=Lp(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==Ye.closed){const{config:{broadcast:u,presence:h,private:p}}=this.params,m=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&l!==void 0?l:[],v=!!this.bindings[wi.PRESENCE]&&this.bindings[wi.PRESENCE].length>0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>r==null?void 0:r(mr.CHANNEL_ERROR,_)),this._onClose(()=>r==null?void 0:r(mr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var T;if(this.socket.setAuth(),_===void 0){r==null||r(mr.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,O=(T=N==null?void 0:N.length)!==null&&T!==void 0?T:0,j=[];for(let D=0;D<O;D++){const Y=N[D],{filter:{event:M,schema:$,table:I,filter:G}}=Y,E=_&&_[D];if(E&&E.event===M&&E.schema===$&&E.table===I&&E.filter===G)j.push(Object.assign(Object.assign({},Y),{id:E.id}));else{this.unsubscribe(),this.state=Ye.errored,r==null||r(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,r&&r(mr.SUBSCRIBED);return}}).receive("error",_=>{this.state=Ye.errored,r==null||r(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===Ye.joined&&r===wi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,a)}async send(r,n={}){var a,l;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:h}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,p,m;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(h=this.params)===null||h===void 0?void 0:h.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Ye.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Kt.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new uu(this,Kt.leave,{},r),a.receive("ok",()=>{n(),l("ok")}).receive("timeout",()=>{n(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ye.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:l.signal}));return clearTimeout(u),h}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new uu(this,r,n,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>c0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var l,u;const h=r.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Kt;if(a&&[p,m,v,y].indexOf(h)>=0&&a!==this._joinRef())return;let _=this._onMessage(h,n,a);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(T=>{var N,O,j;return((N=T.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(O=T.filter)===null||O===void 0?void 0:O.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===h}).map(T=>T.callback(_,a)):(u=this.bindings[h])===null||u===void 0||u.filter(T=>{var N,O,j,D,Y,M;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in T){const $=T.id,I=(N=T.filter)===null||N===void 0?void 0:N.event;return $&&((O=n.ids)===null||O===void 0?void 0:O.includes($))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const $=(Y=(D=T==null?void 0:T.filter)===null||D===void 0?void 0:D.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase();return $==="*"||$===((M=n==null?void 0:n.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===h}).map(T=>{if(typeof _=="object"&&"ids"in _){const N=_.data,{schema:O,table:j,commit_timestamp:D,type:Y,errors:M}=N;_=Object.assign(Object.assign({},{schema:O,table:j,commit_timestamp:D,eventType:Y,new:{},old:{},errors:M}),this._getPayloadRecords(N))}T.callback(_,a)})}_isClosed(){return this.state===Ye.closed}_isJoined(){return this.state===Ye.joined}_isJoining(){return this.state===Ye.joining}_isLeaving(){return this.state===Ye.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const l=r.toLocaleLowerCase(),u={type:l,filter:n,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&Qu.isEqual(l.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Kt.close,{},r)}_onError(r){this._on(Kt.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ye.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Of(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Of(r.columns,r.old_record)),n}}const Df=()=>{},qa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y0=[1e3,2e3,5e3,1e4],w0=1e4,x0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class _0{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bu,this.transport=null,this.heartbeatIntervalMs=qa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Df,this.ref=0,this.reconnectTimer=null,this.logger=Df,this.conn=null,this.sendBuffer=[],this.serializer=new d0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...h)=>Ci(async()=>{const{default:p}=await Promise.resolve().then(()=>Ss);return{default:p}},void 0).then(({default:p})=>p(...h)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...h)=>u(...h)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${Eu.websocket}`,this.httpEndpoint=Lp(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i0.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l0}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case vi.connecting:return gn.Connecting;case vi.open:return gn.Open;case vi.closing:return gn.Closing;default:return gn.Closed}}isConnected(){return this.connectionState()===gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new Qu(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:a,payload:l,ref:u}=r,h=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${n} ${a} (${u})`,l),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(u0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},qa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:u,ref:h}=n,p=h?`(${h})`:"",m=u.status||"";this.log("receive",`${m} ${a} ${l} ${p}`.trim(),u),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(l,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Kt.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",l=new URLSearchParams(n);return`${r}${a}${l}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([x0],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const l={access_token:n,version:o0};n&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Kt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Dp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,l,u,h,p,m,v;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:bu,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:qa.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r==null?void 0:r.reconnectAfterMs)!==null&&p!==void 0?p:y=>y0[y-1]||w0,this.encode=(m=r==null?void 0:r.encode)!==null&&m!==void 0?m:(y,w)=>w(JSON.stringify(y)),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class Ku extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Je(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class k0 extends Ku{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cu extends Ku{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var S0=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};const Ip=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>Ci(async()=>{const{default:a}=await Promise.resolve().then(()=>Ss);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},j0=()=>S0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ci(()=>Promise.resolve().then(()=>Ss),void 0)).Response:Response}),Pu=s=>{if(Array.isArray(s))return s.map(n=>Pu(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const l=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=Pu(a)}),r},b0=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var kn=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};const cu=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),E0=(s,r,n)=>kn(void 0,void 0,void 0,function*(){const a=yield j0();s instanceof a&&!(n!=null&&n.noResolveJson)?s.json().then(l=>{const u=s.status||500,h=(l==null?void 0:l.statusCode)||u+"";r(new k0(cu(l),u,h))}).catch(l=>{r(new Cu(cu(l),l))}):r(new Cu(cu(s),s))}),N0=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!a?l:(b0(a)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(a)):l.body=a,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),n))};function Pi(s,r,n,a,l,u){return kn(this,void 0,void 0,function*(){return new Promise((h,p)=>{s(n,N0(r,a,l,u)).then(m=>{if(!m.ok)throw m;return a!=null&&a.noResolveJson?m:m.json()}).then(m=>h(m)).catch(m=>E0(m,p,a))})})}function Ja(s,r,n,a){return kn(this,void 0,void 0,function*(){return Pi(s,"GET",r,n,a)})}function tr(s,r,n,a,l){return kn(this,void 0,void 0,function*(){return Pi(s,"POST",r,a,l,n)})}function Tu(s,r,n,a,l){return kn(this,void 0,void 0,function*(){return Pi(s,"PUT",r,a,l,n)})}function C0(s,r,n,a){return kn(this,void 0,void 0,function*(){return Pi(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Up(s,r,n,a,l){return kn(this,void 0,void 0,function*(){return Pi(s,"DELETE",r,a,l,n)})}var ht=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};const P0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T0{constructor(r,n={},a,l){this.url=r,this.headers=n,this.bucketId=a,this.fetch=Ip(l)}uploadOrUpdate(r,n,a,l){return ht(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Mf),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const m=h.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",h.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=a,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const v=this._removeEmptyFolders(n),y=this._getFinalPath(v),w=yield(r=="PUT"?Tu:tr)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:p},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(Je(u))return{data:null,error:u};throw u}})}upload(r,n,a){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,l){return ht(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${h}`);p.searchParams.set("token",n);try{let m;const v=Object.assign({upsert:Mf.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",v.cacheControl)):(m=a,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const w=yield Tu(this.fetch,p.toString(),m,{headers:y});return{data:{path:u,fullPath:w.Key},error:null}}catch(m){if(Je(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,n){return ht(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const l=Object.assign({},this.headers);n!=null&&n.upsert&&(l["x-upsert"]="true");const u=yield tr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),h=new URL(this.url+u.url),p=h.searchParams.get("token");if(!p)throw new Ku("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:p},error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}update(r,n,a){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return ht(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}copy(r,n,a){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUrl(r,n,a){return ht(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield tr(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}createSignedUrls(r,n,a){return ht(this,void 0,void 0,function*(){try{const l=yield tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}download(r,n){return ht(this,void 0,void 0,function*(){const l=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=u?`?${u}`:"";try{const p=this._getFinalPath(r);return{data:yield(yield Ja(this.fetch,`${this.url}/${l}/${p}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(p){if(Je(p))return{data:null,error:p};throw p}})}info(r){return ht(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield Ja(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Pu(a),error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}exists(r){return ht(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield C0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(Je(a)&&a instanceof Cu){const l=a.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),l=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&l.push(u);const p=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${a}${v}`)}}}remove(r){return ht(this,void 0,void 0,function*(){try{return{data:yield Up(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}list(r,n,a){return ht(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},P0),n),{prefix:r||""});return{data:yield tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(Je(l))return{data:null,error:l};throw l}})}listV2(r,n){return ht(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield tr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const O0="2.11.0",R0={"X-Client-Info":`storage-js/${O0}`};var Zn=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};class A0{constructor(r,n={},a,l){const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},R0),n),this.fetch=Ip(a)}listBuckets(){return Zn(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(Je(r))return{data:null,error:r};throw r}})}getBucket(r){return Zn(this,void 0,void 0,function*(){try{return{data:yield Ja(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return Zn(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}updateBucket(r,n){return Zn(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(Je(a))return{data:null,error:a};throw a}})}emptyBucket(r){return Zn(this,void 0,void 0,function*(){try{return{data:yield tr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}deleteBucket(r){return Zn(this,void 0,void 0,function*(){try{return{data:yield Up(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(Je(n))return{data:null,error:n};throw n}})}}class D0 extends A0{constructor(r,n={},a,l){super(r,n,a,l)}from(r){return new T0(this.url,this.headers,r,this.fetch)}}const M0="2.55.0";let gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";const L0={"X-Client-Info":`supabase-js-${gi}/${M0}`},I0={headers:L0},U0={schema:"public"},$0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F0={};var z0=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};const B0=s=>{let r;return s?r=s:typeof fetch>"u"?r=Cp:r=fetch,(...n)=>r(...n)},W0=()=>typeof Headers>"u"?Pp:Headers,q0=(s,r,n)=>{const a=B0(n),l=W0();return(u,h)=>z0(void 0,void 0,void 0,function*(){var p;const m=(p=yield r())!==null&&p!==void 0?p:s;let v=new l(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),a(u,Object.assign(Object.assign({},h),{headers:v}))})};var H0=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};function V0(s){return s.endsWith("/")?s:s+"/"}function Q0(s,r){var n,a;const{db:l,auth:u,realtime:h,global:p}=s,{db:m,auth:v,realtime:y,global:w}=r,_={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},y),h),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(n=w==null?void 0:w.headers)!==null&&n!==void 0?n:{}),(a=p==null?void 0:p.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>H0(this,void 0,void 0,function*(){return""})};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}const $p="2.71.1",as=30*1e3,Ou=3,du=Ou*as,K0="http://localhost:9999",G0="supabase.auth.token",Y0={"X-Client-Info":`gotrue-js/${$p}`},Ru="X-Supabase-Api-Version",Fp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},J0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,X0=10*60*1e3;class Gu extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function he(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Z0 extends Gu{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function ew(s){return he(s)&&s.name==="AuthApiError"}class zp extends Gu{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class Jr extends Gu{constructor(r,n,a,l){super(r,a,l),this.name=n,this.status=a}}class $r extends Jr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tw(s){return he(s)&&s.name==="AuthSessionMissingError"}class Ha extends Jr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Va extends Jr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Qa extends Jr{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rw(s){return he(s)&&s.name==="AuthImplicitGrantRedirectError"}class Lf extends Jr{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Au extends Jr{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function hu(s){return he(s)&&s.name==="AuthRetryableFetchError"}class If extends Jr{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Du extends Jr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uf=` 	
\r=`.split(""),nw=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Uf.length;r+=1)s[Uf[r].charCodeAt(0)]=-2;for(let r=0;r<Xa.length;r+=1)s[Xa[r].charCodeAt(0)]=r;return s})();function $f(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Xa[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(Xa[a]),r.queuedBits-=6}}function Bp(s,r,n){const a=nw[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Ff(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=h=>{aw(h,a,n)};for(let h=0;h<s.length;h+=1)Bp(s.charCodeAt(h),l,u);return r.join("")}function sw(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function iw(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|l)+65536,n+=1}sw(a,r)}}function aw(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function ow(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};for(let l=0;l<s.length;l+=1)Bp(s.charCodeAt(l),n,a);return new Uint8Array(r)}function lw(s){const r=[];return iw(s,n=>r.push(n)),new Uint8Array(r)}function uw(s){const r=[],n={queue:0,queuedBits:0},a=l=>{r.push(l)};return s.forEach(l=>$f(l,n,a)),$f(null,n,a),r.join("")}function cw(s){return Math.round(Date.now()/1e3)+s}function dw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const Wt=()=>typeof window<"u"&&typeof document<"u",hn={tested:!1,writable:!1},Wp=()=>{if(!Wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hn.tested)return hn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),hn.tested=!0,hn.writable=!0}catch{hn.tested=!0,hn.writable=!1}return hn.writable};function hw(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return n.searchParams.forEach((a,l)=>{r[l]=a}),r}const qp=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>Ci(async()=>{const{default:a}=await Promise.resolve().then(()=>Ss);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},fw=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",os=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},fn=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Lr=async(s,r)=>{await s.removeItem(r)};class io{constructor(){this.promise=new io.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}io.promiseConstructor=Promise;function fu(s){const r=s.split(".");if(r.length!==3)throw new Du("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!J0.test(r[a]))throw new Du("JWT not in base64url format");return{header:JSON.parse(Ff(r[0])),payload:JSON.parse(Ff(r[1])),signature:ow(r[2]),raw:{header:r[0],payload:r[1]}}}async function pw(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function mw(s,r){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!r(u,null,h)){a(h);return}}catch(h){if(!r(u,h)){l(h);return}}})()})}function gw(s){return("0"+s.toString(16)).substr(-2)}function vw(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let l="";for(let u=0;u<56;u++)l+=n.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(r),Array.from(r,gw).join("")}async function yw(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function ww(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await yw(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(s,r,n=!1){const a=vw();let l=a;n&&(l+="/PASSWORD_RECOVERY"),await os(s,`${r}-code-verifier`,l);const u=await ww(a);return[u,a===u?"plain":"s256"]}const xw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function _w(s){const r=s.headers.get(Ru);if(!r||!r.match(xw))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function kw(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Sw(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ts(s){if(!jw.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pu(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zf(s){return JSON.parse(JSON.stringify(s))}var bw=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n};const pn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Ew=[502,503,504];async function Bf(s){var r;if(!fw(s))throw new Au(pn(s),0);if(Ew.includes(s.status))throw new Au(pn(s),s.status);let n;try{n=await s.json()}catch(u){throw new zp(pn(u),u)}let a;const l=_w(s);if(l&&l.getTime()>=Fp["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new If(pn(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new $r}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new If(pn(n),s.status,n.weak_password.reasons);throw new Z0(pn(n),s.status||500,a)}const Nw=(s,r,n,a)=>{const l={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),n))};async function ye(s,r,n,a){var l;const u=Object.assign({},a==null?void 0:a.headers);u[Ru]||(u[Ru]=Fp["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const h=(l=a==null?void 0:a.query)!==null&&l!==void 0?l:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const p=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",m=await Cw(s,r,n+p,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(m):{data:Object.assign({},m),error:null}}async function Cw(s,r,n,a,l,u){const h=Nw(r,a,l,u);let p;try{p=await s(n,Object.assign({},h))}catch(m){throw console.error(m),new Au(pn(m),0)}if(p.ok||await Bf(p),a!=null&&a.noResolveJson)return p;try{return await p.json()}catch(m){await Bf(m)}}function pr(s){var r;let n=null;Rw(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=cw(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function Wf(s){const r=pr(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Fr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Pw(s){return{data:s,error:null}}function Tw(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:u}=s,h=bw(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:n,hashed_token:a,redirect_to:l,verification_type:u},m=Object.assign({},h);return{data:{properties:p,user:m},error:null}}function Ow(s){return s}function Rw(s){return s.access_token&&s.refresh_token&&s.expires_in}const mu=["global","local","others"];var Aw=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(s);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(s,a[l])&&(n[a[l]]=s[a[l]]);return n};class Dw{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=qp(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n=mu[0]){if(mu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mu.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Fr})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Aw(r,["options"]),l=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(l.new_email=a==null?void 0:a.newEmail,delete l.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Tw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(he(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Fr})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,l,u,h,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Ow});if(y.error)throw y.error;const w=await y.json(),_=(h=y.headers.get("x-total-count"))!==null&&h!==void 0?h:0,T=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return T.length>0&&(T.forEach(N=>{const O=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);v[`${j}Page`]=O}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(he(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){ts(r);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Fr})}catch(n){if(he(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){ts(r);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Fr})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){ts(r);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Fr})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){ts(r.userId);try{const{data:n,error:a}=await ye(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:n,error:a}}catch(n){if(he(n))return{data:null,error:n};throw n}}async _deleteFactor(r){ts(r.userId),ts(r.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}}function qf(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}function Mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const rs={debug:!!(globalThis&&Wp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hp extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class Lw extends Hp{}async function Iw(s,r,n){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),rs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,l.name);try{return await n()}finally{rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,l.name)}}else{if(r===0)throw rs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new Lw(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(rs.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Mw();const Uw={url:K0,storageKey:G0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Hf(s,r,n){return await n()}const ns={};class ji{constructor(r){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ji.nextInstanceID,ji.nextInstanceID+=1,this.instanceID>0&&Wt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Uw),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Dw({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=qp(l.fetch),this.lock=l.lock||Hf,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:Wt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Iw:this.lock=Hf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Wp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qf(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=qf(this.memoryStorage)),Wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var r,n;return(n=(r=ns[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){ns[this.storageKey]=Object.assign(Object.assign({},ns[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=ns[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ns[this.storageKey]=Object.assign(Object.assign({},ns[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$p}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=hw(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Wt()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(n,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),rw(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",h,"redirect type",p),await this._saveSession(h),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return he(n)?{error:n}:{error:new zp("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,l;try{const u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:pr}),{data:h,error:p}=u;if(p||!h)return{data:{user:null,session:null},error:p};const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,a,l;try{let u;if("email"in r){const{email:y,password:w,options:_}=r;let T=null,N=null;this.flowType==="pkce"&&([T,N]=await es(this.storage,this.storageKey)),u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:w,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:T,code_challenge_method:N},xform:pr})}else if("phone"in r){const{phone:y,password:w,options:_}=r;u=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=_==null?void 0:_.data)!==null&&a!==void 0?a:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:pr})}else throw new Va("You must provide either an email or phone number and a password");const{data:h,error:p}=u;if(p||!h)return{data:{user:null,session:null},error:p};const m=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(he(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:h,options:p}=r;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Wf})}else if("phone"in r){const{phone:u,password:h,options:p}=r;n=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Wf})}else throw new Va("You must provide either an email or phone number and a password");const{data:a,error:l}=n;return l?{data:{user:null,session:null},error:l}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Ha}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;if(n==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(r){var n,a,l,u,h,p,m,v,y,w,_,T;let N,O;if("message"in r)N=r.message,O=r.signature;else{const{chain:j,wallet:D,statement:Y,options:M}=r;let $;if(Wt())if(typeof D=="object")$=D;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))$=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=D}const I=new URL((n=M==null?void 0:M.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const G=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M==null?void 0:M.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),Y?{statement:Y}:null));let E;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")E=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)E=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)N=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),O=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${I.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...Y?["",Y,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(l=(a=M==null?void 0:M.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=M==null?void 0:M.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((h=M==null?void 0:M.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((p=M==null?void 0:M.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((m=M==null?void 0:M.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((v=M==null?void 0:M.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((w=(y=M==null?void 0:M.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...M.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const G=await $.signMessage(new TextEncoder().encode(N),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");O=G}}try{const{data:j,error:D}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:uw(O)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(T=r.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:pr});if(D)throw D;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ha}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:D})}catch(j){if(he(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(r){const n=await fn(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(n??"").split("/");try{const{data:u,error:h}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:pr});if(await Lr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new Ha}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:h})}catch(u){if(he(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:a,token:l,access_token:u,nonce:h}=r,p=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:pr}),{data:m,error:v}=p;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Ha}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:v})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,l,u,h;try{if("email"in r){const{email:p,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await es(this.storage,this.storageKey));const{error:w}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(a=m==null?void 0:m.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:p,options:m}=r,{data:v,error:y}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(h=m==null?void 0:m.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y}}throw new Va("You must provide either an email or phone number.")}catch(p){if(he(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var n,a;try{let l,u;"options"in r&&(l=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:p}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:pr});if(p)throw p;if(!h)throw new Error("An error occurred on token verification.");const m=h.session,v=h.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(l){if(he(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var n,a,l;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await es(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Pw})}catch(u){if(he(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new $r;const{error:l}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:l,options:u}=r,{error:h}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:a,type:l,options:u}=r,{data:h,error:p}=await ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Va("You must provide either an email or phone number and a type")}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<du:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await fn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=pu()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(m,v,y)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,v,y))})}return{data:{session:r},error:null}}const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Fr}):await this._useSession(async n=>{var a,l,u;const{data:h,error:p}=n;if(p)throw p;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=h.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Fr})})}catch(n){if(he(n))return tw(n)&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new $r;const h=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await es(this.storage,this.storageKey));const{data:v,error:y}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:h.access_token,xform:Fr});if(y)throw y;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new $r;const n=Date.now()/1e3;let a=n,l=!0,u=null;const{payload:h}=fu(r.access_token);if(h.exp&&(a=h.exp,l=a<=n),l){const{session:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(he(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:h,error:p}=n;if(p)throw p;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new $r;const{session:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(he(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Wt())throw new Qa("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Qa(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Lf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qa("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Lf("No code detected.");const{data:Y,error:M}=await this._exchangeCodeForSession(r.code);if(M)throw M;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:Y.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:h,expires_in:p,expires_at:m,token_type:v}=r;if(!u||!p||!h||!v)throw new Qa("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(p);let _=y+w;m&&(_=parseInt(m));const T=_-y;T*1e3<=as&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${w}s`);const N=_-w;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,_,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,_,y);const{data:O,error:j}=await this._getUser(u);if(j)throw j;const D={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:_,refresh_token:h,token_type:v,user:O.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:r.type},error:null}}catch(a){if(he(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await fn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:l,error:u}=n;if(u)return{error:u};const h=(a=l.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:p}=await this.admin.signOut(h,r);if(p&&!(ew(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await Lr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=dw(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,l;try{const{data:{session:u},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await es(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(he(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(he(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:a,error:l}=await this._useSession(async u=>{var h,p,m,v,y;const{data:w,error:_}=u;if(_)throw _;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",T,{headers:this.headers,jwt:(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return Wt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(he(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,l;const{data:u,error:h}=n;if(h)throw h;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await mw(async l=>(l>0&&await pw(200*Math.pow(2,l-1)),this._debug(n,"refreshing attempt",l),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:pr})),(l,u)=>{const h=200*Math.pow(2,l);return u&&hu(u)&&Date.now()+h-a<as})}catch(a){if(this._debug(n,"error",a),he(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Wt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await fn(this.storage,this.storageKey);if(l&&this.userStorage){let h=await fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:l.user},await os(this.userStorage,this.storageKey+"-user",h)),l.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:pu()}else if(l&&!l.user&&!l.user){const h=await fn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(l.user=h.user,await Lr(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,l)):l.user=pu()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((n=l.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<du;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${du}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:h}=await this._callRefreshToken(l.refresh_token);h&&(console.error(h),hu(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:p}=await this._getUser(l.access_token);!p&&(h!=null&&h.user)?(l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new io;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new $r;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={session:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),he(u)){const h={session:null,error:u};return hu(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,n,a=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,n)}catch(m){u.push(m)}});if(await Promise.all(h),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await os(this.userStorage,this.storageKey+"-user",{user:n.user});const l=Object.assign({},n);delete l.user;const u=zf(l);await os(this.storage,this.storageKey,u)}else{const l=zf(n);await os(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await Lr(this.storage,this.storageKey),await Lr(this.storage,this.storageKey+"-code-verifier"),await Lr(this.storage,this.storageKey+"-user"),this.userStorage&&await Lr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Wt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),as);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-r)/as);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${as}ms, refresh threshold is ${Ou} ticks`),l<=Ou&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Hp)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Wt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const l=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,h]=await es(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});l.push(p.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:l,error:u}=n;return u?{data:null,error:u}:await ye(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,l;const{data:u,error:h}=n;if(h)return{data:null,error:h};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:m,error:v}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return v?{data:null,error:v}:(r.factorType==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(he(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:p}=await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:p})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:l,error:u}=n;return u?{data:null,error:u}:await ye(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=l==null?void 0:l.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(he(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a=(r==null?void 0:r.factors)||[],l=a.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=a.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:a,totp:l,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,a;const{data:{session:l},error:u}=r;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=fu(l.access_token);let p=null;h.aal&&(p=h.aal);let m=p;((a=(n=l.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(m="aal2");const y=h.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(p=>p.kid===r);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(p=>p.kid===r),a&&this.jwks_cached_at+X0>l)return a;const{data:u,error:h}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(p=>p.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:T,error:N}=await this.getSession();if(N||!T.session)return{data:null,error:N};a=T.session.access_token}const{header:l,payload:u,signature:h,raw:{header:p,payload:m}}=fu(a);n!=null&&n.allowExpired||kw(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:T}=await this.getUser(a);if(T)throw T;return{data:{claims:u,header:l,signature:h},error:null}}const y=Sw(l.alg),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,h,lw(`${p}.${m}`)))throw new Du("Invalid JWT signature");return{data:{claims:u,header:l,signature:h},error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}}}ji.nextInstanceID=0;const $w=ji;class Fw extends $w{constructor(r){super(r)}}var zw=function(s,r,n,a){function l(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function p(y){try{v(a.next(y))}catch(w){h(w)}}function m(y){try{v(a.throw(y))}catch(w){h(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((a=a.apply(s,r||[])).next())})};class Bw{constructor(r,n,a){var l,u,h;if(this.supabaseUrl=r,this.supabaseKey=n,!r)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const p=V0(r),m=new URL(p);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const v=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:U0,realtime:F0,auth:Object.assign(Object.assign({},$0),{storageKey:v}),global:I0},w=Q0(a??{},y);this.storageKey=(l=w.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=w.global.headers)!==null&&u!==void 0?u:{},w.accessToken?(this.accessToken=w.accessToken,this.auth=new Proxy({},{get:(_,T)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(T)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=w.auth)!==null&&h!==void 0?h:{},this.headers,w.global.fetch),this.fetch=q0(n,this._getAccessToken.bind(this),w.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},w.realtime)),this.rest=new s0(new URL("rest/v1",m).href,{headers:this.headers,schema:w.db.schema,fetch:this.fetch}),this.storage=new D0(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),w.accessToken||this._listenForAuthEvents()}get functions(){return new Vy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return zw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:l,storageKey:u,flowType:h,lock:p,debug:m},v,y){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fw({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:l,flowType:h,lock:p,debug:m,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new _0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ww=(s,r,n)=>new Bw(s,r,n);function qw(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}qw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hw="https://ebdjwnldnixdamyiofzw.supabase.co",Vw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImViZGp3bmxkbml4ZGFteWlvZnp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2ODUwNjgsImV4cCI6MjA3MTI2MTA2OH0.YU46yHSZR1fSn3gZ-dQERlsTsXczeYJUKyrcnTSxy0Y",ge=Ww(Hw,Vw),Vp=A.createContext(void 0);function Qw({children:s}){const[r,n]=A.useState(null),[a,l]=A.useState(!0);A.useEffect(()=>{async function v(){try{const{data:{user:w},error:_}=await ge.auth.getUser();if(_||!w){n(null);return}const{data:T,error:N}=await ge.from("users").select("*").eq("email",w.email).maybeSingle();if(N){console.error("Error loading user profile:",N),n(null);return}n(T)}catch(w){console.error("Error in loadUser:",w),n(null)}finally{l(!1)}}v();const{data:{subscription:y}}=ge.auth.onAuthStateChange(async(w,_)=>{if(_!=null&&_.user)try{const{data:T,error:N}=await ge.from("users").select("*").eq("email",_.user.email).maybeSingle();N?(console.error("Error loading user profile in auth listener:",N),n(null)):n(T)}catch(T){console.error("Error in auth state change listener:",T),n(null)}else n(null);l(!1)});return()=>y.unsubscribe()},[]);const u=async(v,y)=>{try{const{data:w,error:_}=await ge.auth.signInWithPassword({email:v.trim(),password:y});if(_)throw console.error("Sign in error:",_),_;return w}catch(w){throw console.error("Sign in error:",w),new Error(w.message||"Login failed. Please check your credentials.")}},h=async()=>{await ge.auth.signOut()},p=(r==null?void 0:r.role)==="super_admin",m=(r==null?void 0:r.role)==="consultant";return d.jsx(Vp.Provider,{value:{user:r,loading:a,signIn:u,signOut:h,isAdmin:p,isConsultant:m},children:s})}function js(){const s=A.useContext(Vp);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Kw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(s,r)=>{const n=A.forwardRef(({color:a="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:p="",children:m,...v},y)=>A.createElement("svg",{ref:y,...Kw,width:l,height:l,stroke:a,strokeWidth:h?Number(u)*24/Number(l):u,className:["lucide",`lucide-${Gw(s)}`,p].join(" "),...v},[...r.map(([w,_])=>A.createElement(w,_)),...Array.isArray(m)?m:[m]]));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Pe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Pe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=Pe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=Pe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=Pe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Pe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=Pe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Pe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=Pe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=Pe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=Pe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=Pe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=Pe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Pe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=Pe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Pe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=Pe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=Pe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=Pe("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Pe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Pe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Pe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Pe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=Pe("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=Pe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Pe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=Pe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=Pe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Jp(s){var r,n,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var l=s.length;for(r=0;r<l;r++)s[r]&&(n=Jp(s[r]))&&(a&&(a+=" "),a+=n)}else for(n in s)s[n]&&(a&&(a+=" "),a+=n);return a}function Ae(){for(var s,r,n=0,a="",l=arguments.length;n<l;n++)(s=arguments[n])&&(r=Jp(s))&&(a&&(a+=" "),a+=r);return a}const Xp=A.createContext(void 0);function ux({children:s}){const[r,n]=A.useState([]),a=v=>{const y=Math.random().toString(36).substring(7),w={...v,id:y};n(T=>[...T,w]);const _=v.duration??5e3;_>0&&setTimeout(()=>{l(y)},_)},l=v=>{n(y=>y.filter(w=>w.id!==v))},u=(v,y)=>{a({type:"success",title:v,message:y})},h=(v,y)=>{a({type:"error",title:v,message:y,duration:7e3})},p=(v,y)=>{a({type:"warning",title:v,message:y})},m=(v,y)=>{a({type:"info",title:v,message:y})};return d.jsxs(Xp.Provider,{value:{notifications:r,addNotification:a,removeNotification:l,success:u,error:h,warning:p,info:m},children:[s,d.jsx(cx,{})]})}function cx(){const{notifications:s,removeNotification:r}=Xu();return d.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.map(n=>d.jsx(dx,{notification:n,onClose:()=>r(n.id)},n.id))})}function dx({notification:s,onClose:r}){const n=()=>{switch(s.type){case"success":return d.jsx(Yu,{className:"h-5 w-5"});case"error":return d.jsx(eo,{className:"h-5 w-5"});case"warning":return d.jsx(Za,{className:"h-5 w-5"});case"info":return d.jsx(ex,{className:"h-5 w-5"})}},a=()=>{switch(s.type){case"success":return"bg-success/10 border-success/20 text-success";case"error":return"bg-destructive/10 border-destructive/20 text-destructive";case"warning":return"bg-orange-50 border-orange-200 text-orange-800";case"info":return"bg-info/10 border-info/20 text-info"}};return d.jsx("div",{className:Ae("modern-card glass-card p-4 border-2 shadow-lg animate-in slide-in-from-right duration-300 max-w-sm",a()),children:d.jsxs("div",{className:"flex items-start space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:n()}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-semibold text-sm",children:s.title}),s.message&&d.jsx("p",{className:"text-sm opacity-90 mt-1",children:s.message})]}),d.jsx("button",{onClick:r,className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity",children:d.jsx(lx,{className:"h-4 w-4"})})]})})}function Xu(){const s=A.useContext(Xp);if(s===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return s}function hx({children:s}){const{user:r,signOut:n,isAdmin:a,isConsultant:l}=js(),u=ks(),h=[{name:"My Timesheets",href:"/consultant/timesheets",icon:bi,show:l,description:"Manage your weekly timesheets"},{name:"Timesheet History",href:"/consultant/history",icon:Mu,show:l,description:"View your submitted timesheets"},{name:"Projects",href:"/admin/projects",icon:Mu,show:a,description:"Manage projects and codes"},{name:"Approvals",href:"/admin/approvals",icon:ax,show:a,description:"Review and approve timesheets"},{name:"Users",href:"/admin/users",icon:ox,show:a,description:"Manage consultant users"},{name:"Settings",href:"/admin/settings",icon:Gp,show:a,description:"Configure rates and system settings"}].filter(m=>m.show),p=m=>u.pathname===m;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[d.jsx("header",{className:"glass-card border-b border-border/50 sticky top-0 z-50",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center h-16",children:[d.jsx("div",{className:"flex items-center space-x-4",children:d.jsx(cf,{to:"/",className:"flex items-center space-x-3",children:d.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"company-logo company-logo-header"})})}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"flex items-center space-x-3 px-4 py-2 rounded-lg bg-card/50 border border-border/50",children:[d.jsx("div",{className:"p-1.5 rounded-full bg-primary/10",children:d.jsx(Iu,{className:"h-4 w-4 text-primary"})}),d.jsxs("div",{className:"hidden sm:block text-right",children:[d.jsx("p",{className:"text-sm font-medium text-foreground",children:r==null?void 0:r.full_name}),d.jsx("p",{className:"text-xs text-muted-foreground",children:(r==null?void 0:r.role)==="super_admin"?"Administrator":"Consultant"})]})]}),d.jsx("button",{onClick:n,className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 group",title:"Sign out",children:d.jsx(rx,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})})]})]})})}),d.jsxs("div",{className:"flex",children:[d.jsx("nav",{className:"w-64 min-h-screen glass-card border-r border-border/50 custom-scrollbar",children:d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"company-logo company-logo-sidebar"})}),d.jsx("div",{className:"space-y-2",children:h.map(m=>{const v=m.icon,y=p(m.href);return d.jsxs(cf,{to:m.href,className:Ae("group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 interactive",{"bg-primary text-primary-foreground shadow-lg shadow-primary/25":y,"text-muted-foreground hover:text-foreground hover:bg-accent/50":!y}),title:m.description,children:[d.jsx(v,{className:Ae("mr-3 h-5 w-5 transition-all duration-200",{"text-primary-foreground":y,"text-muted-foreground group-hover:text-foreground group-hover:scale-110":!y})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"font-medium",children:m.name}),!y&&d.jsx("p",{className:"text-xs text-muted-foreground/70 group-hover:text-muted-foreground transition-colors",children:m.description})]}),y&&d.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})]},m.name)})})]})}),d.jsx("main",{className:"flex-1 overflow-auto custom-scrollbar",children:d.jsx("div",{className:"p-8",children:s})})]})]})}function Ce({className:s,variant:r="primary",size:n="md",loading:a=!1,disabled:l,children:u,icon:h,iconPosition:p="left",...m}){return d.jsxs("button",{className:Ae("modern-button interactive group relative overflow-hidden",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-xl active:shadow-md":r==="primary","variant-secondary bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border shadow-sm hover:shadow-md":r==="secondary","bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-lg hover:shadow-xl active:shadow-md":r==="danger","variant-success bg-success text-white hover:bg-success/90 shadow-lg hover:shadow-xl active:shadow-md":r==="success","hover:bg-accent hover:text-accent-foreground border-2 border-transparent hover:border-accent":r==="ghost","border-2 border-border bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md":r==="outline","h-9 px-4 text-xs gap-1.5":n==="sm","h-12 px-8 text-sm gap-2.5":n==="md","h-14 px-10 text-base gap-3":n==="lg","opacity-50 cursor-not-allowed":l||a},s),disabled:l||a,...m,children:[d.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/10 to-transparent"}),a&&d.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),!a&&h&&p==="left"&&d.jsx("span",{className:"inline-flex",children:h}),u,!a&&h&&p==="right"&&d.jsx("span",{className:"inline-flex",children:h})]})}function Ie({className:s,label:r,error:n,helperText:a,id:l,variant:u="floating",success:h=!1,icon:p,...m}){const v=l||`input-${Math.random().toString(36).substring(7)}`;return u==="floating"&&r?d.jsxs("div",{className:"floating-label-group space-y-1",children:[d.jsxs("div",{className:"relative",children:[p&&d.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground z-20 flex items-center justify-center w-5 h-5",children:p}),d.jsx("input",{id:v,className:Ae("modern-input floating-input peer text-input-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":h,"focus:ring-primary/10 focus:border-primary":!n&&!h,"pl-10":p},s),placeholder:" ",...m}),d.jsx("label",{htmlFor:v,className:Ae("floating-label",{"text-destructive":n,"text-success":h,"peer-focus:text-primary":!n&&!h,"left-10":p}),children:r})]}),n&&d.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),h&&d.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]}):d.jsxs("div",{className:"space-y-1",children:[r&&d.jsx("label",{htmlFor:v,className:"block text-sm font-medium text-foreground mb-2",children:r}),d.jsxs("div",{className:"relative",children:[p&&d.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground z-20 flex items-center justify-center w-5 h-5",children:p}),d.jsx("input",{id:v,className:Ae("modern-input text-input-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":h,"pl-10":p},s),...m})]}),n&&d.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),h&&d.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]})}function fx(){const[s,r]=A.useState(""),[n,a]=A.useState(""),[l,u]=A.useState(!1),[h,p]=A.useState(""),{signIn:m}=js(),v=async y=>{if(y.preventDefault(),!s.trim()||!n){p("Please enter both email and password");return}u(!0),p("");try{await m(s.trim(),n)}catch(w){console.error("Login error:",w),p(w.message||"Login failed. Please check your credentials and try again.")}finally{u(!1)}};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[d.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),d.jsxs("div",{className:"relative max-w-md w-full space-y-8",children:[d.jsxs("div",{className:"modern-card glass-card p-8 space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"flex justify-center mb-6",children:d.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"company-logo company-logo-login"})}),d.jsx("h2",{className:"text-3xl font-bold text-foreground tracking-tight mb-3",children:"Welcome Back"}),d.jsx("p",{className:"text-base text-muted-foreground font-medium",children:"Sign in to manage your timesheets"})]}),d.jsxs("form",{className:"space-y-6",onSubmit:v,children:[h&&d.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-4 animate-in fade-in duration-300",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Za,{className:"h-5 w-5 text-destructive flex-shrink-0"}),d.jsx("p",{className:"text-sm text-destructive font-medium",children:h})]})}),d.jsxs("div",{className:"space-y-6",children:[d.jsx(Ie,{label:"Email address",type:"email",value:s,onChange:y=>{r(y.target.value),p("")},placeholder:" ",required:!0,autoComplete:"email",variant:"floating",className:"premium-focus",icon:d.jsx(nx,{className:"h-4 w-4 text-muted-foreground"})}),d.jsx(Ie,{label:"Password",type:"password",value:n,onChange:y=>{a(y.target.value),p("")},placeholder:" ",required:!0,autoComplete:"current-password",variant:"floating",className:"premium-focus",icon:d.jsx(tx,{className:"h-4 w-4 text-muted-foreground"})})]}),d.jsx("div",{children:d.jsx(Ce,{type:"submit",className:"w-full",size:"lg",loading:l,variant:"primary",children:l?"Signing in...":"Sign in"})}),d.jsx("div",{className:"bg-info/10 border border-info/20 rounded-lg p-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-xs text-info font-medium mb-1",children:"Test Credentials"}),d.jsx("p",{className:"text-xs font-semibold mb-1",children:"Admin User:"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Email: admin@timesheet.com"}),d.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Password: Admin123!"}),d.jsx("p",{className:"text-xs font-semibold mb-1",children:"Consultant User:"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Email: consultant@timesheet.com"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Password: Consultant123!"})]})})]})]}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-muted-foreground",children:"SCHWARZENBERG.TECH Timesheet System"})})]})]})}function kt({className:s,label:r,error:n,helperText:a,options:l,id:u,variant:h="floating",success:p=!1,children:m,...v}){const y=u||`select-${Math.random().toString(36).substring(7)}`;return h==="floating"&&r?d.jsxs("div",{className:"floating-label-group space-y-1",children:[d.jsxs("div",{className:"relative",children:[d.jsxs("select",{id:y,className:Ae("modern-select floating-input peer text-select-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":p,"focus:ring-primary/10 focus:border-primary":!n&&!p},s),...v,children:[d.jsx("option",{value:"",disabled:!0,hidden:!0}),l?l.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value)):m]}),d.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:d.jsx(Lu,{className:"h-4 w-4 text-muted-foreground transition-transform peer-focus:rotate-180"})})]}),d.jsx("label",{htmlFor:y,className:Ae("floating-label",{"text-destructive":n,"text-success":p,"peer-focus:text-primary":!n&&!p}),children:r}),n&&d.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),p&&d.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]}):d.jsxs("div",{className:"space-y-1",children:[r&&d.jsx("label",{htmlFor:y,className:"block text-sm font-medium text-foreground mb-2",children:r}),d.jsxs("div",{className:"relative",children:[d.jsx("select",{id:y,className:Ae("modern-select text-select-value appearance-none",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":p},s),...v,children:l?l.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value)):m}),d.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none",children:d.jsx(Lu,{className:"h-4 w-4 text-muted-foreground"})})]}),n&&d.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&d.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),p&&d.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]})}function Mt(s){const r=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&r==="[object Date]"?new s.constructor(+s):typeof s=="number"||r==="[object Number]"||typeof s=="string"||r==="[object String]"?new Date(s):new Date(NaN)}function Kr(s,r){return s instanceof Date?new s.constructor(r):new Date(r)}function gu(s,r){const n=Mt(s);return isNaN(r)?Kr(s,NaN):(r&&n.setDate(n.getDate()+r),n)}const Zp=6048e5,px=864e5,em=6e4,tm=36e5;let mx={};function oo(){return mx}function ws(s,r){var p,m,v,y;const n=oo(),a=(r==null?void 0:r.weekStartsOn)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,l=Mt(s),u=l.getDay(),h=(u<a?7:0)+u-a;return l.setDate(l.getDate()-h),l.setHours(0,0,0,0),l}function to(s){return ws(s,{weekStartsOn:1})}function rm(s){const r=Mt(s),n=r.getFullYear(),a=Kr(s,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const l=to(a),u=Kr(s,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const h=to(u);return r.getTime()>=l.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function Qf(s){const r=Mt(s);return r.setHours(0,0,0,0),r}function Kf(s){const r=Mt(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function gx(s,r){const n=Qf(s),a=Qf(r),l=+n-Kf(n),u=+a-Kf(a);return Math.round((l-u)/px)}function vx(s){const r=rm(s),n=Kr(s,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),to(n)}function yx(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function wx(s){if(!yx(s)&&typeof s!="number")return!1;const r=Mt(s);return!isNaN(Number(r))}function xx(s){const r=Mt(s),n=Kr(s,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const _x={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kx=(s,r,n)=>{let a;const l=_x[s];return typeof l=="string"?a=l:r===1?a=l.one:a=l.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function vu(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const Sx={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jx={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},bx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ex={date:vu({formats:Sx,defaultWidth:"full"}),time:vu({formats:jx,defaultWidth:"full"}),dateTime:vu({formats:bx,defaultWidth:"full"})},Nx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Cx=(s,r,n,a)=>Nx[s];function fi(s){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let l;if(a==="formatting"&&s.formattingValues){const h=s.defaultFormattingWidth||s.defaultWidth,p=n!=null&&n.width?String(n.width):h;l=s.formattingValues[p]||s.formattingValues[h]}else{const h=s.defaultWidth,p=n!=null&&n.width?String(n.width):s.defaultWidth;l=s.values[p]||s.values[h]}const u=s.argumentCallback?s.argumentCallback(r):r;return l[u]}}const Px={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tx={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ox={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Rx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ax={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Dx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Mx=(s,r)=>{const n=Number(s),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Lx={ordinalNumber:Mx,era:fi({values:Px,defaultWidth:"wide"}),quarter:fi({values:Tx,defaultWidth:"wide",argumentCallback:s=>s-1}),month:fi({values:Ox,defaultWidth:"wide"}),day:fi({values:Rx,defaultWidth:"wide"}),dayPeriod:fi({values:Ax,defaultWidth:"wide",formattingValues:Dx,defaultFormattingWidth:"wide"})};function pi(s){return(r,n={})=>{const a=n.width,l=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],u=r.match(l);if(!u)return null;const h=u[0],p=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],m=Array.isArray(p)?Ux(p,w=>w.test(h)):Ix(p,w=>w.test(h));let v;v=s.valueCallback?s.valueCallback(m):m,v=n.valueCallback?n.valueCallback(v):v;const y=r.slice(h.length);return{value:v,rest:y}}}function Ix(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function Ux(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function $x(s){return(r,n={})=>{const a=r.match(s.matchPattern);if(!a)return null;const l=a[0],u=r.match(s.parsePattern);if(!u)return null;let h=s.valueCallback?s.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const p=r.slice(l.length);return{value:h,rest:p}}}const Fx=/^(\d+)(th|st|nd|rd)?/i,zx=/\d+/i,Bx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Wx={any:[/^b/i,/^(a|c)/i]},qx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hx={any:[/1/i,/2/i,/3/i,/4/i]},Vx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Qx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Jx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xx={ordinalNumber:$x({matchPattern:Fx,parsePattern:zx,valueCallback:s=>parseInt(s,10)}),era:pi({matchPatterns:Bx,defaultMatchWidth:"wide",parsePatterns:Wx,defaultParseWidth:"any"}),quarter:pi({matchPatterns:qx,defaultMatchWidth:"wide",parsePatterns:Hx,defaultParseWidth:"any",valueCallback:s=>s+1}),month:pi({matchPatterns:Vx,defaultMatchWidth:"wide",parsePatterns:Qx,defaultParseWidth:"any"}),day:pi({matchPatterns:Kx,defaultMatchWidth:"wide",parsePatterns:Gx,defaultParseWidth:"any"}),dayPeriod:pi({matchPatterns:Yx,defaultMatchWidth:"any",parsePatterns:Jx,defaultParseWidth:"any"})},Zx={code:"en-US",formatDistance:kx,formatLong:Ex,formatRelative:Cx,localize:Lx,match:Xx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e_(s){const r=Mt(s);return gx(r,xx(r))+1}function t_(s){const r=Mt(s),n=+to(r)-+vx(r);return Math.round(n/Zp)+1}function nm(s,r){var y,w,_,T;const n=Mt(s),a=n.getFullYear(),l=oo(),u=(r==null?void 0:r.firstWeekContainsDate)??((w=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??l.firstWeekContainsDate??((T=(_=l.locale)==null?void 0:_.options)==null?void 0:T.firstWeekContainsDate)??1,h=Kr(s,0);h.setFullYear(a+1,0,u),h.setHours(0,0,0,0);const p=ws(h,r),m=Kr(s,0);m.setFullYear(a,0,u),m.setHours(0,0,0,0);const v=ws(m,r);return n.getTime()>=p.getTime()?a+1:n.getTime()>=v.getTime()?a:a-1}function r_(s,r){var p,m,v,y;const n=oo(),a=(r==null?void 0:r.firstWeekContainsDate)??((m=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??1,l=nm(s,r),u=Kr(s,0);return u.setFullYear(l,0,a),u.setHours(0,0,0,0),ws(u,r)}function n_(s,r){const n=Mt(s),a=+ws(n,r)-+r_(n,r);return Math.round(a/Zp)+1}function Ne(s,r){const n=s<0?"-":"",a=Math.abs(s).toString().padStart(r,"0");return n+a}const Ir={y(s,r){const n=s.getFullYear(),a=n>0?n:1-n;return Ne(r==="yy"?a%100:a,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):Ne(n+1,2)},d(s,r){return Ne(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return Ne(s.getHours()%12||12,r.length)},H(s,r){return Ne(s.getHours(),r.length)},m(s,r){return Ne(s.getMinutes(),r.length)},s(s,r){return Ne(s.getSeconds(),r.length)},S(s,r){const n=r.length,a=s.getMilliseconds(),l=Math.trunc(a*Math.pow(10,n-3));return Ne(l,r.length)}},ss={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gf={G:function(s,r,n){const a=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const a=s.getFullYear(),l=a>0?a:1-a;return n.ordinalNumber(l,{unit:"year"})}return Ir.y(s,r)},Y:function(s,r,n,a){const l=nm(s,a),u=l>0?l:1-l;if(r==="YY"){const h=u%100;return Ne(h,2)}return r==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ne(u,r.length)},R:function(s,r){const n=rm(s);return Ne(n,r.length)},u:function(s,r){const n=s.getFullYear();return Ne(n,r.length)},Q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ne(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ne(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,r,n){const a=s.getMonth();switch(r){case"M":case"MM":return Ir.M(s,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(s,r,n){const a=s.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ne(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(s,r,n,a){const l=n_(s,a);return r==="wo"?n.ordinalNumber(l,{unit:"week"}):Ne(l,r.length)},I:function(s,r,n){const a=t_(s);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Ne(a,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):Ir.d(s,r)},D:function(s,r,n){const a=e_(s);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ne(a,r.length)},E:function(s,r,n){const a=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(s,r,n,a){const l=s.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(u);case"ee":return Ne(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});case"eeee":default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(s,r,n,a){const l=s.getDay(),u=(l-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(u);case"cc":return Ne(u,r.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});case"cccc":default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(s,r,n){const a=s.getDay(),l=a===0?7:a;switch(r){case"i":return String(l);case"ii":return Ne(l,r.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(s,r,n){const l=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},b:function(s,r,n){const a=s.getHours();let l;switch(a===12?l=ss.noon:a===0?l=ss.midnight:l=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(s,r,n){const a=s.getHours();let l;switch(a>=17?l=ss.evening:a>=12?l=ss.afternoon:a>=4?l=ss.morning:l=ss.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let a=s.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ir.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):Ir.H(s,r)},K:function(s,r,n){const a=s.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ne(a,r.length)},k:function(s,r,n){let a=s.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ne(a,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):Ir.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):Ir.s(s,r)},S:function(s,r){return Ir.S(s,r)},X:function(s,r,n){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Jf(a);case"XXXX":case"XX":return mn(a);case"XXXXX":case"XXX":default:return mn(a,":")}},x:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"x":return Jf(a);case"xxxx":case"xx":return mn(a);case"xxxxx":case"xxx":default:return mn(a,":")}},O:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Yf(a,":");case"OOOO":default:return"GMT"+mn(a,":")}},z:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Yf(a,":");case"zzzz":default:return"GMT"+mn(a,":")}},t:function(s,r,n){const a=Math.trunc(s.getTime()/1e3);return Ne(a,r.length)},T:function(s,r,n){const a=s.getTime();return Ne(a,r.length)}};function Yf(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),l=Math.trunc(a/60),u=a%60;return u===0?n+String(l):n+String(l)+r+Ne(u,2)}function Jf(s,r){return s%60===0?(s>0?"-":"+")+Ne(Math.abs(s)/60,2):mn(s,r)}function mn(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),l=Ne(Math.trunc(a/60),2),u=Ne(a%60,2);return n+l+r+u}const Xf=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},sm=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},s_=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],a=n[1],l=n[2];if(!l)return Xf(s,r);let u;switch(a){case"P":u=r.dateTime({width:"short"});break;case"PP":u=r.dateTime({width:"medium"});break;case"PPP":u=r.dateTime({width:"long"});break;case"PPPP":default:u=r.dateTime({width:"full"});break}return u.replace("{{date}}",Xf(a,r)).replace("{{time}}",sm(l,r))},i_={p:sm,P:s_},a_=/^D+$/,o_=/^Y+$/,l_=["D","DD","YY","YYYY"];function u_(s){return a_.test(s)}function c_(s){return o_.test(s)}function d_(s,r,n){const a=h_(s,r,n);if(console.warn(a),l_.includes(s))throw new RangeError(a)}function h_(s,r,n){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m_=/^'([^]*?)'?$/,g_=/''/g,v_=/[a-zA-Z]/;function Le(s,r,n){var y,w,_,T;const a=oo(),l=a.locale??Zx,u=a.firstWeekContainsDate??((w=(y=a.locale)==null?void 0:y.options)==null?void 0:w.firstWeekContainsDate)??1,h=a.weekStartsOn??((T=(_=a.locale)==null?void 0:_.options)==null?void 0:T.weekStartsOn)??0,p=Mt(s);if(!wx(p))throw new RangeError("Invalid time value");let m=r.match(p_).map(N=>{const O=N[0];if(O==="p"||O==="P"){const j=i_[O];return j(N,l.formatLong)}return N}).join("").match(f_).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const O=N[0];if(O==="'")return{isToken:!1,value:y_(N)};if(Gf[O])return{isToken:!0,value:N};if(O.match(v_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return{isToken:!1,value:N}});l.localize.preprocessor&&(m=l.localize.preprocessor(p,m));const v={firstWeekContainsDate:u,weekStartsOn:h,locale:l};return m.map(N=>{if(!N.isToken)return N.value;const O=N.value;(c_(O)||u_(O))&&d_(O,r,String(s));const j=Gf[O[0]];return j(p,O,l.localize,v)}).join("")}function y_(s){const r=s.match(m_);return r?r[1].replace(g_,"'"):s}function pt(s,r){const a=k_(s);let l;if(a.date){const m=S_(a.date,2);l=j_(m.restDateString,m.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);const u=l.getTime();let h=0,p;if(a.time&&(h=b_(a.time),isNaN(h)))return new Date(NaN);if(a.timezone){if(p=E_(a.timezone),isNaN(p))return new Date(NaN)}else{const m=new Date(u+h),v=new Date(0);return v.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),v.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),v}return new Date(u+h+p)}const Ka={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},w_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,x_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,__=/^([+-])(\d{2})(?::?(\d{2}))?$/;function k_(s){const r={},n=s.split(Ka.dateTimeDelimiter);let a;if(n.length>2)return r;if(/:/.test(n[0])?a=n[0]:(r.date=n[0],a=n[1],Ka.timeZoneDelimiter.test(r.date)&&(r.date=s.split(Ka.timeZoneDelimiter)[0],a=s.substr(r.date.length,s.length))),a){const l=Ka.timezone.exec(a);l?(r.time=a.replace(l[1],""),r.timezone=l[1]):r.time=a}return r}function S_(s,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=s.match(n);if(!a)return{year:NaN,restDateString:""};const l=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?l:u*100,restDateString:s.slice((a[1]||a[2]).length)}}function j_(s,r){if(r===null)return new Date(NaN);const n=s.match(w_);if(!n)return new Date(NaN);const a=!!n[4],l=mi(n[1]),u=mi(n[2])-1,h=mi(n[3]),p=mi(n[4]),m=mi(n[5])-1;if(a)return O_(r,p,m)?N_(r,p,m):new Date(NaN);{const v=new Date(0);return!P_(r,u,h)||!T_(r,l)?new Date(NaN):(v.setUTCFullYear(r,u,Math.max(l,h)),v)}}function mi(s){return s?parseInt(s):1}function b_(s){const r=s.match(x_);if(!r)return NaN;const n=yu(r[1]),a=yu(r[2]),l=yu(r[3]);return R_(n,a,l)?n*tm+a*em+l*1e3:NaN}function yu(s){return s&&parseFloat(s.replace(",","."))||0}function E_(s){if(s==="Z")return 0;const r=s.match(__);if(!r)return 0;const n=r[1]==="+"?-1:1,a=parseInt(r[2]),l=r[3]&&parseInt(r[3])||0;return A_(a,l)?n*(a*tm+l*em):NaN}function N_(s,r,n){const a=new Date(0);a.setUTCFullYear(s,0,4);const l=a.getUTCDay()||7,u=(r-1)*7+n+1-l;return a.setUTCDate(a.getUTCDate()+u),a}const C_=[31,null,31,30,31,30,31,31,30,31,30,31];function im(s){return s%400===0||s%4===0&&s%100!==0}function P_(s,r,n){return r>=0&&r<=11&&n>=1&&n<=(C_[r]||(im(s)?29:28))}function T_(s,r){return r>=1&&r<=(im(s)?366:365)}function O_(s,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function R_(s,r,n){return s===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&s>=0&&s<25}function A_(s,r){return r>=0&&r<=59}function D_(){var L,J,pe,je;const{user:s}=js(),[r,n]=A.useState(ws(new Date,{weekStartsOn:1})),[a,l]=A.useState({week:null,dayEntries:{},projectEntries:{},costEntries:{}}),[u,h]=A.useState([]),[p,m]=A.useState(!1),[v,y]=A.useState(!1),[w,_]=A.useState({}),[T,N]=A.useState(!0),O=Array.from({length:7},(re,ae)=>gu(r,ae)),j=Le(r,"yyyy-MM-dd"),D=((L=a.week)==null?void 0:L.status)==="submitted"||((J=a.week)==null?void 0:J.status)==="approved"||((pe=a.week)==null?void 0:pe.status)==="rejected";A.useEffect(()=>{Y()},[]),A.useEffect(()=>{s&&M()},[r,s]),A.useEffect(()=>{if(T&&!D&&!p&&(Object.keys(a.dayEntries).length>0||Object.values(a.dayEntries).some(ae=>ae.time_in||ae.time_out))){const ae=setTimeout(()=>{$()},3e3);return()=>clearTimeout(ae)}},[a,T,D,p]);const Y=async()=>{const{data:re,error:ae}=await ge.from("projects").select(`
        *,
        clients!projects_client_id_fkey(
          name
        )
      `).eq("active",!0).order("name");ae?console.error("Error loading projects:",ae):h(re||[])},M=async()=>{if(s){m(!0);try{const{data:re}=await ge.from("weeks").select("*").eq("user_id",s.id).eq("week_start",j).maybeSingle();let ae=re||{id:null,user_id:s.id,week_start:j,status:"draft",submitted_at:null,approved_at:null,approved_by:null,rejection_reason:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};const H={},ce={},K={};if(O.forEach(W=>{const S=Le(W,"yyyy-MM-dd");H[S]={id:"",week_id:ae.id||"",date:S,time_in:null,time_out:null,status:"active",allowance_amount:0,work_from:null,city:null,country:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},ce[S]=[],K[S]=[]}),ae.id){const{data:W}=await ge.from("day_entries").select("*").eq("week_id",ae.id).order("date");if(W&&W.length>0)for(const S of W){H[S.date]=S;const{data:z}=await ge.from("project_entries").select("*").eq("day_entry_id",S.id);ce[S.date]=z||[];const{data:fe}=await ge.from("cost_entries").select("*").eq("day_entry_id",S.id);K[S.date]=fe||[]}}l({week:ae,dayEntries:H,projectEntries:ce,costEntries:K});const ne={};Object.keys(H).forEach(W=>{const S=H[W];(S!=null&&S.time_in||S!=null&&S.time_out||(S==null?void 0:S.status)!=="active")&&(ne[W]=!0)}),_(ne)}catch(re){console.error("Error loading week data:",re)}finally{m(!1)}}},$=async()=>{if(!(!s||D||p)){y(!0);try{let re=a.week;if(!re){const{data:ae,error:H}=await ge.from("weeks").insert({user_id:s.id,week_start:j,status:"draft"}).select().single();if(H)throw H;re=ae,l(ce=>({...ce,week:re}))}for(const[ae,H]of Object.entries(a.dayEntries))if(H.time_in||H.time_out||H.status!=="active"||H.work_from||H.city||H.country)if(H.id){const{error:K}=await ge.from("day_entries").update({time_in:H.time_in,time_out:H.time_out,status:H.status,allowance_amount:H.allowance_amount,work_from:H.work_from,city:H.city,country:H.country}).eq("id",H.id);if(K)throw K}else{const{data:K,error:ne}=await ge.from("day_entries").insert({week_id:re.id,date:ae,time_in:H.time_in,time_out:H.time_out,status:H.status||"active",allowance_amount:H.allowance_amount||0,work_from:H.work_from,city:H.city,country:H.country}).select().single();if(ne)throw ne;l(W=>({...W,dayEntries:{...W.dayEntries,[ae]:K}}))}console.log("Timesheet saved successfully")}catch(re){console.error("Error saving timesheet:",re)}finally{y(!1)}}},I=(re,ae,H)=>{l(ce=>({...ce,dayEntries:{...ce.dayEntries,[re]:{...ce.dayEntries[re]||{id:"",week_id:"",date:re,time_in:null,time_out:null,status:"active",allowance_amount:0,work_from:null,city:null,country:null,created_at:"",updated_at:""},[ae]:H}}}))},G=re=>{_(ae=>({...ae,[re]:!ae[re]}))},E=re=>{n(ae=>re==="prev"?gu(ae,-7):gu(ae,7))},ee=re=>{D||(O.slice(0,5).forEach(ae=>{const H=Le(ae,"yyyy-MM-dd");I(H,"time_in","08:00"),I(H,"time_out","18:00"),I(H,"status","active"),_(ce=>({...ce,[H]:!0}))}),setTimeout(()=>{$()},500))},F=async()=>{if(a.week)try{await ge.from("weeks").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("id",a.week.id),M()}catch(re){console.error("Error submitting week:",re)}};return d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>E("prev"),className:"p-2 hover:bg-accent/50",children:d.jsx(Yw,{className:"h-5 w-5"})}),d.jsxs("div",{className:"text-center",children:[d.jsxs("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:["Week of ",Le(r,"MMM d, yyyy")]}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Le(r,"yyyy"),"  Week ",Le(r,"w")]})]}),d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>E("next"),className:"p-2 hover:bg-accent/50",children:d.jsx(Jw,{className:"h-5 w-5"})})]}),a.week&&d.jsx("div",{className:Ae("px-3 py-1.5 text-xs font-semibold rounded-full border-2",{"bg-muted/50 text-muted-foreground border-muted":a.week.status==="draft","bg-info/10 text-info border-info/20":a.week.status==="submitted","bg-success/10 text-success border-success/20":a.week.status==="approved","bg-destructive/10 text-destructive border-destructive/20":a.week.status==="rejected"}),children:a.week.status.charAt(0).toUpperCase()+a.week.status.slice(1)})]}),d.jsx("div",{className:"flex items-center space-x-3",children:!D&&d.jsxs(d.Fragment,{children:[d.jsx(Ce,{variant:"secondary",size:"sm",onClick:()=>ee(),icon:d.jsx(bi,{className:"h-4 w-4"}),className:"shadow-sm",children:"Mon-Fri 8-18"}),d.jsx(Ce,{variant:"primary",onClick:$,loading:v,disabled:D||p,icon:d.jsx(Kp,{className:"h-4 w-4"}),className:"shadow-lg",children:v?"Saving...":"Save"}),((je=a.week)==null?void 0:je.status)==="draft"&&d.jsx(Ce,{variant:"success",onClick:F,className:"shadow-lg",children:"Submit Week"})]})})]}),d.jsx("div",{className:"modern-card glass-card overflow-hidden",children:d.jsx("div",{className:"p-6",children:p?d.jsx("div",{className:"text-center py-12",children:d.jsxs("div",{className:"inline-flex items-center space-x-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),d.jsx("p",{className:"text-muted-foreground font-medium",children:"Loading timesheet..."})]})}):d.jsx("div",{className:"space-y-3",children:O.map(re=>{const ae=Le(re,"yyyy-MM-dd"),H=a.dayEntries[ae],ce=w[ae],K=H&&(H.time_in||H.time_out),ne=re.getDay()===0||re.getDay()===6;return d.jsxs("div",{className:Ae("border rounded-xl overflow-hidden transition-all duration-200",{"border-border bg-card":!ne,"border-muted bg-muted/30":ne,"shadow-md":ce,"hover:shadow-sm":!ce}),children:[d.jsxs("div",{className:"flex items-center justify-between p-4 cursor-pointer hover:bg-accent/30 transition-colors duration-200 active:bg-accent/50 interactive",onClick:()=>G(ae),role:"button",tabIndex:0,onKeyDown:W=>{(W.key==="Enter"||W.key===" ")&&(W.preventDefault(),G(ae))},children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsxs("div",{className:"w-24",children:[d.jsx("div",{className:Ae("font-semibold text-lg",{"text-foreground":!ne,"text-muted-foreground":ne}),children:Le(re,"EEE")}),d.jsx("div",{className:Ae("text-sm",{"text-muted-foreground":!ne,"text-muted-foreground/70":ne}),children:Le(re,"MMM d")})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Ie,{type:"time",value:(H==null?void 0:H.time_in)||"",onChange:W=>{I(ae,"time_in",W.target.value),W.target.value&&!ce&&_(S=>({...S,[ae]:!0}))},className:"w-28 premium-focus",disabled:D,onClick:W=>W.stopPropagation()}),d.jsx("span",{className:"text-muted-foreground font-medium",children:"to"}),d.jsx(Ie,{type:"time",value:(H==null?void 0:H.time_out)||"",onChange:W=>{I(ae,"time_out",W.target.value),W.target.value&&!ce&&_(S=>({...S,[ae]:!0}))},className:"w-28 premium-focus",disabled:D,onClick:W=>W.stopPropagation()}),d.jsx(kt,{value:(H==null?void 0:H.status)||"active",onChange:W=>{I(ae,"status",W.target.value),ce||_(S=>({...S,[ae]:!0}))},className:"w-36 premium-focus",disabled:D,onClick:W=>W.stopPropagation(),options:[{value:"active",label:"Active"},{value:"day_off",label:"Day Off"},{value:"vacation",label:"Vacation"},{value:"travel",label:"Travel"}]})]})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[K&&d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-sm font-semibold text-primary",children:(H==null?void 0:H.time_in)&&(H==null?void 0:H.time_out)&&`${Math.abs(new Date(`1970-01-01T${H.time_out}:00`).getTime()-new Date(`1970-01-01T${H.time_in}:00`).getTime())/(1e3*60*60)}h`}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"hours"})]}),d.jsx("div",{className:Ae("transition-transform duration-200",{"rotate-180":ce}),children:d.jsx(Lu,{className:"h-5 w-5 text-muted-foreground"})})]})]}),ce&&d.jsxs("div",{className:"border-t border-border/50 bg-card/50 p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsx(Ie,{label:"Work From",value:(H==null?void 0:H.work_from)||"",onChange:W=>I(ae,"work_from",W.target.value),placeholder:"e.g., Office, Home, Client Site",disabled:D,variant:"floating"}),d.jsx(Ie,{label:"City",value:(H==null?void 0:H.city)||"",onChange:W=>I(ae,"city",W.target.value),placeholder:"Enter city",disabled:D,variant:"floating"}),d.jsx(Ie,{label:"Country",value:(H==null?void 0:H.country)||"",onChange:W=>I(ae,"country",W.target.value),placeholder:"Enter country",disabled:D,variant:"floating"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Project Work"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Track your project activities for this day"})]}),!D&&d.jsxs(Ce,{size:"sm",variant:"outline",className:"interactive",children:[d.jsx(ys,{className:"h-4 w-4 mr-1"}),"Add Project"]})]}),d.jsx("div",{className:"bg-muted/30 rounded-lg p-6 text-center border border-dashed border-muted",children:d.jsxs("div",{className:"text-muted-foreground",children:[d.jsx(Mu,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm font-medium mb-1",children:"No project entries yet"}),d.jsx("p",{className:"text-xs",children:'Click "Add Project" to start tracking your work'})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Travel & Expenses"}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Log your business expenses for this day"})]}),!D&&d.jsxs(Ce,{size:"sm",variant:"outline",className:"interactive",children:[d.jsx(ys,{className:"h-4 w-4 mr-1"}),"Add Expense"]})]}),d.jsx("div",{className:"bg-muted/30 rounded-lg p-6 text-center border border-dashed border-muted",children:d.jsxs("div",{className:"text-muted-foreground",children:[d.jsx(bi,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),d.jsx("p",{className:"text-sm font-medium mb-1",children:"No expenses recorded"}),d.jsx("p",{className:"text-xs",children:"Add travel costs, meals, or other business expenses"})]})})]}),d.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border/30",children:[d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Daily summary for ",Le(re,"EEEE, MMMM d")]}),d.jsxs("div",{className:"text-sm font-semibold",children:[d.jsx("span",{className:"text-muted-foreground",children:"Daily Allowance: "}),d.jsx("span",{className:Ae("font-bold",{"text-success":(H==null?void 0:H.allowance_amount)&&H.allowance_amount>0,"text-muted-foreground":!(H!=null&&H.allowance_amount)||H.allowance_amount===0}),children:H!=null&&H.allowance_amount?`$${H.allowance_amount.toFixed(2)}`:"$0.00"})]})]})]})]},ae)})})})})]})})}function M_(){var G;const{user:s}=js(),[r,n]=A.useState([]),[a,l]=A.useState(!0),[u,h]=A.useState(""),[p,m]=A.useState("all"),[v,y]=A.useState("all"),[w,_]=A.useState(null),[T,N]=A.useState(!1),[O,j]=A.useState(null);A.useEffect(()=>{s&&D()},[s]);const D=async()=>{if(s){l(!0);try{const{data:E,error:ee}=await ge.from("weeks").select("*").eq("user_id",s.id).order("week_start",{ascending:!1});if(ee)throw ee;const F=await Promise.all((E||[]).map(async L=>{const{data:J}=await ge.from("day_entries").select("*").eq("week_id",L.id);let pe=0,je=0;return J&&J.forEach(re=>{if(re.time_in&&re.time_out){const ae=new Date(`2000-01-01T${re.time_in}`),ce=(new Date(`2000-01-01T${re.time_out}`).getTime()-ae.getTime())/(1e3*60*60);pe+=ce,je+=1}}),{...L,total_hours:pe,total_days:je}}));n(F)}catch(E){console.error("Error loading timesheet history:",E)}finally{l(!1)}}},Y=async E=>{try{const{data:ee}=await ge.from("day_entries").select(`
          *,
          project_entries (*),
          cost_entries (*)
        `).eq("week_id",E.id).order("date");j(ee),_(E),N(!0)}catch(ee){console.error("Error loading week details:",ee)}},M=E=>{switch(E){case"draft":return d.jsx(Za,{className:"h-4 w-4"});case"submitted":return d.jsx(bi,{className:"h-4 w-4"});case"approved":return d.jsx(Yu,{className:"h-4 w-4"});case"rejected":return d.jsx(eo,{className:"h-4 w-4"});default:return d.jsx(Za,{className:"h-4 w-4"})}},$=E=>{switch(E){case"draft":return"bg-muted/50 text-muted-foreground border-muted";case"submitted":return"bg-info/10 text-info border-info/20";case"approved":return"bg-success/10 text-success border-success/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground border-muted"}},I=r.filter(E=>{const ee=Le(pt(E.week_start),"MMM d, yyyy").toLowerCase().includes(u.toLowerCase()),F=p==="all"||E.status===p;let L=!0;if(v!=="all"){const J=pt(E.week_start),pe=new Date;switch(v){case"current_month":L=J.getMonth()===pe.getMonth()&&J.getFullYear()===pe.getFullYear();break;case"last_month":const je=new Date(pe.getFullYear(),pe.getMonth()-1);L=J.getMonth()===je.getMonth()&&J.getFullYear()===je.getFullYear();break;case"last_3_months":const re=new Date(pe.getFullYear(),pe.getMonth()-3);L=J>=re;break}}return ee&&F&&L});return d.jsxs("div",{className:"space-y-8",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Timesheet History"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"View your submitted timesheets and their approval status"})]})}),d.jsx("div",{className:"modern-card glass-card p-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(Ie,{placeholder:"Search by week...",value:u,onChange:E=>h(E.target.value),icon:d.jsx(ao,{className:"h-4 w-4"})}),d.jsx(kt,{value:p,onChange:E=>m(E.target.value),options:[{value:"all",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"submitted",label:"Submitted"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}]}),d.jsx(kt,{value:v,onChange:E=>y(E.target.value),options:[{value:"all",label:"All Time"},{value:"current_month",label:"Current Month"},{value:"last_month",label:"Last Month"},{value:"last_3_months",label:"Last 3 Months"}]})]})}),d.jsx("div",{className:"modern-card glass-card overflow-hidden",children:a?d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading timesheet history..."})]}):d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-accent/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Week"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Total Hours"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Days Worked"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Submitted"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Comments"}),d.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-border",children:I.map(E=>{var ee;return d.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Vf,{className:"h-4 w-4 text-muted-foreground"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:Le(pt(E.week_start),"MMM d, yyyy")}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Week ",Le(pt(E.week_start),"w")]})]})]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("span",{className:"font-medium text-foreground",children:[((ee=E.total_hours)==null?void 0:ee.toFixed(1))||"0"," hours"]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("span",{className:"text-foreground",children:[E.total_days||0," days"]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{className:"flex items-center space-x-2",children:d.jsxs("span",{className:Ae("flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border-2",$(E.status)),children:[M(E.status),d.jsx("span",{children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})]})})}),d.jsx("td",{className:"px-6 py-4",children:E.submitted_at?d.jsxs("div",{children:[d.jsx("p",{className:"text-foreground",children:Le(pt(E.submitted_at),"MMM d, yyyy")}),d.jsx("p",{className:"text-sm text-muted-foreground",children:Le(pt(E.submitted_at),"h:mm a")})]}):d.jsx("span",{className:"text-muted-foreground",children:"Not submitted"})}),d.jsx("td",{className:"px-6 py-4",children:E.rejection_reason?d.jsx("div",{className:"max-w-xs",children:d.jsx("p",{className:"text-sm text-destructive truncate",title:E.rejection_reason,children:E.rejection_reason})}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"No comments"})}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>Y(E),icon:d.jsx(Xw,{className:"h-4 w-4"}),children:"View Details"})})]},E.id)})})]}),I.length===0&&d.jsxs("div",{className:"p-8 text-center",children:[d.jsx(Vf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:r.length===0?"No timesheets found":"No timesheets match the current filters"})]})]})}),T&&w&&O&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsx("div",{className:"modern-card glass-card w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Week of ",Le(pt(w.week_start),"MMM d, yyyy")]}),d.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[d.jsxs("span",{className:Ae("flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border-2",$(w.status)),children:[M(w.status),d.jsx("span",{children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total: ",(G=w.total_hours)==null?void 0:G.toFixed(1)," hours"]})]})]}),d.jsx(Ce,{variant:"ghost",onClick:()=>{N(!1),_(null),j(null)},className:"text-muted-foreground hover:text-foreground",children:""})]}),d.jsx("div",{className:"space-y-3",children:O.map(E=>{const ee=pt(E.date),F=E.time_in&&E.time_out?((new Date(`2000-01-01T${E.time_out}`).getTime()-new Date(`2000-01-01T${E.time_in}`).getTime())/(1e3*60*60)).toFixed(1):"0";return d.jsx("div",{className:"border border-border rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"w-20",children:[d.jsx("p",{className:"font-semibold text-foreground",children:Le(ee,"EEE")}),d.jsx("p",{className:"text-sm text-muted-foreground",children:Le(ee,"MMM d")})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("span",{className:"text-sm",children:[E.time_in||"--:--"," to ",E.time_out||"--:--"]}),d.jsxs("span",{className:"font-medium",children:[F," hours"]}),d.jsx("span",{className:Ae("px-2 py-1 rounded text-xs",{"bg-success/10 text-success":E.status==="active","bg-info/10 text-info":E.status==="travel","bg-orange-100 text-orange-700":E.status==="vacation","bg-muted text-muted-foreground":E.status==="day_off"}),children:E.status.replace("_"," ").toUpperCase()})]})]}),(E.work_from||E.city||E.country)&&d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:E.work_from&&`Work from: ${E.work_from}`}),(E.city||E.country)&&d.jsx("p",{className:"text-sm text-muted-foreground",children:[E.city,E.country].filter(Boolean).join(", ")})]})]})},E.id)})}),w.rejection_reason&&d.jsxs("div",{className:"mt-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[d.jsx("h4",{className:"font-semibold text-destructive mb-2",children:"Rejection Comments"}),d.jsx("p",{className:"text-sm text-destructive",children:w.rejection_reason})]})]})})})]})}function L_(){const[s,r]=A.useState([]),[n,a]=A.useState([]),[l,u]=A.useState(!0),[h,p]=A.useState(""),[m,v]=A.useState("all"),[y,w]=A.useState(!1),[_,T]=A.useState(null),[N,O]=A.useState({name:"",code:"",client_id:"",billing_type:"TNM",hourly_rate:"",budget:"",description:"",active:!0});A.useEffect(()=>{j(),D()},[]);const j=async()=>{u(!0);try{const{data:E,error:ee}=await ge.from("projects").select(`
          *,
          clients!projects_client_id_fkey(
            id,
            name
          )
        `).order("name");if(ee)throw ee;r(E||[])}catch(E){console.error("Error loading projects:",E)}finally{u(!1)}},D=async()=>{try{const{data:E,error:ee}=await ge.from("clients").select("*").eq("active",!0).order("name");if(ee)throw ee;a(E||[])}catch(E){console.error("Error loading clients:",E)}},Y=async E=>{E.preventDefault();try{const ee={name:N.name,code:N.code,client_id:N.client_id,billing_type:N.billing_type,hourly_rate:N.hourly_rate?parseFloat(N.hourly_rate):null,budget:N.budget?parseFloat(N.budget):null,description:N.description||null,active:N.active};if(_){const{error:F}=await ge.from("projects").update(ee).eq("id",_.id);if(F)throw F}else{const{error:F}=await ge.from("projects").insert(ee);if(F)throw F}I(),j()}catch(ee){console.error("Error saving project:",ee),alert(ee.message||"Error saving project")}},M=E=>{var ee,F;T(E),O({name:E.name,code:E.code,client_id:E.client_id||"",billing_type:E.billing_type||"time_and_material",hourly_rate:((ee=E.hourly_rate)==null?void 0:ee.toString())||"",budget:((F=E.budget_amount)==null?void 0:F.toString())||"",description:"",active:E.active}),w(!0)},$=async E=>{if(confirm(`Are you sure you want to delete project "${E.name}"?`))try{const{error:ee}=await ge.from("projects").delete().eq("id",E.id);if(ee)throw ee;j()}catch(ee){console.error("Error deleting project:",ee),alert(ee.message||"Error deleting project")}},I=()=>{O({name:"",code:"",client_id:"",billing_type:"time_and_material",hourly_rate:"",budget:"",description:"",active:!0}),T(null),w(!1)},G=s.filter(E=>{const ee=E.name.toLowerCase().includes(h.toLowerCase())||E.code.toLowerCase().includes(h.toLowerCase()),F=m==="all"||m==="active"&&E.active||m==="inactive"&&!E.active;return ee&&F});return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Projects Management"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage project codes, billing types, and rates"})]}),d.jsx(Ce,{onClick:()=>w(!0),icon:d.jsx(ys,{className:"h-4 w-4"}),variant:"primary",className:"shadow-lg",children:"New Project"})]}),d.jsx("div",{className:"modern-card glass-card p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(Ie,{placeholder:"Search projects...",value:h,onChange:E=>p(E.target.value),icon:d.jsx(ao,{className:"h-4 w-4"}),className:"max-w-sm"})}),d.jsx(kt,{value:m,onChange:E=>v(E.target.value),options:[{value:"all",label:"All Projects"},{value:"active",label:"Active Only"},{value:"inactive",label:"Inactive Only"}],className:"w-40"})]})}),d.jsx("div",{className:"modern-card glass-card overflow-hidden",children:l?d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading projects..."})]}):d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-accent/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Project"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Code"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Client"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Billing"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Rate"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-border",children:G.map(E=>{var ee;return d.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsx("div",{children:d.jsx("p",{className:"font-medium text-foreground",children:E.name})})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("code",{className:"bg-accent/50 px-2 py-1 rounded text-sm font-mono",children:E.code})}),d.jsx("td",{className:"px-6 py-4 text-foreground",children:((ee=E.clients)==null?void 0:ee.name)||"No Client"}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:Ae("px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-700":E.billing_type==="time_and_material","bg-green-100 text-green-700":E.billing_type==="fixed_price"}),children:E.billing_type==="time_and_material"?"Time & Material":"Fixed Price"})}),d.jsx("td",{className:"px-6 py-4 text-foreground",children:E.hourly_rate?`$${E.hourly_rate}/hr`:"Not set"}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:Ae("px-2 py-1 rounded-full text-xs font-medium",{"bg-success/10 text-success":E.active,"bg-muted text-muted-foreground":!E.active}),children:E.active?"Active":"Inactive"})}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>M(E),icon:d.jsx(Ju,{className:"h-4 w-4"}),children:"Edit"}),d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>$(E),icon:d.jsx(Yp,{className:"h-4 w-4"}),className:"text-destructive hover:text-destructive",children:"Delete"})]})})]},E.id)})})]}),G.length===0&&d.jsx("div",{className:"p-8 text-center",children:d.jsx("p",{className:"text-muted-foreground",children:"No projects found"})})]})}),y&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:_?"Edit Project":"Create New Project"}),d.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[d.jsx(Ie,{label:"Project Name",value:N.name,onChange:E=>O({...N,name:E.target.value}),required:!0}),d.jsx(Ie,{label:"Project Code",value:N.code,onChange:E=>O({...N,code:E.target.value}),required:!0,placeholder:" "}),d.jsx(kt,{label:"Client",value:N.client_id,onChange:E=>O({...N,client_id:E.target.value}),options:[{value:"",label:"Select Client"},...n.map(E=>({value:E.id,label:E.name}))]}),d.jsx(kt,{label:"Billing Type",value:N.billing_type,onChange:E=>O({...N,billing_type:E.target.value}),options:[{value:"time_and_material",label:"Time & Materials"},{value:"fixed_price",label:"Fixed Price"}]}),d.jsx(Ie,{label:"Hourly Rate",type:"number",step:"0.01",value:N.hourly_rate,onChange:E=>O({...N,hourly_rate:E.target.value}),placeholder:" "}),d.jsx(Ie,{label:"Budget",type:"number",step:"0.01",value:N.budget,onChange:E=>O({...N,budget:E.target.value}),placeholder:" "}),d.jsx(Ie,{label:"Description",value:N.description,onChange:E=>O({...N,description:E.target.value}),placeholder:" "}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",id:"active",checked:N.active,onChange:E=>O({...N,active:E.target.checked}),className:"rounded border-border"}),d.jsx("label",{htmlFor:"active",className:"text-sm text-foreground",children:"Active Project"})]}),d.jsxs("div",{className:"flex space-x-3 pt-4",children:[d.jsx(Ce,{type:"button",variant:"ghost",onClick:I,className:"flex-1",children:"Cancel"}),d.jsx(Ce,{type:"submit",variant:"primary",className:"flex-1",children:_?"Update":"Create"})]})]})]})})]})}function I_(){const[s,r]=A.useState([]),[n,a]=A.useState(!0),[l,u]=A.useState(""),[h,p]=A.useState("submitted"),[m,v]=A.useState(!1),[y,w]=A.useState(null),[_,T]=A.useState("");A.useEffect(()=>{N()},[h]);const N=async()=>{a(!0);try{const I=ge.from("weeks").select(`
          *,
          users!weeks_user_id_fkey(
            id,
            full_name,
            email
          )
        `).order("submitted_at",{ascending:!1});h!=="all"&&I.eq("status",h);const{data:G,error:E}=await I;if(E)throw E;r(G||[])}catch(I){console.error("Error loading weeks:",I)}finally{a(!1)}},O=async I=>{try{const{error:G}=await ge.from("weeks").update({status:"approved",approved_at:new Date().toISOString(),rejection_reason:null}).eq("id",I.id);if(G)throw G;N()}catch(G){console.error("Error approving week:",G),alert("Error approving timesheet")}},j=async()=>{if(!y||!_.trim()){alert("Please provide a rejection reason");return}try{const{error:I}=await ge.from("weeks").update({status:"rejected",rejection_reason:_.trim()}).eq("id",y.id);if(I)throw I;v(!1),w(null),T(""),N()}catch(I){console.error("Error rejecting week:",I),alert("Error rejecting timesheet")}},D=I=>{w(I),v(!0)},Y=()=>{v(!1),w(null),T("")},M=s.filter(I=>{const G=l.toLowerCase();return I.users.full_name.toLowerCase().includes(G)||I.users.email.toLowerCase().includes(G)||Le(pt(I.week_start),"MMM d, yyyy").toLowerCase().includes(G)}),$=I=>{switch(I){case"submitted":return"bg-info/10 text-info border-info/20";case"approved":return"bg-success/10 text-success border-success/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground border-muted"}};return d.jsxs("div",{className:"space-y-8",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Timesheet Approvals"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Review and approve consultant timesheet submissions"})]})}),d.jsx("div",{className:"modern-card glass-card p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(Ie,{placeholder:"Search by consultant name, email, or week...",value:l,onChange:I=>u(I.target.value),icon:d.jsx(ao,{className:"h-4 w-4"}),className:"max-w-sm"})}),d.jsx(kt,{value:h,onChange:I=>p(I.target.value),options:[{value:"submitted",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"all",label:"All Statuses"}],className:"w-40"})]})}),d.jsx("div",{className:"modern-card glass-card overflow-hidden",children:n?d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading timesheets..."})]}):d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-accent/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Consultant"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Week"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Submitted"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Comments"}),d.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-border",children:M.map(I=>d.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:I.users.full_name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:I.users.email})]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:Le(pt(I.week_start),"MMM d, yyyy")}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Week ",Le(pt(I.week_start),"w")]})]})}),d.jsx("td",{className:"px-6 py-4 text-foreground",children:I.submitted_at?d.jsxs("div",{children:[d.jsx("p",{children:Le(pt(I.submitted_at),"MMM d, yyyy")}),d.jsx("p",{className:"text-sm text-muted-foreground",children:Le(pt(I.submitted_at),"h:mm a")})]}):"Not submitted"}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:Ae("px-3 py-1.5 rounded-full text-xs font-semibold border-2",$(I.status)),children:I.status.charAt(0).toUpperCase()+I.status.slice(1)})}),d.jsx("td",{className:"px-6 py-4",children:I.rejection_reason?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(sx,{className:"h-4 w-4 text-destructive"}),d.jsx("span",{className:"text-sm text-destructive",children:I.rejection_reason})]}):d.jsx("span",{className:"text-muted-foreground text-sm",children:"No comments"})}),d.jsxs("td",{className:"px-6 py-4 text-right",children:[I.status==="submitted"&&d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>O(I),icon:d.jsx(Yu,{className:"h-4 w-4"}),className:"text-success hover:text-success hover:bg-success/10",children:"Approve"}),d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>D(I),icon:d.jsx(eo,{className:"h-4 w-4"}),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:"Reject"})]}),I.status==="approved"&&I.approved_at&&d.jsxs("div",{className:"text-sm text-muted-foreground",children:["Approved ",Le(pt(I.approved_at),"MMM d, yyyy")]})]})]},I.id))})]}),M.length===0&&d.jsxs("div",{className:"p-8 text-center",children:[d.jsx(bi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:h==="submitted"?"No timesheets pending approval":"No timesheets found"})]})]})}),m&&y&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Reject Timesheet"}),d.jsxs("p",{className:"text-muted-foreground mb-4",children:["Rejecting timesheet for ",d.jsx("strong",{children:y.users.full_name})," - Week of ",Le(pt(y.week_start),"MMM d, yyyy")]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Rejection Reason *"}),d.jsx("textarea",{value:_,onChange:I=>T(I.target.value),placeholder:"Please provide a clear reason for rejection...",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary",rows:4,required:!0})]}),d.jsxs("div",{className:"flex space-x-3",children:[d.jsx(Ce,{variant:"ghost",onClick:Y,className:"flex-1",children:"Cancel"}),d.jsx(Ce,{variant:"danger",onClick:j,disabled:!_.trim(),className:"flex-1",icon:d.jsx(eo,{className:"h-4 w-4"}),children:"Reject"})]})]})]})})]})}function U_(){const[s,r]=A.useState([]),[n,a]=A.useState(!0),[l,u]=A.useState(""),[h,p]=A.useState("all"),[m,v]=A.useState(!1),[y,w]=A.useState(null),[_,T]=A.useState(!1),{success:N,error:O}=Xu(),[j,D]=A.useState({email:"",full_name:"",role:"consultant",hourly_rate:"",country_code:"US",is_active:!0,password:""});A.useEffect(()=>{Y()},[]);const Y=async()=>{a(!0);try{const{data:F,error:L}=await ge.from("users").select("*").order("full_name");if(L)throw L;r(F||[])}catch(F){console.error("Error loading users:",F)}finally{a(!1)}},M=async F=>{F.preventDefault(),T(!0);try{const L={email:j.email.trim(),full_name:j.full_name.trim(),role:j.role,hourly_rate:j.hourly_rate?parseFloat(j.hourly_rate):0,country_code:j.country_code,is_active:j.is_active};if(y){const{error:J}=await ge.from("users").update(L).eq("id",y.id);if(J)throw J;N("User updated successfully")}else{if(!j.password||j.password.length<8){O("Password must be at least 8 characters"),T(!1);return}const{error:J,data:pe}=await ge.auth.signUp({email:j.email,password:j.password,options:{data:{full_name:j.full_name,role:j.role}}});if(J)throw J;if(!pe.user)throw new Error("Failed to create user");const{error:je}=await ge.from("users").insert({...L,id:pe.user.id});if(je)throw je;N("User created successfully")}G(),Y()}catch(L){console.error("Error saving user:",L),L("Failed to save user",L.message)}finally{T(!1)}},$=F=>{var L;w(F),D({email:F.email,full_name:F.full_name,role:F.role,hourly_rate:((L=F.hourly_rate)==null?void 0:L.toString())||"",country_code:F.country_code||"US",is_active:F.is_active,password:""}),v(!0)},I=async F=>{const L=F.is_active?"deactivate":"activate";if(window.confirm(`Are you sure you want to ${L} ${F.full_name}?`))try{const{error:J}=await ge.from("users").update({is_active:!F.is_active}).eq("id",F.id);if(J)throw J;N(`User ${L}d successfully`),Y()}catch(J){console.error("Error updating user status:",J),J(`Failed to ${L} user`,J.message)}},G=()=>{D({email:"",full_name:"",role:"consultant",hourly_rate:"",country_code:"US",is_active:!0,password:""}),w(null),v(!1)},E=s.filter(F=>{const L=F.full_name.toLowerCase().includes(l.toLowerCase())||F.email.toLowerCase().includes(l.toLowerCase()),J=h==="all"||F.role===h;return L&&J}),ee=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"UK",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"AU",label:"Australia"},{value:"JP",label:"Japan"},{value:"IN",label:"India"}];return d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"User Management"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage consultant users and their permissions"})]}),d.jsx(Ce,{onClick:()=>v(!0),icon:d.jsx(ys,{className:"h-4 w-4"}),variant:"primary",className:"shadow-lg",children:"New User"})]}),d.jsx("div",{className:"modern-card glass-card p-6",children:d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(Ie,{placeholder:"Search users...",value:l,onChange:F=>u(F.target.value),icon:d.jsx(ao,{className:"h-4 w-4"}),className:"max-w-sm"})}),d.jsx(kt,{value:h,onChange:F=>p(F.target.value),options:[{value:"all",label:"All Roles"},{value:"consultant",label:"Consultants Only"},{value:"super_admin",label:"Admins Only"}],className:"w-40"})]})}),d.jsx("div",{className:"modern-card glass-card overflow-hidden",children:n?d.jsxs("div",{className:"p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),d.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading users..."})]}):d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-accent/50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"User"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Role"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Hourly Rate"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Country"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),d.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Created"}),d.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-border",children:E.map(F=>d.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"p-2 rounded-full bg-accent/20",children:d.jsx(Iu,{className:"h-4 w-4 text-muted-foreground"})}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:F.full_name}),d.jsx("p",{className:"text-sm text-muted-foreground",children:F.email})]})]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:Ae("px-2 py-1 rounded-full text-xs font-medium",{"bg-purple-100 text-purple-700":F.role==="super_admin","bg-blue-100 text-blue-700":F.role==="consultant"}),children:F.role==="super_admin"?"Super Admin":"Consultant"})}),d.jsx("td",{className:"px-6 py-4",children:d.jsxs("div",{className:"flex items-center space-x-1",children:[d.jsx(Qp,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"text-foreground",children:F.hourly_rate?`${F.hourly_rate}/hr`:"Not set"})]})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:"text-foreground",children:F.country_code})}),d.jsx("td",{className:"px-6 py-4",children:d.jsx("span",{className:Ae("px-2 py-1 rounded-full text-xs font-medium",{"bg-success/10 text-success":F.is_active,"bg-muted text-muted-foreground":!F.is_active}),children:F.is_active?"Active":"Inactive"})}),d.jsx("td",{className:"px-6 py-4 text-muted-foreground text-sm",children:new Date(F.created_at).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>$(F),icon:d.jsx(Ju,{className:"h-4 w-4"}),children:"Edit"}),d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>I(F),className:Ae({"text-destructive hover:text-destructive":F.is_active,"text-success hover:text-success":!F.is_active}),children:F.is_active?"Deactivate":"Activate"})]})})]},F.id))})]}),E.length===0&&d.jsxs("div",{className:"p-8 text-center",children:[d.jsx(Iu,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d.jsx("p",{className:"text-muted-foreground",children:"No users found"})]})]})}),m&&d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6",children:[d.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:y?"Edit User":"Create New User"}),d.jsxs("form",{onSubmit:M,className:"space-y-4",children:[d.jsx(Ie,{label:"Full Name",value:j.full_name,onChange:F=>D({...j,full_name:F.target.value}),required:!0}),d.jsx(Ie,{label:"Email",type:"email",value:j.email,onChange:F=>D({...j,email:F.target.value}),required:!0,disabled:!!y}),d.jsx(kt,{label:"Role",value:j.role,onChange:F=>D({...j,role:F.target.value}),options:[{value:"consultant",label:"Consultant"},{value:"super_admin",label:"Super Admin"}]}),d.jsx(Ie,{label:"Hourly Rate",type:"number",step:"0.01",value:j.hourly_rate,onChange:F=>D({...j,hourly_rate:F.target.value}),placeholder:"0.00"}),d.jsx(kt,{label:"Country",value:j.country_code,onChange:F=>D({...j,country_code:F.target.value}),options:ee}),!y&&d.jsx(Ie,{label:"Password",type:"password",value:j.password,onChange:F=>D({...j,password:F.target.value}),required:!y,placeholder:"Minimum 8 characters"}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("input",{type:"checkbox",id:"is_active",checked:j.is_active,onChange:F=>D({...j,is_active:F.target.checked}),className:"rounded border-border"}),d.jsx("label",{htmlFor:"is_active",className:"text-sm text-foreground",children:"Active User"})]}),d.jsxs("div",{className:"flex space-x-3 pt-4",children:[d.jsx(Ce,{type:"button",variant:"ghost",onClick:G,className:"flex-1",children:"Cancel"}),d.jsx(Ce,{type:"submit",variant:"primary",className:"flex-1",loading:_,children:y?"Update":"Create"})]})]})]})})]})}function $_(){const{success:s,error:r}=Xu(),[n,a]=A.useState("allowances"),[l,u]=A.useState([]),[h,p]=A.useState([]),[m,v]=A.useState(!0),[y,w]=A.useState(!1),[_,T]=A.useState({country_code:"US",partial_rate:"",full_rate:"",effective_date:new Date().toISOString().split("T")[0]}),[N,O]=A.useState({project_type:"TNM",hourly_rate:""}),[j,D]=A.useState({default_vat_rate:"20",default_currency:"USD",week_start_day:"1",auto_submit_enabled:!1,notification_enabled:!0});A.useEffect(()=>{Y(),M(),$()},[]);const Y=async()=>{try{const{data:L,error:J}=await ge.from("allowance_rates").select("*").order("country_code",{ascending:!0}).order("effective_date",{ascending:!1});if(J)throw J;u(L||[])}catch(L){console.error("Error loading allowance rates:",L)}},M=async()=>{try{const{data:L,error:J}=await ge.from("default_rates").select("*").order("project_type",{ascending:!0});if(J)throw J;p(L||[])}catch(L){console.error("Error loading default rates:",L),L("Failed to load default rates",L.message)}},$=async()=>{try{const{data:L,error:J}=await ge.from("system_settings").select("*");if(J)throw J;if(L&&L.length>0){const pe=L.reduce((je,re)=>{const ae=re.key.includes("enabled")?re.value==="true":re.value;return{...je,[re.key]:ae}},{});D({default_vat_rate:pe.default_vat_rate||"20",default_currency:pe.default_currency||"USD",week_start_day:pe.week_start_day||"1",auto_submit_enabled:pe.auto_submit_enabled||!1,notification_enabled:pe.notification_enabled||!0})}}catch(L){console.error("Error loading general settings:",L),L("Failed to load settings",L.message)}finally{v(!1)}},I=async L=>{L.preventDefault(),w(!0);try{const{error:J}=await ge.from("allowance_rates").insert({country_code:_.country_code,partial_rate:parseFloat(_.partial_rate),full_rate:parseFloat(_.full_rate),effective_date:_.effective_date});if(J)throw J;s("Allowance rate added successfully"),T({country_code:"US",partial_rate:"",full_rate:"",effective_date:new Date().toISOString().split("T")[0]}),Y()}catch(J){console.error("Error saving allowance rate:",J),J("Failed to add allowance rate",J.message)}finally{w(!1)}},G=async L=>{try{const{error:J}=await ge.from("allowance_rates").delete().eq("id",L);if(J)throw J;s("Allowance rate deleted successfully"),Y()}catch(J){console.error("Error deleting allowance rate:",J),J("Failed to delete allowance rate",J.message)}},E=async()=>{w(!0);try{const J=[{key:"default_vat_rate",value:j.default_vat_rate.toString()},{key:"default_currency",value:j.default_currency},{key:"week_start_day",value:j.week_start_day.toString()},{key:"auto_submit_enabled",value:j.auto_submit_enabled.toString()},{key:"notification_enabled",value:j.notification_enabled.toString()}].map(re=>ge.from("system_settings").update({value:re.value}).eq("key",re.key)),je=(await Promise.all(J)).filter(re=>re.error);if(je.length>0)throw new Error(`Failed to update ${je.length} settings`);s("Settings saved successfully")}catch(L){console.error("Error saving general settings:",L),L("Failed to save settings",L.message)}finally{w(!1)}},ee=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"UK",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"AU",label:"Australia"},{value:"JP",label:"Japan"},{value:"IN",label:"India"}],F=[{id:"allowances",label:"Allowance Rates",icon:Qp},{id:"rates",label:"Default Rates",icon:ix},{id:"general",label:"General Settings",icon:Gp}];return m?d.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),d.jsx("p",{className:"text-muted-foreground ml-3",children:"Loading settings..."})]}):d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"System Settings"}),d.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure rates, allowances, and system defaults"})]}),d.jsxs("div",{className:"modern-card glass-card",children:[d.jsx("div",{className:"border-b border-border",children:d.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:F.map(L=>{const J=L.icon,pe=n===L.id;return d.jsxs("button",{onClick:()=>a(L.id),className:Ae("flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors",{"border-primary text-primary":pe,"border-transparent text-muted-foreground hover:text-foreground hover:border-muted":!pe}),children:[d.jsx(J,{className:"h-4 w-4"}),d.jsx("span",{children:L.label})]},L.id)})})}),d.jsxs("div",{className:"p-6",children:[n==="allowances"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add New Allowance Rate"}),d.jsxs("form",{onSubmit:I,className:"space-y-4",children:[d.jsx(kt,{label:"Country",value:_.country_code,onChange:L=>T({..._,country_code:L.target.value}),options:ee}),d.jsx(Ie,{label:"Partial Rate (per day)",type:"number",step:"0.01",value:_.partial_rate,onChange:L=>T({..._,partial_rate:L.target.value}),required:!0,placeholder:"0.00"}),d.jsx(Ie,{label:"Full Rate (per day)",type:"number",step:"0.01",value:_.full_rate,onChange:L=>T({..._,full_rate:L.target.value}),required:!0,placeholder:"0.00"}),d.jsx(Ie,{label:"Effective Date",type:"date",value:_.effective_date,onChange:L=>T({..._,effective_date:L.target.value}),required:!0}),d.jsx(Ce,{type:"submit",variant:"primary",loading:y,icon:d.jsx(ys,{className:"h-4 w-4"}),className:"w-full",children:"Add Rate"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Current Allowance Rates"}),d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[l.map(L=>{var J;return d.jsx("div",{className:"border border-border rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Zw,{className:"h-4 w-4 text-muted-foreground"}),d.jsx("span",{className:"font-medium text-foreground",children:(J=ee.find(pe=>pe.value===L.country_code))==null?void 0:J.label})]}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Partial: $",L.partial_rate,"  Full: $",L.full_rate]}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Effective: ",new Date(L.effective_date).toLocaleDateString()]})]}),d.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>{window.confirm("Are you sure you want to delete this allowance rate?")&&G(L.id)},icon:d.jsx(Yp,{className:"h-4 w-4"}),className:"text-destructive hover:text-destructive"})]})},L.id)}),l.length===0&&d.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No allowance rates configured"})]})]})]})}),n==="rates"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Default Hourly Rates"}),d.jsx("p",{className:"text-muted-foreground text-sm",children:"Set default hourly rates for different project types"}),d.jsx("div",{className:"space-y-4",children:h.map(L=>d.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"font-medium text-foreground",children:[L.project_type==="time_and_material"?"Time & Material":"Fixed Price"," Projects"]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",L.hourly_rate,"/hour"]})]}),d.jsx(Ce,{variant:"ghost",size:"sm",icon:d.jsx(Ju,{className:"h-4 w-4"}),onClick:()=>{O({project_type:L.project_type,hourly_rate:L.hourly_rate.toString()})},children:"Edit"})]},L.id))})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add Default Rate"}),d.jsxs("div",{className:"space-y-4",children:[d.jsx(kt,{label:"Project Type",value:N.project_type,onChange:L=>O({...N,project_type:L.target.value}),options:[{value:"TNM",label:"Time & Materials"},{value:"Fixed",label:"Fixed Price"}]}),d.jsx(Ie,{label:"Hourly Rate",type:"number",step:"0.01",value:N.hourly_rate,onChange:L=>O({...N,hourly_rate:L.target.value}),placeholder:"0.00"}),d.jsx(Ce,{variant:"primary",icon:d.jsx(ys,{className:"h-4 w-4"}),className:"w-full",onClick:async()=>{try{if(!N.hourly_rate){r("Please enter an hourly rate");return}w(!0);const{data:L,error:J}=await ge.from("default_rates").insert({project_type:N.project_type,hourly_rate:parseFloat(N.hourly_rate),description:`Default rate for ${N.project_type==="TNM"?"Time & Materials":"Fixed Price"} projects`}).select();if(J)throw J;s("Rate added successfully"),O({project_type:"TNM",hourly_rate:""}),M()}catch(L){console.error("Error adding rate:",L),L("Failed to add rate",L.message)}finally{w(!1)}},loading:y,children:"Add Rate"})]})]})]})}),n==="general"&&d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"General Settings"}),d.jsx(Ie,{label:"Default VAT Rate (%)",type:"number",step:"0.01",value:j.default_vat_rate,onChange:L=>D({...j,default_vat_rate:L.target.value}),placeholder:"20.00"}),d.jsx(kt,{label:"Default Currency",value:j.default_currency,onChange:L=>D({...j,default_currency:L.target.value}),options:[{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"},{value:"GBP",label:"British Pound (GBP)"},{value:"CAD",label:"Canadian Dollar (CAD)"}]}),d.jsx(kt,{label:"Week Start Day",value:j.week_start_day,onChange:L=>D({...j,week_start_day:L.target.value}),options:[{value:"0",label:"Sunday"},{value:"1",label:"Monday"}]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"System Preferences"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Auto-submit Timesheets"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically submit completed weeks"})]}),d.jsx("input",{type:"checkbox",checked:j.auto_submit_enabled,onChange:L=>D({...j,auto_submit_enabled:L.target.checked}),className:"rounded border-border"})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium text-foreground",children:"Email Notifications"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for approvals"})]}),d.jsx("input",{type:"checkbox",checked:j.notification_enabled,onChange:L=>D({...j,notification_enabled:L.target.checked}),className:"rounded border-border"})]})]}),d.jsx(Ce,{variant:"primary",onClick:E,loading:y,icon:d.jsx(Kp,{className:"h-4 w-4"}),className:"w-full",children:"Save Settings"})]})]})})]})]})]})}const F_=new Uy;function is({children:s,requireAdmin:r=!1,requireConsultant:n=!1}){const{user:a,loading:l,isAdmin:u,isConsultant:h}=js();return l?d.jsx("div",{className:"min-h-screen flex items-center justify-center",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?r&&!u?d.jsx(qt,{to:"/consultant/timesheets",replace:!0}):n&&!h?d.jsx(qt,{to:"/admin/projects",replace:!0}):d.jsx(hx,{children:s}):d.jsx(qt,{to:"/login",replace:!0})}function z_(){const{user:s,isAdmin:r,isConsultant:n}=js();return d.jsxs(iy,{children:[d.jsx(er,{path:"/login",element:s?r?d.jsx(qt,{to:"/admin/projects",replace:!0}):d.jsx(qt,{to:"/consultant/timesheets",replace:!0}):d.jsx(fx,{})}),d.jsx(er,{path:"/consultant/timesheets",element:d.jsx(is,{requireConsultant:!0,children:d.jsx(D_,{})})}),d.jsx(er,{path:"/consultant/history",element:d.jsx(is,{requireConsultant:!0,children:d.jsx(M_,{})})}),d.jsx(er,{path:"/admin/projects",element:d.jsx(is,{requireAdmin:!0,children:d.jsx(L_,{})})}),d.jsx(er,{path:"/admin/approvals",element:d.jsx(is,{requireAdmin:!0,children:d.jsx(I_,{})})}),d.jsx(er,{path:"/admin/users",element:d.jsx(is,{requireAdmin:!0,children:d.jsx(U_,{})})}),d.jsx(er,{path:"/admin/settings",element:d.jsx(is,{requireAdmin:!0,children:d.jsx($_,{})})}),d.jsx(er,{path:"/",element:s?r?d.jsx(qt,{to:"/admin/projects",replace:!0}):d.jsx(qt,{to:"/consultant/timesheets",replace:!0}):d.jsx(qt,{to:"/login",replace:!0})}),d.jsx(er,{path:"*",element:s?r?d.jsx(qt,{to:"/admin/projects",replace:!0}):d.jsx(qt,{to:"/consultant/timesheets",replace:!0}):d.jsx(qt,{to:"/login",replace:!0})})]})}function B_(){return d.jsx(Fy,{client:F_,children:d.jsx(Qw,{children:d.jsx(ux,{children:d.jsx(hy,{children:d.jsx(z_,{})})})})})}hv.createRoot(document.getElementById("root")).render(d.jsx(A.StrictMode,{children:d.jsx(pv,{children:d.jsx(B_,{})})}));

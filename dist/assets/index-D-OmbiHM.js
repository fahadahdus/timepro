var dp=o=>{throw TypeError(o)};var Md=(o,a,n)=>a.has(o)||dp("Cannot "+n);var V=(o,a,n)=>(Md(o,a,"read from private field"),n?n.call(o):a.get(o)),Ie=(o,a,n)=>a.has(o)?dp("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(o):a.set(o,n),Pe=(o,a,n,r)=>(Md(o,a,"write to private field"),r?r.call(o,n):a.set(o,n),n),wt=(o,a,n)=>(Md(o,a,"access private method"),n);var _i=(o,a,n,r)=>({set _(c){Pe(o,a,c,n)},get _(){return V(o,a,r)}});function ff(o,a){for(var n=0;n<a.length;n++){const r=a[n];if(typeof r!="string"&&!Array.isArray(r)){for(const c in r)if(c!=="default"&&!(c in o)){const l=Object.getOwnPropertyDescriptor(r,c);l&&Object.defineProperty(o,c,l.get?l:{enumerable:!0,get:()=>r[c]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const p of l.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&r(p)}).observe(document,{childList:!0,subtree:!0});function n(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(c){if(c.ep)return;c.ep=!0;const l=n(c);fetch(c.href,l)}})();function wu(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function gf(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var a=o.default;if(typeof a=="function"){var n=function r(){return this instanceof r?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};n.prototype=a.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(r){var c=Object.getOwnPropertyDescriptor(o,r);Object.defineProperty(n,r,c.get?c:{enumerable:!0,get:function(){return o[r]}})}),n}var Rd={exports:{}},Vs={},Id={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function vf(){if(lp)return Ne;lp=1;var o=Symbol.for("react.element"),a=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),p=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),f=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=f&&k[f]||k["@@iterator"],typeof k=="function"?k:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function P(k,W,pe){this.props=k,this.context=W,this.refs=B,this.updater=pe||j}P.prototype.isReactComponent={},P.prototype.setState=function(k,W){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,W,"setState")},P.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function F(){}F.prototype=P.prototype;function H(k,W,pe){this.props=k,this.context=W,this.refs=B,this.updater=pe||j}var A=H.prototype=new F;A.constructor=H,N(A,P.prototype),A.isPureReactComponent=!0;var R=Array.isArray,$=Object.prototype.hasOwnProperty,J={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(k,W,pe){var ve,he={},be=null,Ue=null;if(W!=null)for(ve in W.ref!==void 0&&(Ue=W.ref),W.key!==void 0&&(be=""+W.key),W)$.call(W,ve)&&!S.hasOwnProperty(ve)&&(he[ve]=W[ve]);var Le=arguments.length-2;if(Le===1)he.children=pe;else if(1<Le){for(var $e=Array(Le),Ct=0;Ct<Le;Ct++)$e[Ct]=arguments[Ct+2];he.children=$e}if(k&&k.defaultProps)for(ve in Le=k.defaultProps,Le)he[ve]===void 0&&(he[ve]=Le[ve]);return{$$typeof:o,type:k,key:be,ref:Ue,props:he,_owner:J.current}}function E(k,W){return{$$typeof:o,type:k.type,key:W,ref:k.ref,props:k.props,_owner:k._owner}}function U(k){return typeof k=="object"&&k!==null&&k.$$typeof===o}function Z(k){var W={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(pe){return W[pe]})}var ye=/\/+/g;function we(k,W){return typeof k=="object"&&k!==null&&k.key!=null?Z(""+k.key):W.toString(36)}function Ce(k,W,pe,ve,he){var be=typeof k;(be==="undefined"||be==="boolean")&&(k=null);var Ue=!1;if(k===null)Ue=!0;else switch(be){case"string":case"number":Ue=!0;break;case"object":switch(k.$$typeof){case o:case a:Ue=!0}}if(Ue)return Ue=k,he=he(Ue),k=ve===""?"."+we(Ue,0):ve,R(he)?(pe="",k!=null&&(pe=k.replace(ye,"$&/")+"/"),Ce(he,W,pe,"",function(Ct){return Ct})):he!=null&&(U(he)&&(he=E(he,pe+(!he.key||Ue&&Ue.key===he.key?"":(""+he.key).replace(ye,"$&/")+"/")+k)),W.push(he)),1;if(Ue=0,ve=ve===""?".":ve+":",R(k))for(var Le=0;Le<k.length;Le++){be=k[Le];var $e=ve+we(be,Le);Ue+=Ce(be,W,pe,$e,he)}else if($e=C(k),typeof $e=="function")for(k=$e.call(k),Le=0;!(be=k.next()).done;)be=be.value,$e=ve+we(be,Le++),Ue+=Ce(be,W,pe,$e,he);else if(be==="object")throw W=String(k),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ue}function ot(k,W,pe){if(k==null)return k;var ve=[],he=0;return Ce(k,ve,"","",function(be){return W.call(pe,be,he++)}),ve}function et(k){if(k._status===-1){var W=k._result;W=W(),W.then(function(pe){(k._status===0||k._status===-1)&&(k._status=1,k._result=pe)},function(pe){(k._status===0||k._status===-1)&&(k._status=2,k._result=pe)}),k._status===-1&&(k._status=0,k._result=W)}if(k._status===1)return k._result.default;throw k._result}var Ee={current:null},ee={transition:null},oe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:ee,ReactCurrentOwner:J};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ot,forEach:function(k,W,pe){ot(k,function(){W.apply(this,arguments)},pe)},count:function(k){var W=0;return ot(k,function(){W++}),W},toArray:function(k){return ot(k,function(W){return W})||[]},only:function(k){if(!U(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ne.Component=P,Ne.Fragment=n,Ne.Profiler=c,Ne.PureComponent=H,Ne.StrictMode=r,Ne.Suspense=h,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,Ne.act=te,Ne.cloneElement=function(k,W,pe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ve=N({},k.props),he=k.key,be=k.ref,Ue=k._owner;if(W!=null){if(W.ref!==void 0&&(be=W.ref,Ue=J.current),W.key!==void 0&&(he=""+W.key),k.type&&k.type.defaultProps)var Le=k.type.defaultProps;for($e in W)$.call(W,$e)&&!S.hasOwnProperty($e)&&(ve[$e]=W[$e]===void 0&&Le!==void 0?Le[$e]:W[$e])}var $e=arguments.length-2;if($e===1)ve.children=pe;else if(1<$e){Le=Array($e);for(var Ct=0;Ct<$e;Ct++)Le[Ct]=arguments[Ct+2];ve.children=Le}return{$$typeof:o,type:k.type,key:he,ref:be,props:ve,_owner:Ue}},Ne.createContext=function(k){return k={$$typeof:p,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:l,_context:k},k.Consumer=k},Ne.createElement=I,Ne.createFactory=function(k){var W=I.bind(null,k);return W.type=k,W},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(k){return{$$typeof:x,render:k}},Ne.isValidElement=U,Ne.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:et}},Ne.memo=function(k,W){return{$$typeof:g,type:k,compare:W===void 0?null:W}},Ne.startTransition=function(k){var W=ee.transition;ee.transition={};try{k()}finally{ee.transition=W}},Ne.unstable_act=te,Ne.useCallback=function(k,W){return Ee.current.useCallback(k,W)},Ne.useContext=function(k){return Ee.current.useContext(k)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(k){return Ee.current.useDeferredValue(k)},Ne.useEffect=function(k,W){return Ee.current.useEffect(k,W)},Ne.useId=function(){return Ee.current.useId()},Ne.useImperativeHandle=function(k,W,pe){return Ee.current.useImperativeHandle(k,W,pe)},Ne.useInsertionEffect=function(k,W){return Ee.current.useInsertionEffect(k,W)},Ne.useLayoutEffect=function(k,W){return Ee.current.useLayoutEffect(k,W)},Ne.useMemo=function(k,W){return Ee.current.useMemo(k,W)},Ne.useReducer=function(k,W,pe){return Ee.current.useReducer(k,W,pe)},Ne.useRef=function(k){return Ee.current.useRef(k)},Ne.useState=function(k){return Ee.current.useState(k)},Ne.useSyncExternalStore=function(k,W,pe){return Ee.current.useSyncExternalStore(k,W,pe)},Ne.useTransition=function(){return Ee.current.useTransition()},Ne.version="18.3.1",Ne}var mp;function hl(){return mp||(mp=1,Id.exports=vf()),Id.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp;function yf(){if(pp)return Vs;pp=1;var o=hl(),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function p(x,h,g){var y,f={},C=null,j=null;g!==void 0&&(C=""+g),h.key!==void 0&&(C=""+h.key),h.ref!==void 0&&(j=h.ref);for(y in h)r.call(h,y)&&!l.hasOwnProperty(y)&&(f[y]=h[y]);if(x&&x.defaultProps)for(y in h=x.defaultProps,h)f[y]===void 0&&(f[y]=h[y]);return{$$typeof:a,type:x,key:C,ref:j,props:f,_owner:c.current}}return Vs.Fragment=n,Vs.jsx=p,Vs.jsxs=p,Vs}var up;function Pf(){return up||(up=1,Rd.exports=yf()),Rd.exports}var i=Pf(),_=hl();const Cu=wu(_),Af=ff({__proto__:null,default:Cu},[_]);var Di={},Ld={exports:{}},Rt={},Od={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function wf(){return xp||(xp=1,function(o){function a(ee,oe){var te=ee.length;ee.push(oe);e:for(;0<te;){var k=te-1>>>1,W=ee[k];if(0<c(W,oe))ee[k]=oe,ee[te]=W,te=k;else break e}}function n(ee){return ee.length===0?null:ee[0]}function r(ee){if(ee.length===0)return null;var oe=ee[0],te=ee.pop();if(te!==oe){ee[0]=te;e:for(var k=0,W=ee.length,pe=W>>>1;k<pe;){var ve=2*(k+1)-1,he=ee[ve],be=ve+1,Ue=ee[be];if(0>c(he,te))be<W&&0>c(Ue,he)?(ee[k]=Ue,ee[be]=te,k=be):(ee[k]=he,ee[ve]=te,k=ve);else if(be<W&&0>c(Ue,te))ee[k]=Ue,ee[be]=te,k=be;else break e}}return oe}function c(ee,oe){var te=ee.sortIndex-oe.sortIndex;return te!==0?te:ee.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var p=Date,x=p.now();o.unstable_now=function(){return p.now()-x}}var h=[],g=[],y=1,f=null,C=3,j=!1,N=!1,B=!1,P=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ee){for(var oe=n(g);oe!==null;){if(oe.callback===null)r(g);else if(oe.startTime<=ee)r(g),oe.sortIndex=oe.expirationTime,a(h,oe);else break;oe=n(g)}}function R(ee){if(B=!1,A(ee),!N)if(n(h)!==null)N=!0,et($);else{var oe=n(g);oe!==null&&Ee(R,oe.startTime-ee)}}function $(ee,oe){N=!1,B&&(B=!1,F(I),I=-1),j=!0;var te=C;try{for(A(oe),f=n(h);f!==null&&(!(f.expirationTime>oe)||ee&&!Z());){var k=f.callback;if(typeof k=="function"){f.callback=null,C=f.priorityLevel;var W=k(f.expirationTime<=oe);oe=o.unstable_now(),typeof W=="function"?f.callback=W:f===n(h)&&r(h),A(oe)}else r(h);f=n(h)}if(f!==null)var pe=!0;else{var ve=n(g);ve!==null&&Ee(R,ve.startTime-oe),pe=!1}return pe}finally{f=null,C=te,j=!1}}var J=!1,S=null,I=-1,E=5,U=-1;function Z(){return!(o.unstable_now()-U<E)}function ye(){if(S!==null){var ee=o.unstable_now();U=ee;var oe=!0;try{oe=S(!0,ee)}finally{oe?we():(J=!1,S=null)}}else J=!1}var we;if(typeof H=="function")we=function(){H(ye)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ot=Ce.port2;Ce.port1.onmessage=ye,we=function(){ot.postMessage(null)}}else we=function(){P(ye,0)};function et(ee){S=ee,J||(J=!0,we())}function Ee(ee,oe){I=P(function(){ee(o.unstable_now())},oe)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(ee){ee.callback=null},o.unstable_continueExecution=function(){N||j||(N=!0,et($))},o.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<ee?Math.floor(1e3/ee):5},o.unstable_getCurrentPriorityLevel=function(){return C},o.unstable_getFirstCallbackNode=function(){return n(h)},o.unstable_next=function(ee){switch(C){case 1:case 2:case 3:var oe=3;break;default:oe=C}var te=C;C=oe;try{return ee()}finally{C=te}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(ee,oe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var te=C;C=ee;try{return oe()}finally{C=te}},o.unstable_scheduleCallback=function(ee,oe,te){var k=o.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?k+te:k):te=k,ee){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=te+W,ee={id:y++,callback:oe,priorityLevel:ee,startTime:te,expirationTime:W,sortIndex:-1},te>k?(ee.sortIndex=te,a(g,ee),n(h)===null&&ee===n(g)&&(B?(F(I),I=-1):B=!0,Ee(R,te-k))):(ee.sortIndex=W,a(h,ee),N||j||(N=!0,et($))),ee},o.unstable_shouldYield=Z,o.unstable_wrapCallback=function(ee){var oe=C;return function(){var te=C;C=oe;try{return ee.apply(this,arguments)}finally{C=te}}}}(Fd)),Fd}var hp;function Cf(){return hp||(hp=1,Od.exports=wf()),Od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function bf(){if(fp)return Rt;fp=1;var o=hl(),a=Cf();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,c={};function l(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(c[e]=t,e=0;e<t.length;e++)r.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},f={};function C(e){return h.call(f,e)?!0:h.call(y,e)?!1:g.test(e)?f[e]=!0:(y[e]=!0,!1)}function j(e,t,s,d){if(s!==null&&s.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,t,s,d){if(t===null||typeof t>"u"||j(e,t,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function B(e,t,s,d,m,u,v){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=s,this.propertyName=e,this.type=t,this.sanitizeURL=u,this.removeEmptyString=v}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new B(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new B(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new B(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new B(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new B(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new B(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new B(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new B(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new B(e,5,!1,e.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function H(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F,H);P[t]=new B(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F,H);P[t]=new B(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F,H);P[t]=new B(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new B(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new B(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,t,s,d){var m=P.hasOwnProperty(t)?P[t]:null;(m!==null?m.type!==0:d||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N(t,s,m,d)&&(s=null),d||m===null?C(t)&&(s===null?e.removeAttribute(t):e.setAttribute(t,""+s)):m.mustUseProperty?e[m.propertyName]=s===null?m.type===3?!1:"":s:(t=m.attributeName,d=m.attributeNamespace,s===null?e.removeAttribute(t):(m=m.type,s=m===3||m===4&&s===!0?"":""+s,d?e.setAttributeNS(d,t,s):e.setAttribute(t,s))))}var R=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),J=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ye=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),ot=Symbol.for("react.memo"),et=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),ee=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var te=Object.assign,k;function W(e){if(k===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);k=t&&t[1]||""}return`
`+k+e}var pe=!1;function ve(e,t){if(!e||pe)return"";pe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(L){var d=L}Reflect.construct(e,[],t)}else{try{t.call()}catch(L){d=L}e.call(t.prototype)}else{try{throw Error()}catch(L){d=L}e()}}catch(L){if(L&&d&&typeof L.stack=="string"){for(var m=L.stack.split(`
`),u=d.stack.split(`
`),v=m.length-1,w=u.length-1;1<=v&&0<=w&&m[v]!==u[w];)w--;for(;1<=v&&0<=w;v--,w--)if(m[v]!==u[w]){if(v!==1||w!==1)do if(v--,w--,0>w||m[v]!==u[w]){var b=`
`+m[v].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=v&&0<=w);break}}}finally{pe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?W(e):""}function he(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function be(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case S:return"Fragment";case J:return"Portal";case E:return"Profiler";case I:return"StrictMode";case we:return"Suspense";case Ce:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Z:return(e.displayName||"Context")+".Consumer";case U:return(e._context.displayName||"Context")+".Provider";case ye:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ot:return t=e.displayName||null,t!==null?t:be(e.type)||"Memo";case et:t=e._payload,e=e._init;try{return be(e(t))}catch{}}return null}function Ue(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Le(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ct(e){var t=$e(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),d=""+e[t];if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var m=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return m.call(this)},set:function(v){d=""+v,u.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(v){d=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function la(e){e._valueTracker||(e._valueTracker=Ct(e))}function os(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),d="";return e&&(d=$e(e)?e.checked?"true":"false":e.value),e=d,e!==s?(t.setValue(e),!0):!1}function Ht(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ia(e,t){var s=t.checked;return te({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function lt(e,t){var s=t.defaultValue==null?"":t.defaultValue,d=t.checked!=null?t.checked:t.defaultChecked;s=Le(t.value!=null?t.value:s),e._wrapperState={initialChecked:d,initialValue:s,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ss(e,t){t=t.checked,t!=null&&A(e,"checked",t,!1)}function Yn(e,t){ss(e,t);var s=Le(t.value),d=t.type;if(s!=null)d==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Zn(e,t.type,s):t.hasOwnProperty("defaultValue")&&Zn(e,t.type,Le(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xn(e,t,s){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var d=t.type;if(!(d!=="submit"&&d!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,s||t===e.value||(e.value=t),e.defaultValue=t}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zn(e,t,s){(t!=="number"||Ht(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var ma=Array.isArray;function Jt(e,t,s,d){if(e=e.options,t){t={};for(var m=0;m<s.length;m++)t["$"+s[m]]=!0;for(s=0;s<e.length;s++)m=t.hasOwnProperty("$"+e[s].value),e[s].selected!==m&&(e[s].selected=m),m&&d&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),t=null,m=0;m<e.length;m++){if(e[m].value===s){e[m].selected=!0,d&&(e[m].defaultSelected=!0);return}t!==null||e[m].disabled||(t=e[m])}t!==null&&(t.selected=!0)}}function rs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xr(e,t){var s=t.value;if(s==null){if(s=t.children,t=t.defaultValue,s!=null){if(t!=null)throw Error(n(92));if(ma(s)){if(1<s.length)throw Error(n(93));s=s[0]}t=s}t==null&&(t=""),s=t}e._wrapperState={initialValue:Le(s)}}function hr(e,t){var s=Le(t.value),d=Le(t.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),t.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),d!=null&&(e.defaultValue=""+d)}function fr(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function is(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gr(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,cs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,s,d,m){MSApp.execUnsafeLocalFunction(function(){return e(t,s,d,m)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var La={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vr=["Webkit","ms","Moz","O"];Object.keys(La).forEach(function(e){vr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),La[t]=La[e]})});function ds(e,t,s){return t==null||typeof t=="boolean"||t===""?"":s||typeof t!="number"||t===0||La.hasOwnProperty(e)&&La[e]?(""+t).trim():t+"px"}function ls(e,t){e=e.style;for(var s in t)if(t.hasOwnProperty(s)){var d=s.indexOf("--")===0,m=ds(s,t[s],d);s==="float"&&(s="cssFloat"),d?e.setProperty(s,m):e[s]=m}}var yr=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function to(e,t){if(t){if(yr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function z(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var O=null;function K(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var me=null,fe=null,Me=null;function X(e){if(e=Ds(e)){if(typeof me!="function")throw Error(n(280));var t=e.stateNode;t&&(t=zr(t),me(e.stateNode,e.type,t))}}function ze(e){fe?Me?Me.push(e):Me=[e]:fe=e}function Se(){if(fe){var e=fe,t=Me;if(Me=fe=null,X(e),t)for(e=0;e<t.length;e++)X(t[e])}}function Be(e,t){return e(t)}function He(){}var Cn=!1;function bn(e,t,s){if(Cn)return e(t,s);Cn=!0;try{return Be(e,t,s)}finally{Cn=!1,(fe!==null||Me!==null)&&(He(),Se())}}function Oa(e,t){var s=e.stateNode;if(s===null)return null;var d=zr(s);if(d===null)return null;s=d[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(n(231,t,typeof s));return s}var Nn=!1;if(x)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Nn=!1}function Pr(e,t,s,d,m,u,v,w,b){var L=Array.prototype.slice.call(arguments,3);try{t.apply(s,L)}catch(Q){this.onError(Q)}}var pa=!1,Ar=null,wr=!1,Zi=null,wx={onError:function(e){pa=!0,Ar=e}};function Cx(e,t,s,d,m,u,v,w,b){pa=!1,Ar=null,Pr.apply(wx,arguments)}function bx(e,t,s,d,m,u,v,w,b){if(Cx.apply(this,arguments),pa){if(pa){var L=Ar;pa=!1,Ar=null}else throw Error(n(198));wr||(wr=!0,Zi=L)}}function jn(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function Tl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function El(e){if(jn(e)!==e)throw Error(n(188))}function Nx(e){var t=e.alternate;if(!t){if(t=jn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var s=e,d=t;;){var m=s.return;if(m===null)break;var u=m.alternate;if(u===null){if(d=m.return,d!==null){s=d;continue}break}if(m.child===u.child){for(u=m.child;u;){if(u===s)return El(m),e;if(u===d)return El(m),t;u=u.sibling}throw Error(n(188))}if(s.return!==d.return)s=m,d=u;else{for(var v=!1,w=m.child;w;){if(w===s){v=!0,s=m,d=u;break}if(w===d){v=!0,d=m,s=u;break}w=w.sibling}if(!v){for(w=u.child;w;){if(w===s){v=!0,s=u,d=m;break}if(w===d){v=!0,d=u,s=m;break}w=w.sibling}if(!v)throw Error(n(189))}}if(s.alternate!==d)throw Error(n(190))}if(s.tag!==3)throw Error(n(188));return s.stateNode.current===s?e:t}function Ml(e){return e=Nx(e),e!==null?Rl(e):null}function Rl(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rl(e);if(t!==null)return t;e=e.sibling}return null}var Il=a.unstable_scheduleCallback,Ll=a.unstable_cancelCallback,jx=a.unstable_shouldYield,Sx=a.unstable_requestPaint,tt=a.unstable_now,_x=a.unstable_getCurrentPriorityLevel,ec=a.unstable_ImmediatePriority,Ol=a.unstable_UserBlockingPriority,Cr=a.unstable_NormalPriority,Dx=a.unstable_LowPriority,Fl=a.unstable_IdlePriority,br=null,ua=null;function Bx(e){if(ua&&typeof ua.onCommitFiberRoot=="function")try{ua.onCommitFiberRoot(br,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Ex,kx=Math.log,Tx=Math.LN2;function Ex(e){return e>>>=0,e===0?32:31-(kx(e)/Tx|0)|0}var Nr=64,jr=4194304;function ms(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sr(e,t){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,u=e.pingedLanes,v=s&268435455;if(v!==0){var w=v&~m;w!==0?d=ms(w):(u&=v,u!==0&&(d=ms(u)))}else v=s&~m,v!==0?d=ms(v):u!==0&&(d=ms(u));if(d===0)return 0;if(t!==0&&t!==d&&(t&m)===0&&(m=d&-d,u=t&-t,m>=u||m===16&&(u&4194240)!==0))return t;if((d&4)!==0&&(d|=s&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=d;0<t;)s=31-Yt(t),m=1<<s,d|=e[s],t&=~m;return d}function Mx(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rx(e,t){for(var s=e.suspendedLanes,d=e.pingedLanes,m=e.expirationTimes,u=e.pendingLanes;0<u;){var v=31-Yt(u),w=1<<v,b=m[v];b===-1?((w&s)===0||(w&d)!==0)&&(m[v]=Mx(w,t)):b<=t&&(e.expiredLanes|=w),u&=~w}}function tc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ul(){var e=Nr;return Nr<<=1,(Nr&4194240)===0&&(Nr=64),e}function ac(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ps(e,t,s){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=s}function Ix(e,t){var s=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<s;){var m=31-Yt(s),u=1<<m;t[m]=0,d[m]=-1,e[m]=-1,s&=~u}}function nc(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var d=31-Yt(s),m=1<<d;m&t|e[d]&t&&(e[d]|=t),s&=~m}}var Oe=0;function Hl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var $l,oc,zl,Vl,Wl,sc=!1,_r=[],Ua=null,Ha=null,$a=null,us=new Map,xs=new Map,za=[],Lx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ql(e,t){switch(e){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Ha=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function hs(e,t,s,d,m,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:s,eventSystemFlags:d,nativeEvent:u,targetContainers:[m]},t!==null&&(t=Ds(t),t!==null&&oc(t)),e):(e.eventSystemFlags|=d,t=e.targetContainers,m!==null&&t.indexOf(m)===-1&&t.push(m),e)}function Ox(e,t,s,d,m){switch(t){case"focusin":return Ua=hs(Ua,e,t,s,d,m),!0;case"dragenter":return Ha=hs(Ha,e,t,s,d,m),!0;case"mouseover":return $a=hs($a,e,t,s,d,m),!0;case"pointerover":var u=m.pointerId;return us.set(u,hs(us.get(u)||null,e,t,s,d,m)),!0;case"gotpointercapture":return u=m.pointerId,xs.set(u,hs(xs.get(u)||null,e,t,s,d,m)),!0}return!1}function Ql(e){var t=Sn(e.target);if(t!==null){var s=jn(t);if(s!==null){if(t=s.tag,t===13){if(t=Tl(s),t!==null){e.blockedOn=t,Wl(e.priority,function(){zl(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=ic(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var d=new s.constructor(s.type,s);O=d,s.target.dispatchEvent(d),O=null}else return t=Ds(s),t!==null&&oc(t),e.blockedOn=s,!1;t.shift()}return!0}function Kl(e,t,s){Dr(e)&&s.delete(t)}function Fx(){sc=!1,Ua!==null&&Dr(Ua)&&(Ua=null),Ha!==null&&Dr(Ha)&&(Ha=null),$a!==null&&Dr($a)&&($a=null),us.forEach(Kl),xs.forEach(Kl)}function fs(e,t){e.blockedOn===t&&(e.blockedOn=null,sc||(sc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Fx)))}function gs(e){function t(m){return fs(m,e)}if(0<_r.length){fs(_r[0],e);for(var s=1;s<_r.length;s++){var d=_r[s];d.blockedOn===e&&(d.blockedOn=null)}}for(Ua!==null&&fs(Ua,e),Ha!==null&&fs(Ha,e),$a!==null&&fs($a,e),us.forEach(t),xs.forEach(t),s=0;s<za.length;s++)d=za[s],d.blockedOn===e&&(d.blockedOn=null);for(;0<za.length&&(s=za[0],s.blockedOn===null);)Ql(s),s.blockedOn===null&&za.shift()}var ao=R.ReactCurrentBatchConfig,Br=!0;function Ux(e,t,s,d){var m=Oe,u=ao.transition;ao.transition=null;try{Oe=1,rc(e,t,s,d)}finally{Oe=m,ao.transition=u}}function Hx(e,t,s,d){var m=Oe,u=ao.transition;ao.transition=null;try{Oe=4,rc(e,t,s,d)}finally{Oe=m,ao.transition=u}}function rc(e,t,s,d){if(Br){var m=ic(e,t,s,d);if(m===null)bc(e,t,d,kr,s),ql(e,d);else if(Ox(m,e,t,s,d))d.stopPropagation();else if(ql(e,d),t&4&&-1<Lx.indexOf(e)){for(;m!==null;){var u=Ds(m);if(u!==null&&$l(u),u=ic(e,t,s,d),u===null&&bc(e,t,d,kr,s),u===m)break;m=u}m!==null&&d.stopPropagation()}else bc(e,t,d,null,s)}}var kr=null;function ic(e,t,s,d){if(kr=null,e=K(d),e=Sn(e),e!==null)if(t=jn(e),t===null)e=null;else if(s=t.tag,s===13){if(e=Tl(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return kr=e,null}function Gl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_x()){case ec:return 1;case Ol:return 4;case Cr:case Dx:return 16;case Fl:return 536870912;default:return 16}default:return 16}}var Va=null,cc=null,Tr=null;function Jl(){if(Tr)return Tr;var e,t=cc,s=t.length,d,m="value"in Va?Va.value:Va.textContent,u=m.length;for(e=0;e<s&&t[e]===m[e];e++);var v=s-e;for(d=1;d<=v&&t[s-d]===m[u-d];d++);return Tr=m.slice(e,1<d?1-d:void 0)}function Er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Mr(){return!0}function Yl(){return!1}function It(e){function t(s,d,m,u,v){this._reactName=s,this._targetInst=m,this.type=d,this.nativeEvent=u,this.target=v,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(u):u[w]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Mr:Yl,this.isPropagationStopped=Yl,this}return te(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mr)},persist:function(){},isPersistent:Mr}),t}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dc=It(no),vs=te({},no,{view:0,detail:0}),$x=It(vs),lc,mc,ys,Rr=te({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(lc=e.screenX-ys.screenX,mc=e.screenY-ys.screenY):mc=lc=0,ys=e),lc)},movementY:function(e){return"movementY"in e?e.movementY:mc}}),Xl=It(Rr),zx=te({},Rr,{dataTransfer:0}),Vx=It(zx),Wx=te({},vs,{relatedTarget:0}),pc=It(Wx),qx=te({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),Qx=It(qx),Kx=te({},no,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gx=It(Kx),Jx=te({},no,{data:0}),Zl=It(Jx),Yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zx[e])?!!t[e]:!1}function uc(){return eh}var th=te({},vs,{key:function(e){if(e.key){var t=Yx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uc,charCode:function(e){return e.type==="keypress"?Er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ah=It(th),nh=te({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e2=It(nh),oh=te({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uc}),sh=It(oh),rh=te({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),ih=It(rh),ch=te({},Rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dh=It(ch),lh=[9,13,27,32],xc=x&&"CompositionEvent"in window,Ps=null;x&&"documentMode"in document&&(Ps=document.documentMode);var mh=x&&"TextEvent"in window&&!Ps,t2=x&&(!xc||Ps&&8<Ps&&11>=Ps),a2=" ",n2=!1;function o2(e,t){switch(e){case"keyup":return lh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function s2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oo=!1;function ph(e,t){switch(e){case"compositionend":return s2(t);case"keypress":return t.which!==32?null:(n2=!0,a2);case"textInput":return e=t.data,e===a2&&n2?null:e;default:return null}}function uh(e,t){if(oo)return e==="compositionend"||!xc&&o2(e,t)?(e=Jl(),Tr=cc=Va=null,oo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return t2&&t.locale!=="ko"?null:t.data;default:return null}}var xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xh[e.type]:t==="textarea"}function i2(e,t,s,d){ze(d),t=Ur(t,"onChange"),0<t.length&&(s=new dc("onChange","change",null,s,d),e.push({event:s,listeners:t}))}var As=null,ws=null;function hh(e){N2(e,0)}function Ir(e){var t=lo(e);if(os(t))return e}function fh(e,t){if(e==="change")return t}var c2=!1;if(x){var hc;if(x){var fc="oninput"in document;if(!fc){var d2=document.createElement("div");d2.setAttribute("oninput","return;"),fc=typeof d2.oninput=="function"}hc=fc}else hc=!1;c2=hc&&(!document.documentMode||9<document.documentMode)}function l2(){As&&(As.detachEvent("onpropertychange",m2),ws=As=null)}function m2(e){if(e.propertyName==="value"&&Ir(ws)){var t=[];i2(t,ws,e,K(e)),bn(hh,t)}}function gh(e,t,s){e==="focusin"?(l2(),As=t,ws=s,As.attachEvent("onpropertychange",m2)):e==="focusout"&&l2()}function vh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ir(ws)}function yh(e,t){if(e==="click")return Ir(t)}function Ph(e,t){if(e==="input"||e==="change")return Ir(t)}function Ah(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xt=typeof Object.is=="function"?Object.is:Ah;function Cs(e,t){if(Xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),d=Object.keys(t);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var m=s[d];if(!h.call(t,m)||!Xt(e[m],t[m]))return!1}return!0}function p2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u2(e,t){var s=p2(e);e=0;for(var d;s;){if(s.nodeType===3){if(d=e+s.textContent.length,e<=t&&d>=t)return{node:s,offset:t-e};e=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=p2(s)}}function x2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?x2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function h2(){for(var e=window,t=Ht();t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ht(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wh(e){var t=h2(),s=e.focusedElem,d=e.selectionRange;if(t!==s&&s&&s.ownerDocument&&x2(s.ownerDocument.documentElement,s)){if(d!==null&&gc(s)){if(t=d.start,e=d.end,e===void 0&&(e=t),"selectionStart"in s)s.selectionStart=t,s.selectionEnd=Math.min(e,s.value.length);else if(e=(t=s.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var m=s.textContent.length,u=Math.min(d.start,m);d=d.end===void 0?u:Math.min(d.end,m),!e.extend&&u>d&&(m=d,d=u,u=m),m=u2(s,u);var v=u2(s,d);m&&v&&(e.rangeCount!==1||e.anchorNode!==m.node||e.anchorOffset!==m.offset||e.focusNode!==v.node||e.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(m.node,m.offset),e.removeAllRanges(),u>d?(e.addRange(t),e.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),e.addRange(t)))}}for(t=[],e=s;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<t.length;s++)e=t[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ch=x&&"documentMode"in document&&11>=document.documentMode,so=null,vc=null,bs=null,yc=!1;function f2(e,t,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;yc||so==null||so!==Ht(d)||(d=so,"selectionStart"in d&&gc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),bs&&Cs(bs,d)||(bs=d,d=Ur(vc,"onSelect"),0<d.length&&(t=new dc("onSelect","select",null,t,s),e.push({event:t,listeners:d}),t.target=so)))}function Lr(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var ro={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionend:Lr("Transition","TransitionEnd")},Pc={},g2={};x&&(g2=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Or(e){if(Pc[e])return Pc[e];if(!ro[e])return e;var t=ro[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in g2)return Pc[e]=t[s];return e}var v2=Or("animationend"),y2=Or("animationiteration"),P2=Or("animationstart"),A2=Or("transitionend"),w2=new Map,C2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wa(e,t){w2.set(e,t),l(t,[e])}for(var Ac=0;Ac<C2.length;Ac++){var wc=C2[Ac],bh=wc.toLowerCase(),Nh=wc[0].toUpperCase()+wc.slice(1);Wa(bh,"on"+Nh)}Wa(v2,"onAnimationEnd"),Wa(y2,"onAnimationIteration"),Wa(P2,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(A2,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function b2(e,t,s){var d=e.type||"unknown-event";e.currentTarget=s,bx(d,t,void 0,e),e.currentTarget=null}function N2(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var d=e[s],m=d.event;d=d.listeners;e:{var u=void 0;if(t)for(var v=d.length-1;0<=v;v--){var w=d[v],b=w.instance,L=w.currentTarget;if(w=w.listener,b!==u&&m.isPropagationStopped())break e;b2(m,w,L),u=b}else for(v=0;v<d.length;v++){if(w=d[v],b=w.instance,L=w.currentTarget,w=w.listener,b!==u&&m.isPropagationStopped())break e;b2(m,w,L),u=b}}}if(wr)throw e=Zi,wr=!1,Zi=null,e}function qe(e,t){var s=t[Bc];s===void 0&&(s=t[Bc]=new Set);var d=e+"__bubble";s.has(d)||(j2(t,e,2,!1),s.add(d))}function Cc(e,t,s){var d=0;t&&(d|=4),j2(s,e,d,t)}var Fr="_reactListening"+Math.random().toString(36).slice(2);function js(e){if(!e[Fr]){e[Fr]=!0,r.forEach(function(s){s!=="selectionchange"&&(jh.has(s)||Cc(s,!1,e),Cc(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Fr]||(t[Fr]=!0,Cc("selectionchange",!1,t))}}function j2(e,t,s,d){switch(Gl(t)){case 1:var m=Ux;break;case 4:m=Hx;break;default:m=rc}s=m.bind(null,t,s,e),m=void 0,!Nn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(m=!0),d?m!==void 0?e.addEventListener(t,s,{capture:!0,passive:m}):e.addEventListener(t,s,!0):m!==void 0?e.addEventListener(t,s,{passive:m}):e.addEventListener(t,s,!1)}function bc(e,t,s,d,m){var u=d;if((t&1)===0&&(t&2)===0&&d!==null)e:for(;;){if(d===null)return;var v=d.tag;if(v===3||v===4){var w=d.stateNode.containerInfo;if(w===m||w.nodeType===8&&w.parentNode===m)break;if(v===4)for(v=d.return;v!==null;){var b=v.tag;if((b===3||b===4)&&(b=v.stateNode.containerInfo,b===m||b.nodeType===8&&b.parentNode===m))return;v=v.return}for(;w!==null;){if(v=Sn(w),v===null)return;if(b=v.tag,b===5||b===6){d=u=v;continue e}w=w.parentNode}}d=d.return}bn(function(){var L=u,Q=K(s),G=[];e:{var q=w2.get(e);if(q!==void 0){var ae=dc,re=e;switch(e){case"keypress":if(Er(s)===0)break e;case"keydown":case"keyup":ae=ah;break;case"focusin":re="focus",ae=pc;break;case"focusout":re="blur",ae=pc;break;case"beforeblur":case"afterblur":ae=pc;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Vx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=sh;break;case v2:case y2:case P2:ae=Qx;break;case A2:ae=ih;break;case"scroll":ae=$x;break;case"wheel":ae=dh;break;case"copy":case"cut":case"paste":ae=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=e2}var ie=(t&4)!==0,at=!ie&&e==="scroll",T=ie?q!==null?q+"Capture":null:q;ie=[];for(var D=L,M;D!==null;){M=D;var Y=M.stateNode;if(M.tag===5&&Y!==null&&(M=Y,T!==null&&(Y=Oa(D,T),Y!=null&&ie.push(Ss(D,Y,M)))),at)break;D=D.return}0<ie.length&&(q=new ae(q,re,null,s,Q),G.push({event:q,listeners:ie}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",q&&s!==O&&(re=s.relatedTarget||s.fromElement)&&(Sn(re)||re[wa]))break e;if((ae||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,ae?(re=s.relatedTarget||s.toElement,ae=L,re=re?Sn(re):null,re!==null&&(at=jn(re),re!==at||re.tag!==5&&re.tag!==6)&&(re=null)):(ae=null,re=L),ae!==re)){if(ie=Xl,Y="onMouseLeave",T="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(ie=e2,Y="onPointerLeave",T="onPointerEnter",D="pointer"),at=ae==null?q:lo(ae),M=re==null?q:lo(re),q=new ie(Y,D+"leave",ae,s,Q),q.target=at,q.relatedTarget=M,Y=null,Sn(Q)===L&&(ie=new ie(T,D+"enter",re,s,Q),ie.target=M,ie.relatedTarget=at,Y=ie),at=Y,ae&&re)t:{for(ie=ae,T=re,D=0,M=ie;M;M=io(M))D++;for(M=0,Y=T;Y;Y=io(Y))M++;for(;0<D-M;)ie=io(ie),D--;for(;0<M-D;)T=io(T),M--;for(;D--;){if(ie===T||T!==null&&ie===T.alternate)break t;ie=io(ie),T=io(T)}ie=null}else ie=null;ae!==null&&S2(G,q,ae,ie,!1),re!==null&&at!==null&&S2(G,at,re,ie,!0)}}e:{if(q=L?lo(L):window,ae=q.nodeName&&q.nodeName.toLowerCase(),ae==="select"||ae==="input"&&q.type==="file")var ce=fh;else if(r2(q))if(c2)ce=Ph;else{ce=vh;var ue=gh}else(ae=q.nodeName)&&ae.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ce=yh);if(ce&&(ce=ce(e,L))){i2(G,ce,s,Q);break e}ue&&ue(e,q,L),e==="focusout"&&(ue=q._wrapperState)&&ue.controlled&&q.type==="number"&&Zn(q,"number",q.value)}switch(ue=L?lo(L):window,e){case"focusin":(r2(ue)||ue.contentEditable==="true")&&(so=ue,vc=L,bs=null);break;case"focusout":bs=vc=so=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,f2(G,s,Q);break;case"selectionchange":if(Ch)break;case"keydown":case"keyup":f2(G,s,Q)}var xe;if(xc)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else oo?o2(e,s)&&(ge="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(ge="onCompositionStart");ge&&(t2&&s.locale!=="ko"&&(oo||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&oo&&(xe=Jl()):(Va=Q,cc="value"in Va?Va.value:Va.textContent,oo=!0)),ue=Ur(L,ge),0<ue.length&&(ge=new Zl(ge,e,null,s,Q),G.push({event:ge,listeners:ue}),xe?ge.data=xe:(xe=s2(s),xe!==null&&(ge.data=xe)))),(xe=mh?ph(e,s):uh(e,s))&&(L=Ur(L,"onBeforeInput"),0<L.length&&(Q=new Zl("onBeforeInput","beforeinput",null,s,Q),G.push({event:Q,listeners:L}),Q.data=xe))}N2(G,t)})}function Ss(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Ur(e,t){for(var s=t+"Capture",d=[];e!==null;){var m=e,u=m.stateNode;m.tag===5&&u!==null&&(m=u,u=Oa(e,s),u!=null&&d.unshift(Ss(e,u,m)),u=Oa(e,t),u!=null&&d.push(Ss(e,u,m))),e=e.return}return d}function io(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S2(e,t,s,d,m){for(var u=t._reactName,v=[];s!==null&&s!==d;){var w=s,b=w.alternate,L=w.stateNode;if(b!==null&&b===d)break;w.tag===5&&L!==null&&(w=L,m?(b=Oa(s,u),b!=null&&v.unshift(Ss(s,b,w))):m||(b=Oa(s,u),b!=null&&v.push(Ss(s,b,w)))),s=s.return}v.length!==0&&e.push({event:t,listeners:v})}var Sh=/\r\n?/g,_h=/\u0000|\uFFFD/g;function _2(e){return(typeof e=="string"?e:""+e).replace(Sh,`
`).replace(_h,"")}function Hr(e,t,s){if(t=_2(t),_2(e)!==t&&s)throw Error(n(425))}function $r(){}var Nc=null,jc=null;function Sc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _c=typeof setTimeout=="function"?setTimeout:void 0,Dh=typeof clearTimeout=="function"?clearTimeout:void 0,D2=typeof Promise=="function"?Promise:void 0,Bh=typeof queueMicrotask=="function"?queueMicrotask:typeof D2<"u"?function(e){return D2.resolve(null).then(e).catch(kh)}:_c;function kh(e){setTimeout(function(){throw e})}function Dc(e,t){var s=t,d=0;do{var m=s.nextSibling;if(e.removeChild(s),m&&m.nodeType===8)if(s=m.data,s==="/$"){if(d===0){e.removeChild(m),gs(t);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=m}while(s);gs(t)}function qa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function B2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(t===0)return e;t--}else s==="/$"&&t++}e=e.previousSibling}return null}var co=Math.random().toString(36).slice(2),xa="__reactFiber$"+co,_s="__reactProps$"+co,wa="__reactContainer$"+co,Bc="__reactEvents$"+co,Th="__reactListeners$"+co,Eh="__reactHandles$"+co;function Sn(e){var t=e[xa];if(t)return t;for(var s=e.parentNode;s;){if(t=s[wa]||s[xa]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=B2(e);e!==null;){if(s=e[xa])return s;e=B2(e)}return t}e=s,s=e.parentNode}return null}function Ds(e){return e=e[xa]||e[wa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function lo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function zr(e){return e[_s]||null}var kc=[],mo=-1;function Qa(e){return{current:e}}function Qe(e){0>mo||(e.current=kc[mo],kc[mo]=null,mo--)}function Ve(e,t){mo++,kc[mo]=e.current,e.current=t}var Ka={},vt=Qa(Ka),Bt=Qa(!1),_n=Ka;function po(e,t){var s=e.type.contextTypes;if(!s)return Ka;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===t)return d.__reactInternalMemoizedMaskedChildContext;var m={},u;for(u in s)m[u]=t[u];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=m),m}function kt(e){return e=e.childContextTypes,e!=null}function Vr(){Qe(Bt),Qe(vt)}function k2(e,t,s){if(vt.current!==Ka)throw Error(n(168));Ve(vt,t),Ve(Bt,s)}function T2(e,t,s){var d=e.stateNode;if(t=t.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var m in d)if(!(m in t))throw Error(n(108,Ue(e)||"Unknown",m));return te({},s,d)}function Wr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ka,_n=vt.current,Ve(vt,e),Ve(Bt,Bt.current),!0}function E2(e,t,s){var d=e.stateNode;if(!d)throw Error(n(169));s?(e=T2(e,t,_n),d.__reactInternalMemoizedMergedChildContext=e,Qe(Bt),Qe(vt),Ve(vt,e)):Qe(Bt),Ve(Bt,s)}var Ca=null,qr=!1,Tc=!1;function M2(e){Ca===null?Ca=[e]:Ca.push(e)}function Mh(e){qr=!0,M2(e)}function Ga(){if(!Tc&&Ca!==null){Tc=!0;var e=0,t=Oe;try{var s=Ca;for(Oe=1;e<s.length;e++){var d=s[e];do d=d(!0);while(d!==null)}Ca=null,qr=!1}catch(m){throw Ca!==null&&(Ca=Ca.slice(e+1)),Il(ec,Ga),m}finally{Oe=t,Tc=!1}}return null}var uo=[],xo=0,Qr=null,Kr=0,$t=[],zt=0,Dn=null,ba=1,Na="";function Bn(e,t){uo[xo++]=Kr,uo[xo++]=Qr,Qr=e,Kr=t}function R2(e,t,s){$t[zt++]=ba,$t[zt++]=Na,$t[zt++]=Dn,Dn=e;var d=ba;e=Na;var m=32-Yt(d)-1;d&=~(1<<m),s+=1;var u=32-Yt(t)+m;if(30<u){var v=m-m%5;u=(d&(1<<v)-1).toString(32),d>>=v,m-=v,ba=1<<32-Yt(t)+m|s<<m|d,Na=u+e}else ba=1<<u|s<<m|d,Na=e}function Ec(e){e.return!==null&&(Bn(e,1),R2(e,1,0))}function Mc(e){for(;e===Qr;)Qr=uo[--xo],uo[xo]=null,Kr=uo[--xo],uo[xo]=null;for(;e===Dn;)Dn=$t[--zt],$t[zt]=null,Na=$t[--zt],$t[zt]=null,ba=$t[--zt],$t[zt]=null}var Lt=null,Ot=null,Ke=!1,Zt=null;function I2(e,t){var s=Qt(5,null,null,0);s.elementType="DELETED",s.stateNode=t,s.return=e,t=e.deletions,t===null?(e.deletions=[s],e.flags|=16):t.push(s)}function L2(e,t){switch(e.tag){case 5:var s=e.type;return t=t.nodeType!==1||s.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lt=e,Ot=qa(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lt=e,Ot=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(s=Dn!==null?{id:ba,overflow:Na}:null,e.memoizedState={dehydrated:t,treeContext:s,retryLane:1073741824},s=Qt(18,null,null,0),s.stateNode=t,s.return=e,e.child=s,Lt=e,Ot=null,!0):!1;default:return!1}}function Rc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ic(e){if(Ke){var t=Ot;if(t){var s=t;if(!L2(e,t)){if(Rc(e))throw Error(n(418));t=qa(s.nextSibling);var d=Lt;t&&L2(e,t)?I2(d,s):(e.flags=e.flags&-4097|2,Ke=!1,Lt=e)}}else{if(Rc(e))throw Error(n(418));e.flags=e.flags&-4097|2,Ke=!1,Lt=e}}}function O2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lt=e}function Gr(e){if(e!==Lt)return!1;if(!Ke)return O2(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sc(e.type,e.memoizedProps)),t&&(t=Ot)){if(Rc(e))throw F2(),Error(n(418));for(;t;)I2(e,t),t=qa(t.nextSibling)}if(O2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(t===0){Ot=qa(e.nextSibling);break e}t--}else s!=="$"&&s!=="$!"&&s!=="$?"||t++}e=e.nextSibling}Ot=null}}else Ot=Lt?qa(e.stateNode.nextSibling):null;return!0}function F2(){for(var e=Ot;e;)e=qa(e.nextSibling)}function ho(){Ot=Lt=null,Ke=!1}function Lc(e){Zt===null?Zt=[e]:Zt.push(e)}var Rh=R.ReactCurrentBatchConfig;function Bs(e,t,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(n(309));var d=s.stateNode}if(!d)throw Error(n(147,e));var m=d,u=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===u?t.ref:(t=function(v){var w=m.refs;v===null?delete w[u]:w[u]=v},t._stringRef=u,t)}if(typeof e!="string")throw Error(n(284));if(!s._owner)throw Error(n(290,e))}return e}function Jr(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function U2(e){var t=e._init;return t(e._payload)}function H2(e){function t(T,D){if(e){var M=T.deletions;M===null?(T.deletions=[D],T.flags|=16):M.push(D)}}function s(T,D){if(!e)return null;for(;D!==null;)t(T,D),D=D.sibling;return null}function d(T,D){for(T=new Map;D!==null;)D.key!==null?T.set(D.key,D):T.set(D.index,D),D=D.sibling;return T}function m(T,D){return T=nn(T,D),T.index=0,T.sibling=null,T}function u(T,D,M){return T.index=M,e?(M=T.alternate,M!==null?(M=M.index,M<D?(T.flags|=2,D):M):(T.flags|=2,D)):(T.flags|=1048576,D)}function v(T){return e&&T.alternate===null&&(T.flags|=2),T}function w(T,D,M,Y){return D===null||D.tag!==6?(D=_d(M,T.mode,Y),D.return=T,D):(D=m(D,M),D.return=T,D)}function b(T,D,M,Y){var ce=M.type;return ce===S?Q(T,D,M.props.children,Y,M.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===et&&U2(ce)===D.type)?(Y=m(D,M.props),Y.ref=Bs(T,D,M),Y.return=T,Y):(Y=Pi(M.type,M.key,M.props,null,T.mode,Y),Y.ref=Bs(T,D,M),Y.return=T,Y)}function L(T,D,M,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==M.containerInfo||D.stateNode.implementation!==M.implementation?(D=Dd(M,T.mode,Y),D.return=T,D):(D=m(D,M.children||[]),D.return=T,D)}function Q(T,D,M,Y,ce){return D===null||D.tag!==7?(D=On(M,T.mode,Y,ce),D.return=T,D):(D=m(D,M),D.return=T,D)}function G(T,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return D=_d(""+D,T.mode,M),D.return=T,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case $:return M=Pi(D.type,D.key,D.props,null,T.mode,M),M.ref=Bs(T,null,D),M.return=T,M;case J:return D=Dd(D,T.mode,M),D.return=T,D;case et:var Y=D._init;return G(T,Y(D._payload),M)}if(ma(D)||oe(D))return D=On(D,T.mode,M,null),D.return=T,D;Jr(T,D)}return null}function q(T,D,M,Y){var ce=D!==null?D.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return ce!==null?null:w(T,D,""+M,Y);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case $:return M.key===ce?b(T,D,M,Y):null;case J:return M.key===ce?L(T,D,M,Y):null;case et:return ce=M._init,q(T,D,ce(M._payload),Y)}if(ma(M)||oe(M))return ce!==null?null:Q(T,D,M,Y,null);Jr(T,M)}return null}function ae(T,D,M,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return T=T.get(M)||null,w(D,T,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case $:return T=T.get(Y.key===null?M:Y.key)||null,b(D,T,Y,ce);case J:return T=T.get(Y.key===null?M:Y.key)||null,L(D,T,Y,ce);case et:var ue=Y._init;return ae(T,D,M,ue(Y._payload),ce)}if(ma(Y)||oe(Y))return T=T.get(M)||null,Q(D,T,Y,ce,null);Jr(D,Y)}return null}function re(T,D,M,Y){for(var ce=null,ue=null,xe=D,ge=D=0,ut=null;xe!==null&&ge<M.length;ge++){xe.index>ge?(ut=xe,xe=null):ut=xe.sibling;var Re=q(T,xe,M[ge],Y);if(Re===null){xe===null&&(xe=ut);break}e&&xe&&Re.alternate===null&&t(T,xe),D=u(Re,D,ge),ue===null?ce=Re:ue.sibling=Re,ue=Re,xe=ut}if(ge===M.length)return s(T,xe),Ke&&Bn(T,ge),ce;if(xe===null){for(;ge<M.length;ge++)xe=G(T,M[ge],Y),xe!==null&&(D=u(xe,D,ge),ue===null?ce=xe:ue.sibling=xe,ue=xe);return Ke&&Bn(T,ge),ce}for(xe=d(T,xe);ge<M.length;ge++)ut=ae(xe,T,ge,M[ge],Y),ut!==null&&(e&&ut.alternate!==null&&xe.delete(ut.key===null?ge:ut.key),D=u(ut,D,ge),ue===null?ce=ut:ue.sibling=ut,ue=ut);return e&&xe.forEach(function(on){return t(T,on)}),Ke&&Bn(T,ge),ce}function ie(T,D,M,Y){var ce=oe(M);if(typeof ce!="function")throw Error(n(150));if(M=ce.call(M),M==null)throw Error(n(151));for(var ue=ce=null,xe=D,ge=D=0,ut=null,Re=M.next();xe!==null&&!Re.done;ge++,Re=M.next()){xe.index>ge?(ut=xe,xe=null):ut=xe.sibling;var on=q(T,xe,Re.value,Y);if(on===null){xe===null&&(xe=ut);break}e&&xe&&on.alternate===null&&t(T,xe),D=u(on,D,ge),ue===null?ce=on:ue.sibling=on,ue=on,xe=ut}if(Re.done)return s(T,xe),Ke&&Bn(T,ge),ce;if(xe===null){for(;!Re.done;ge++,Re=M.next())Re=G(T,Re.value,Y),Re!==null&&(D=u(Re,D,ge),ue===null?ce=Re:ue.sibling=Re,ue=Re);return Ke&&Bn(T,ge),ce}for(xe=d(T,xe);!Re.done;ge++,Re=M.next())Re=ae(xe,T,ge,Re.value,Y),Re!==null&&(e&&Re.alternate!==null&&xe.delete(Re.key===null?ge:Re.key),D=u(Re,D,ge),ue===null?ce=Re:ue.sibling=Re,ue=Re);return e&&xe.forEach(function(hf){return t(T,hf)}),Ke&&Bn(T,ge),ce}function at(T,D,M,Y){if(typeof M=="object"&&M!==null&&M.type===S&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case $:e:{for(var ce=M.key,ue=D;ue!==null;){if(ue.key===ce){if(ce=M.type,ce===S){if(ue.tag===7){s(T,ue.sibling),D=m(ue,M.props.children),D.return=T,T=D;break e}}else if(ue.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===et&&U2(ce)===ue.type){s(T,ue.sibling),D=m(ue,M.props),D.ref=Bs(T,ue,M),D.return=T,T=D;break e}s(T,ue);break}else t(T,ue);ue=ue.sibling}M.type===S?(D=On(M.props.children,T.mode,Y,M.key),D.return=T,T=D):(Y=Pi(M.type,M.key,M.props,null,T.mode,Y),Y.ref=Bs(T,D,M),Y.return=T,T=Y)}return v(T);case J:e:{for(ue=M.key;D!==null;){if(D.key===ue)if(D.tag===4&&D.stateNode.containerInfo===M.containerInfo&&D.stateNode.implementation===M.implementation){s(T,D.sibling),D=m(D,M.children||[]),D.return=T,T=D;break e}else{s(T,D);break}else t(T,D);D=D.sibling}D=Dd(M,T.mode,Y),D.return=T,T=D}return v(T);case et:return ue=M._init,at(T,D,ue(M._payload),Y)}if(ma(M))return re(T,D,M,Y);if(oe(M))return ie(T,D,M,Y);Jr(T,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,D!==null&&D.tag===6?(s(T,D.sibling),D=m(D,M),D.return=T,T=D):(s(T,D),D=_d(M,T.mode,Y),D.return=T,T=D),v(T)):s(T,D)}return at}var fo=H2(!0),$2=H2(!1),Yr=Qa(null),Xr=null,go=null,Oc=null;function Fc(){Oc=go=Xr=null}function Uc(e){var t=Yr.current;Qe(Yr),e._currentValue=t}function Hc(e,t,s){for(;e!==null;){var d=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,d!==null&&(d.childLanes|=t)):d!==null&&(d.childLanes&t)!==t&&(d.childLanes|=t),e===s)break;e=e.return}}function vo(e,t){Xr=e,Oc=go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Tt=!0),e.firstContext=null)}function Vt(e){var t=e._currentValue;if(Oc!==e)if(e={context:e,memoizedValue:t,next:null},go===null){if(Xr===null)throw Error(n(308));go=e,Xr.dependencies={lanes:0,firstContext:e}}else go=go.next=e;return t}var kn=null;function $c(e){kn===null?kn=[e]:kn.push(e)}function z2(e,t,s,d){var m=t.interleaved;return m===null?(s.next=s,$c(t)):(s.next=m.next,m.next=s),t.interleaved=s,ja(e,d)}function ja(e,t){e.lanes|=t;var s=e.alternate;for(s!==null&&(s.lanes|=t),s=e,e=e.return;e!==null;)e.childLanes|=t,s=e.alternate,s!==null&&(s.childLanes|=t),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Ja=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,s){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,(ke&2)!==0){var m=d.pending;return m===null?t.next=t:(t.next=m.next,m.next=t),d.pending=t,ja(e,s)}return m=d.interleaved,m===null?(t.next=t,$c(d)):(t.next=m.next,m.next=t),d.interleaved=t,ja(e,s)}function Zr(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194240)!==0)){var d=t.lanes;d&=e.pendingLanes,s|=d,t.lanes=s,nc(e,s)}}function W2(e,t){var s=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var m=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var v={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};u===null?m=u=v:u=u.next=v,s=s.next}while(s!==null);u===null?m=u=t:u=u.next=t}else m=u=t;s={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:u,shared:d.shared,effects:d.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}function ei(e,t,s,d){var m=e.updateQueue;Ja=!1;var u=m.firstBaseUpdate,v=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var b=w,L=b.next;b.next=null,v===null?u=L:v.next=L,v=b;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==v&&(w===null?Q.firstBaseUpdate=L:w.next=L,Q.lastBaseUpdate=b))}if(u!==null){var G=m.baseState;v=0,Q=L=b=null,w=u;do{var q=w.lane,ae=w.eventTime;if((d&q)===q){Q!==null&&(Q=Q.next={eventTime:ae,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var re=e,ie=w;switch(q=t,ae=s,ie.tag){case 1:if(re=ie.payload,typeof re=="function"){G=re.call(ae,G,q);break e}G=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ie.payload,q=typeof re=="function"?re.call(ae,G,q):re,q==null)break e;G=te({},G,q);break e;case 2:Ja=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,q=m.effects,q===null?m.effects=[w]:q.push(w))}else ae={eventTime:ae,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(L=Q=ae,b=G):Q=Q.next=ae,v|=q;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;q=w,w=q.next,q.next=null,m.lastBaseUpdate=q,m.shared.pending=null}}while(!0);if(Q===null&&(b=G),m.baseState=b,m.firstBaseUpdate=L,m.lastBaseUpdate=Q,t=m.shared.interleaved,t!==null){m=t;do v|=m.lane,m=m.next;while(m!==t)}else u===null&&(m.shared.lanes=0);Mn|=v,e.lanes=v,e.memoizedState=G}}function q2(e,t,s){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var d=e[t],m=d.callback;if(m!==null){if(d.callback=null,d=s,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var ks={},ha=Qa(ks),Ts=Qa(ks),Es=Qa(ks);function Tn(e){if(e===ks)throw Error(n(174));return e}function Vc(e,t){switch(Ve(Es,t),Ve(Ts,e),Ve(ha,ks),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:is(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=is(t,e)}Qe(ha),Ve(ha,t)}function yo(){Qe(ha),Qe(Ts),Qe(Es)}function Q2(e){Tn(Es.current);var t=Tn(ha.current),s=is(t,e.type);t!==s&&(Ve(Ts,e),Ve(ha,s))}function Wc(e){Ts.current===e&&(Qe(ha),Qe(Ts))}var Ge=Qa(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qc=[];function Qc(){for(var e=0;e<qc.length;e++)qc[e]._workInProgressVersionPrimary=null;qc.length=0}var ai=R.ReactCurrentDispatcher,Kc=R.ReactCurrentBatchConfig,En=0,Je=null,rt=null,mt=null,ni=!1,Ms=!1,Rs=0,Ih=0;function yt(){throw Error(n(321))}function Gc(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Xt(e[s],t[s]))return!1;return!0}function Jc(e,t,s,d,m,u){if(En=u,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=e===null||e.memoizedState===null?Uh:Hh,e=s(d,m),Ms){u=0;do{if(Ms=!1,Rs=0,25<=u)throw Error(n(301));u+=1,mt=rt=null,t.updateQueue=null,ai.current=$h,e=s(d,m)}while(Ms)}if(ai.current=ri,t=rt!==null&&rt.next!==null,En=0,mt=rt=Je=null,ni=!1,t)throw Error(n(300));return e}function Yc(){var e=Rs!==0;return Rs=0,e}function fa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Je.memoizedState=mt=e:mt=mt.next=e,mt}function Wt(){if(rt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=mt===null?Je.memoizedState:mt.next;if(t!==null)mt=t,rt=e;else{if(e===null)throw Error(n(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},mt===null?Je.memoizedState=mt=e:mt=mt.next=e}return mt}function Is(e,t){return typeof t=="function"?t(e):t}function Xc(e){var t=Wt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var d=rt,m=d.baseQueue,u=s.pending;if(u!==null){if(m!==null){var v=m.next;m.next=u.next,u.next=v}d.baseQueue=m=u,s.pending=null}if(m!==null){u=m.next,d=d.baseState;var w=v=null,b=null,L=u;do{var Q=L.lane;if((En&Q)===Q)b!==null&&(b=b.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),d=L.hasEagerState?L.eagerState:e(d,L.action);else{var G={lane:Q,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};b===null?(w=b=G,v=d):b=b.next=G,Je.lanes|=Q,Mn|=Q}L=L.next}while(L!==null&&L!==u);b===null?v=d:b.next=w,Xt(d,t.memoizedState)||(Tt=!0),t.memoizedState=d,t.baseState=v,t.baseQueue=b,s.lastRenderedState=d}if(e=s.interleaved,e!==null){m=e;do u=m.lane,Je.lanes|=u,Mn|=u,m=m.next;while(m!==e)}else m===null&&(s.lanes=0);return[t.memoizedState,s.dispatch]}function Zc(e){var t=Wt(),s=t.queue;if(s===null)throw Error(n(311));s.lastRenderedReducer=e;var d=s.dispatch,m=s.pending,u=t.memoizedState;if(m!==null){s.pending=null;var v=m=m.next;do u=e(u,v.action),v=v.next;while(v!==m);Xt(u,t.memoizedState)||(Tt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),s.lastRenderedState=u}return[u,d]}function K2(){}function G2(e,t){var s=Je,d=Wt(),m=t(),u=!Xt(d.memoizedState,m);if(u&&(d.memoizedState=m,Tt=!0),d=d.queue,ed(X2.bind(null,s,d,e),[e]),d.getSnapshot!==t||u||mt!==null&&mt.memoizedState.tag&1){if(s.flags|=2048,Ls(9,Y2.bind(null,s,d,m,t),void 0,null),pt===null)throw Error(n(349));(En&30)!==0||J2(s,t,m)}return m}function J2(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function Y2(e,t,s,d){t.value=s,t.getSnapshot=d,Z2(t)&&em(e)}function X2(e,t,s){return s(function(){Z2(t)&&em(e)})}function Z2(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Xt(e,s)}catch{return!0}}function em(e){var t=ja(e,1);t!==null&&na(t,e,1,-1)}function tm(e){var t=fa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Is,lastRenderedState:e},t.queue=e,e=e.dispatch=Fh.bind(null,Je,e),[t.memoizedState,e]}function Ls(e,t,s,d){return e={tag:e,create:t,destroy:s,deps:d,next:null},t=Je.updateQueue,t===null?(t={lastEffect:null,stores:null},Je.updateQueue=t,t.lastEffect=e.next=e):(s=t.lastEffect,s===null?t.lastEffect=e.next=e:(d=s.next,s.next=e,e.next=d,t.lastEffect=e)),e}function am(){return Wt().memoizedState}function oi(e,t,s,d){var m=fa();Je.flags|=e,m.memoizedState=Ls(1|t,s,void 0,d===void 0?null:d)}function si(e,t,s,d){var m=Wt();d=d===void 0?null:d;var u=void 0;if(rt!==null){var v=rt.memoizedState;if(u=v.destroy,d!==null&&Gc(d,v.deps)){m.memoizedState=Ls(t,s,u,d);return}}Je.flags|=e,m.memoizedState=Ls(1|t,s,u,d)}function nm(e,t){return oi(8390656,8,e,t)}function ed(e,t){return si(2048,8,e,t)}function om(e,t){return si(4,2,e,t)}function sm(e,t){return si(4,4,e,t)}function rm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function im(e,t,s){return s=s!=null?s.concat([e]):null,si(4,4,rm.bind(null,t,e),s)}function td(){}function cm(e,t){var s=Wt();t=t===void 0?null:t;var d=s.memoizedState;return d!==null&&t!==null&&Gc(t,d[1])?d[0]:(s.memoizedState=[e,t],e)}function dm(e,t){var s=Wt();t=t===void 0?null:t;var d=s.memoizedState;return d!==null&&t!==null&&Gc(t,d[1])?d[0]:(e=e(),s.memoizedState=[e,t],e)}function lm(e,t,s){return(En&21)===0?(e.baseState&&(e.baseState=!1,Tt=!0),e.memoizedState=s):(Xt(s,t)||(s=Ul(),Je.lanes|=s,Mn|=s,e.baseState=!0),t)}function Lh(e,t){var s=Oe;Oe=s!==0&&4>s?s:4,e(!0);var d=Kc.transition;Kc.transition={};try{e(!1),t()}finally{Oe=s,Kc.transition=d}}function mm(){return Wt().memoizedState}function Oh(e,t,s){var d=tn(e);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},pm(e))um(t,s);else if(s=z2(e,t,s,d),s!==null){var m=Nt();na(s,e,d,m),xm(s,t,d)}}function Fh(e,t,s){var d=tn(e),m={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(pm(e))um(t,m);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var v=t.lastRenderedState,w=u(v,s);if(m.hasEagerState=!0,m.eagerState=w,Xt(w,v)){var b=t.interleaved;b===null?(m.next=m,$c(t)):(m.next=b.next,b.next=m),t.interleaved=m;return}}catch{}finally{}s=z2(e,t,m,d),s!==null&&(m=Nt(),na(s,e,d,m),xm(s,t,d))}}function pm(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function um(e,t){Ms=ni=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function xm(e,t,s){if((s&4194240)!==0){var d=t.lanes;d&=e.pendingLanes,s|=d,t.lanes=s,nc(e,s)}}var ri={readContext:Vt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},Uh={readContext:Vt,useCallback:function(e,t){return fa().memoizedState=[e,t===void 0?null:t],e},useContext:Vt,useEffect:nm,useImperativeHandle:function(e,t,s){return s=s!=null?s.concat([e]):null,oi(4194308,4,rm.bind(null,t,e),s)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){return oi(4,2,e,t)},useMemo:function(e,t){var s=fa();return t=t===void 0?null:t,e=e(),s.memoizedState=[e,t],e},useReducer:function(e,t,s){var d=fa();return t=s!==void 0?s(t):t,d.memoizedState=d.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},d.queue=e,e=e.dispatch=Oh.bind(null,Je,e),[d.memoizedState,e]},useRef:function(e){var t=fa();return e={current:e},t.memoizedState=e},useState:tm,useDebugValue:td,useDeferredValue:function(e){return fa().memoizedState=e},useTransition:function(){var e=tm(!1),t=e[0];return e=Lh.bind(null,e[1]),fa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,s){var d=Je,m=fa();if(Ke){if(s===void 0)throw Error(n(407));s=s()}else{if(s=t(),pt===null)throw Error(n(349));(En&30)!==0||J2(d,t,s)}m.memoizedState=s;var u={value:s,getSnapshot:t};return m.queue=u,nm(X2.bind(null,d,u,e),[e]),d.flags|=2048,Ls(9,Y2.bind(null,d,u,s,t),void 0,null),s},useId:function(){var e=fa(),t=pt.identifierPrefix;if(Ke){var s=Na,d=ba;s=(d&~(1<<32-Yt(d)-1)).toString(32)+s,t=":"+t+"R"+s,s=Rs++,0<s&&(t+="H"+s.toString(32)),t+=":"}else s=Ih++,t=":"+t+"r"+s.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hh={readContext:Vt,useCallback:cm,useContext:Vt,useEffect:ed,useImperativeHandle:im,useInsertionEffect:om,useLayoutEffect:sm,useMemo:dm,useReducer:Xc,useRef:am,useState:function(){return Xc(Is)},useDebugValue:td,useDeferredValue:function(e){var t=Wt();return lm(t,rt.memoizedState,e)},useTransition:function(){var e=Xc(Is)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:K2,useSyncExternalStore:G2,useId:mm,unstable_isNewReconciler:!1},$h={readContext:Vt,useCallback:cm,useContext:Vt,useEffect:ed,useImperativeHandle:im,useInsertionEffect:om,useLayoutEffect:sm,useMemo:dm,useReducer:Zc,useRef:am,useState:function(){return Zc(Is)},useDebugValue:td,useDeferredValue:function(e){var t=Wt();return rt===null?t.memoizedState=e:lm(t,rt.memoizedState,e)},useTransition:function(){var e=Zc(Is)[0],t=Wt().memoizedState;return[e,t]},useMutableSource:K2,useSyncExternalStore:G2,useId:mm,unstable_isNewReconciler:!1};function ea(e,t){if(e&&e.defaultProps){t=te({},t),e=e.defaultProps;for(var s in e)t[s]===void 0&&(t[s]=e[s]);return t}return t}function ad(e,t,s,d){t=e.memoizedState,s=s(d,t),s=s==null?t:te({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ii={isMounted:function(e){return(e=e._reactInternals)?jn(e)===e:!1},enqueueSetState:function(e,t,s){e=e._reactInternals;var d=Nt(),m=tn(e),u=Sa(d,m);u.payload=t,s!=null&&(u.callback=s),t=Ya(e,u,m),t!==null&&(na(t,e,m,d),Zr(t,e,m))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var d=Nt(),m=tn(e),u=Sa(d,m);u.tag=1,u.payload=t,s!=null&&(u.callback=s),t=Ya(e,u,m),t!==null&&(na(t,e,m,d),Zr(t,e,m))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=Nt(),d=tn(e),m=Sa(s,d);m.tag=2,t!=null&&(m.callback=t),t=Ya(e,m,d),t!==null&&(na(t,e,d,s),Zr(t,e,d))}};function hm(e,t,s,d,m,u,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,u,v):t.prototype&&t.prototype.isPureReactComponent?!Cs(s,d)||!Cs(m,u):!0}function fm(e,t,s){var d=!1,m=Ka,u=t.contextType;return typeof u=="object"&&u!==null?u=Vt(u):(m=kt(t)?_n:vt.current,d=t.contextTypes,u=(d=d!=null)?po(e,m):Ka),t=new t(s,u),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ii,e.stateNode=t,t._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=m,e.__reactInternalMemoizedMaskedChildContext=u),t}function gm(e,t,s,d){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,d),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,d),t.state!==e&&ii.enqueueReplaceState(t,t.state,null)}function nd(e,t,s,d){var m=e.stateNode;m.props=s,m.state=e.memoizedState,m.refs={},zc(e);var u=t.contextType;typeof u=="object"&&u!==null?m.context=Vt(u):(u=kt(t)?_n:vt.current,m.context=po(e,u)),m.state=e.memoizedState,u=t.getDerivedStateFromProps,typeof u=="function"&&(ad(e,t,u,s),m.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(t=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),t!==m.state&&ii.enqueueReplaceState(m,m.state,null),ei(e,s,m,d),m.state=e.memoizedState),typeof m.componentDidMount=="function"&&(e.flags|=4194308)}function Po(e,t){try{var s="",d=t;do s+=he(d),d=d.return;while(d);var m=s}catch(u){m=`
Error generating stack: `+u.message+`
`+u.stack}return{value:e,source:t,stack:m,digest:null}}function od(e,t,s){return{value:e,source:null,stack:s??null,digest:t??null}}function sd(e,t){try{console.error(t.value)}catch(s){setTimeout(function(){throw s})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function vm(e,t,s){s=Sa(-1,s),s.tag=3,s.payload={element:null};var d=t.value;return s.callback=function(){xi||(xi=!0,Pd=d),sd(e,t)},s}function ym(e,t,s){s=Sa(-1,s),s.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var m=t.value;s.payload=function(){return d(m)},s.callback=function(){sd(e,t)}}var u=e.stateNode;return u!==null&&typeof u.componentDidCatch=="function"&&(s.callback=function(){sd(e,t),typeof d!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var v=t.stack;this.componentDidCatch(t.value,{componentStack:v!==null?v:""})}),s}function Pm(e,t,s){var d=e.pingCache;if(d===null){d=e.pingCache=new zh;var m=new Set;d.set(t,m)}else m=d.get(t),m===void 0&&(m=new Set,d.set(t,m));m.has(s)||(m.add(s),e=nf.bind(null,e,t,s),t.then(e,e))}function Am(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wm(e,t,s,d,m){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(t=Sa(-1,1),t.tag=2,Ya(s,t,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=m,e)}var Vh=R.ReactCurrentOwner,Tt=!1;function bt(e,t,s,d){t.child=e===null?$2(t,null,s,d):fo(t,e.child,s,d)}function Cm(e,t,s,d,m){s=s.render;var u=t.ref;return vo(t,m),d=Jc(e,t,s,d,u,m),s=Yc(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~m,_a(e,t,m)):(Ke&&s&&Ec(t),t.flags|=1,bt(e,t,d,m),t.child)}function bm(e,t,s,d,m){if(e===null){var u=s.type;return typeof u=="function"&&!Sd(u)&&u.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(t.tag=15,t.type=u,Nm(e,t,u,d,m)):(e=Pi(s.type,null,d,t,t.mode,m),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,(e.lanes&m)===0){var v=u.memoizedProps;if(s=s.compare,s=s!==null?s:Cs,s(v,d)&&e.ref===t.ref)return _a(e,t,m)}return t.flags|=1,e=nn(u,d),e.ref=t.ref,e.return=t,t.child=e}function Nm(e,t,s,d,m){if(e!==null){var u=e.memoizedProps;if(Cs(u,d)&&e.ref===t.ref)if(Tt=!1,t.pendingProps=d=u,(e.lanes&m)!==0)(e.flags&131072)!==0&&(Tt=!0);else return t.lanes=e.lanes,_a(e,t,m)}return rd(e,t,s,d,m)}function jm(e,t,s){var d=t.pendingProps,m=d.children,u=e!==null?e.memoizedState:null;if(d.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(wo,Ft),Ft|=s;else{if((s&1073741824)===0)return e=u!==null?u.baseLanes|s:s,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(wo,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=u!==null?u.baseLanes:s,Ve(wo,Ft),Ft|=d}else u!==null?(d=u.baseLanes|s,t.memoizedState=null):d=s,Ve(wo,Ft),Ft|=d;return bt(e,t,m,s),t.child}function Sm(e,t){var s=t.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(t.flags|=512,t.flags|=2097152)}function rd(e,t,s,d,m){var u=kt(s)?_n:vt.current;return u=po(t,u),vo(t,m),s=Jc(e,t,s,d,u,m),d=Yc(),e!==null&&!Tt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~m,_a(e,t,m)):(Ke&&d&&Ec(t),t.flags|=1,bt(e,t,s,m),t.child)}function _m(e,t,s,d,m){if(kt(s)){var u=!0;Wr(t)}else u=!1;if(vo(t,m),t.stateNode===null)di(e,t),fm(t,s,d),nd(t,s,d,m),d=!0;else if(e===null){var v=t.stateNode,w=t.memoizedProps;v.props=w;var b=v.context,L=s.contextType;typeof L=="object"&&L!==null?L=Vt(L):(L=kt(s)?_n:vt.current,L=po(t,L));var Q=s.getDerivedStateFromProps,G=typeof Q=="function"||typeof v.getSnapshotBeforeUpdate=="function";G||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==d||b!==L)&&gm(t,v,d,L),Ja=!1;var q=t.memoizedState;v.state=q,ei(t,d,v,m),b=t.memoizedState,w!==d||q!==b||Bt.current||Ja?(typeof Q=="function"&&(ad(t,s,Q,d),b=t.memoizedState),(w=Ja||hm(t,s,w,d,q,b,L))?(G||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(t.flags|=4194308)):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=d,t.memoizedState=b),v.props=d,v.state=b,v.context=L,d=w):(typeof v.componentDidMount=="function"&&(t.flags|=4194308),d=!1)}else{v=t.stateNode,V2(e,t),w=t.memoizedProps,L=t.type===t.elementType?w:ea(t.type,w),v.props=L,G=t.pendingProps,q=v.context,b=s.contextType,typeof b=="object"&&b!==null?b=Vt(b):(b=kt(s)?_n:vt.current,b=po(t,b));var ae=s.getDerivedStateFromProps;(Q=typeof ae=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(w!==G||q!==b)&&gm(t,v,d,b),Ja=!1,q=t.memoizedState,v.state=q,ei(t,d,v,m);var re=t.memoizedState;w!==G||q!==re||Bt.current||Ja?(typeof ae=="function"&&(ad(t,s,ae,d),re=t.memoizedState),(L=Ja||hm(t,s,L,d,q,re,b)||!1)?(Q||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,re,b),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,re,b)),typeof v.componentDidUpdate=="function"&&(t.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=d,t.memoizedState=re),v.props=d,v.state=re,v.context=b,d=L):(typeof v.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),d=!1)}return id(e,t,s,d,u,m)}function id(e,t,s,d,m,u){Sm(e,t);var v=(t.flags&128)!==0;if(!d&&!v)return m&&E2(t,s,!1),_a(e,t,u);d=t.stateNode,Vh.current=t;var w=v&&typeof s.getDerivedStateFromError!="function"?null:d.render();return t.flags|=1,e!==null&&v?(t.child=fo(t,e.child,null,u),t.child=fo(t,null,w,u)):bt(e,t,w,u),t.memoizedState=d.state,m&&E2(t,s,!0),t.child}function Dm(e){var t=e.stateNode;t.pendingContext?k2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k2(e,t.context,!1),Vc(e,t.containerInfo)}function Bm(e,t,s,d,m){return ho(),Lc(m),t.flags|=256,bt(e,t,s,d),t.child}var cd={dehydrated:null,treeContext:null,retryLane:0};function dd(e){return{baseLanes:e,cachePool:null,transitions:null}}function km(e,t,s){var d=t.pendingProps,m=Ge.current,u=!1,v=(t.flags&128)!==0,w;if((w=v)||(w=e!==null&&e.memoizedState===null?!1:(m&2)!==0),w?(u=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(m|=1),Ve(Ge,m&1),e===null)return Ic(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(v=d.children,e=d.fallback,u?(d=t.mode,u=t.child,v={mode:"hidden",children:v},(d&1)===0&&u!==null?(u.childLanes=0,u.pendingProps=v):u=Ai(v,d,0,null),e=On(e,d,s,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=dd(s),t.memoizedState=cd,e):ld(t,v));if(m=e.memoizedState,m!==null&&(w=m.dehydrated,w!==null))return Wh(e,t,v,d,w,m,s);if(u){u=d.fallback,v=t.mode,m=e.child,w=m.sibling;var b={mode:"hidden",children:d.children};return(v&1)===0&&t.child!==m?(d=t.child,d.childLanes=0,d.pendingProps=b,t.deletions=null):(d=nn(m,b),d.subtreeFlags=m.subtreeFlags&14680064),w!==null?u=nn(w,u):(u=On(u,v,s,null),u.flags|=2),u.return=t,d.return=t,d.sibling=u,t.child=d,d=u,u=t.child,v=e.child.memoizedState,v=v===null?dd(s):{baseLanes:v.baseLanes|s,cachePool:null,transitions:v.transitions},u.memoizedState=v,u.childLanes=e.childLanes&~s,t.memoizedState=cd,d}return u=e.child,e=u.sibling,d=nn(u,{mode:"visible",children:d.children}),(t.mode&1)===0&&(d.lanes=s),d.return=t,d.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=d,t.memoizedState=null,d}function ld(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ci(e,t,s,d){return d!==null&&Lc(d),fo(t,e.child,null,s),e=ld(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wh(e,t,s,d,m,u,v){if(s)return t.flags&256?(t.flags&=-257,d=od(Error(n(422))),ci(e,t,v,d)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(u=d.fallback,m=t.mode,d=Ai({mode:"visible",children:d.children},m,0,null),u=On(u,m,v,null),u.flags|=2,d.return=t,u.return=t,d.sibling=u,t.child=d,(t.mode&1)!==0&&fo(t,e.child,null,v),t.child.memoizedState=dd(v),t.memoizedState=cd,u);if((t.mode&1)===0)return ci(e,t,v,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var w=d.dgst;return d=w,u=Error(n(419)),d=od(u,d,void 0),ci(e,t,v,d)}if(w=(v&e.childLanes)!==0,Tt||w){if(d=pt,d!==null){switch(v&-v){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|v))!==0?0:m,m!==0&&m!==u.retryLane&&(u.retryLane=m,ja(e,m),na(d,e,m,-1))}return jd(),d=od(Error(n(421))),ci(e,t,v,d)}return m.data==="$?"?(t.flags|=128,t.child=e.child,t=of.bind(null,e),m._reactRetry=t,null):(e=u.treeContext,Ot=qa(m.nextSibling),Lt=t,Ke=!0,Zt=null,e!==null&&($t[zt++]=ba,$t[zt++]=Na,$t[zt++]=Dn,ba=e.id,Na=e.overflow,Dn=t),t=ld(t,d.children),t.flags|=4096,t)}function Tm(e,t,s){e.lanes|=t;var d=e.alternate;d!==null&&(d.lanes|=t),Hc(e.return,t,s)}function md(e,t,s,d,m){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:m}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=d,u.tail=s,u.tailMode=m)}function Em(e,t,s){var d=t.pendingProps,m=d.revealOrder,u=d.tail;if(bt(e,t,d.children,s),d=Ge.current,(d&2)!==0)d=d&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,s,t);else if(e.tag===19)Tm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(Ve(Ge,d),(t.mode&1)===0)t.memoizedState=null;else switch(m){case"forwards":for(s=t.child,m=null;s!==null;)e=s.alternate,e!==null&&ti(e)===null&&(m=s),s=s.sibling;s=m,s===null?(m=t.child,t.child=null):(m=s.sibling,s.sibling=null),md(t,!1,m,s,u);break;case"backwards":for(s=null,m=t.child,t.child=null;m!==null;){if(e=m.alternate,e!==null&&ti(e)===null){t.child=m;break}e=m.sibling,m.sibling=s,s=m,m=e}md(t,!0,s,null,u);break;case"together":md(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function di(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _a(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),Mn|=t.lanes,(s&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,s=nn(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=nn(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function qh(e,t,s){switch(t.tag){case 3:Dm(t),ho();break;case 5:Q2(t);break;case 1:kt(t.type)&&Wr(t);break;case 4:Vc(t,t.stateNode.containerInfo);break;case 10:var d=t.type._context,m=t.memoizedProps.value;Ve(Yr,d._currentValue),d._currentValue=m;break;case 13:if(d=t.memoizedState,d!==null)return d.dehydrated!==null?(Ve(Ge,Ge.current&1),t.flags|=128,null):(s&t.child.childLanes)!==0?km(e,t,s):(Ve(Ge,Ge.current&1),e=_a(e,t,s),e!==null?e.sibling:null);Ve(Ge,Ge.current&1);break;case 19:if(d=(s&t.childLanes)!==0,(e.flags&128)!==0){if(d)return Em(e,t,s);t.flags|=128}if(m=t.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ve(Ge,Ge.current),d)break;return null;case 22:case 23:return t.lanes=0,jm(e,t,s)}return _a(e,t,s)}var Mm,pd,Rm,Im;Mm=function(e,t){for(var s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},pd=function(){},Rm=function(e,t,s,d){var m=e.memoizedProps;if(m!==d){e=t.stateNode,Tn(ha.current);var u=null;switch(s){case"input":m=Ia(e,m),d=Ia(e,d),u=[];break;case"select":m=te({},m,{value:void 0}),d=te({},d,{value:void 0}),u=[];break;case"textarea":m=rs(e,m),d=rs(e,d),u=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=$r)}to(s,d);var v;s=null;for(L in m)if(!d.hasOwnProperty(L)&&m.hasOwnProperty(L)&&m[L]!=null)if(L==="style"){var w=m[L];for(v in w)w.hasOwnProperty(v)&&(s||(s={}),s[v]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(c.hasOwnProperty(L)?u||(u=[]):(u=u||[]).push(L,null));for(L in d){var b=d[L];if(w=m!=null?m[L]:void 0,d.hasOwnProperty(L)&&b!==w&&(b!=null||w!=null))if(L==="style")if(w){for(v in w)!w.hasOwnProperty(v)||b&&b.hasOwnProperty(v)||(s||(s={}),s[v]="");for(v in b)b.hasOwnProperty(v)&&w[v]!==b[v]&&(s||(s={}),s[v]=b[v])}else s||(u||(u=[]),u.push(L,s)),s=b;else L==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(u=u||[]).push(L,b)):L==="children"?typeof b!="string"&&typeof b!="number"||(u=u||[]).push(L,""+b):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(c.hasOwnProperty(L)?(b!=null&&L==="onScroll"&&qe("scroll",e),u||w===b||(u=[])):(u=u||[]).push(L,b))}s&&(u=u||[]).push("style",s);var L=u;(t.updateQueue=L)&&(t.flags|=4)}},Im=function(e,t,s,d){s!==d&&(t.flags|=4)};function Os(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function Pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,d=0;if(t)for(var m=e.child;m!==null;)s|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=e,m=m.sibling;else for(m=e.child;m!==null;)s|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=e,m=m.sibling;return e.subtreeFlags|=d,e.childLanes=s,t}function Qh(e,t,s){var d=t.pendingProps;switch(Mc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(t),null;case 1:return kt(t.type)&&Vr(),Pt(t),null;case 3:return d=t.stateNode,yo(),Qe(Bt),Qe(vt),Qc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(Gr(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Zt!==null&&(Cd(Zt),Zt=null))),pd(e,t),Pt(t),null;case 5:Wc(t);var m=Tn(Es.current);if(s=t.type,e!==null&&t.stateNode!=null)Rm(e,t,s,d,m),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!d){if(t.stateNode===null)throw Error(n(166));return Pt(t),null}if(e=Tn(ha.current),Gr(t)){d=t.stateNode,s=t.type;var u=t.memoizedProps;switch(d[xa]=t,d[_s]=u,e=(t.mode&1)!==0,s){case"dialog":qe("cancel",d),qe("close",d);break;case"iframe":case"object":case"embed":qe("load",d);break;case"video":case"audio":for(m=0;m<Ns.length;m++)qe(Ns[m],d);break;case"source":qe("error",d);break;case"img":case"image":case"link":qe("error",d),qe("load",d);break;case"details":qe("toggle",d);break;case"input":lt(d,u),qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!u.multiple},qe("invalid",d);break;case"textarea":xr(d,u),qe("invalid",d)}to(s,u),m=null;for(var v in u)if(u.hasOwnProperty(v)){var w=u[v];v==="children"?typeof w=="string"?d.textContent!==w&&(u.suppressHydrationWarning!==!0&&Hr(d.textContent,w,e),m=["children",w]):typeof w=="number"&&d.textContent!==""+w&&(u.suppressHydrationWarning!==!0&&Hr(d.textContent,w,e),m=["children",""+w]):c.hasOwnProperty(v)&&w!=null&&v==="onScroll"&&qe("scroll",d)}switch(s){case"input":la(d),Xn(d,u,!0);break;case"textarea":la(d),fr(d);break;case"select":case"option":break;default:typeof u.onClick=="function"&&(d.onclick=$r)}d=m,t.updateQueue=d,d!==null&&(t.flags|=4)}else{v=m.nodeType===9?m:m.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gr(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=v.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=v.createElement(s,{is:d.is}):(e=v.createElement(s),s==="select"&&(v=e,d.multiple?v.multiple=!0:d.size&&(v.size=d.size))):e=v.createElementNS(e,s),e[xa]=t,e[_s]=d,Mm(e,t,!1,!1),t.stateNode=e;e:{switch(v=z(s,d),s){case"dialog":qe("cancel",e),qe("close",e),m=d;break;case"iframe":case"object":case"embed":qe("load",e),m=d;break;case"video":case"audio":for(m=0;m<Ns.length;m++)qe(Ns[m],e);m=d;break;case"source":qe("error",e),m=d;break;case"img":case"image":case"link":qe("error",e),qe("load",e),m=d;break;case"details":qe("toggle",e),m=d;break;case"input":lt(e,d),m=Ia(e,d),qe("invalid",e);break;case"option":m=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},m=te({},d,{value:void 0}),qe("invalid",e);break;case"textarea":xr(e,d),m=rs(e,d),qe("invalid",e);break;default:m=d}to(s,m),w=m;for(u in w)if(w.hasOwnProperty(u)){var b=w[u];u==="style"?ls(e,b):u==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&cs(e,b)):u==="children"?typeof b=="string"?(s!=="textarea"||b!=="")&&wn(e,b):typeof b=="number"&&wn(e,""+b):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(c.hasOwnProperty(u)?b!=null&&u==="onScroll"&&qe("scroll",e):b!=null&&A(e,u,b,v))}switch(s){case"input":la(e),Xn(e,d,!1);break;case"textarea":la(e),fr(e);break;case"option":d.value!=null&&e.setAttribute("value",""+Le(d.value));break;case"select":e.multiple=!!d.multiple,u=d.value,u!=null?Jt(e,!!d.multiple,u,!1):d.defaultValue!=null&&Jt(e,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(e.onclick=$r)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Pt(t),null;case 6:if(e&&t.stateNode!=null)Im(e,t,e.memoizedProps,d);else{if(typeof d!="string"&&t.stateNode===null)throw Error(n(166));if(s=Tn(Es.current),Tn(ha.current),Gr(t)){if(d=t.stateNode,s=t.memoizedProps,d[xa]=t,(u=d.nodeValue!==s)&&(e=Lt,e!==null))switch(e.tag){case 3:Hr(d.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hr(d.nodeValue,s,(e.mode&1)!==0)}u&&(t.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[xa]=t,t.stateNode=d}return Pt(t),null;case 13:if(Qe(Ge),d=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Ot!==null&&(t.mode&1)!==0&&(t.flags&128)===0)F2(),ho(),t.flags|=98560,u=!1;else if(u=Gr(t),d!==null&&d.dehydrated!==null){if(e===null){if(!u)throw Error(n(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));u[xa]=t}else ho(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Pt(t),u=!1}else Zt!==null&&(Cd(Zt),Zt=null),u=!0;if(!u)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=s,t):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ge.current&1)!==0?it===0&&(it=3):jd())),t.updateQueue!==null&&(t.flags|=4),Pt(t),null);case 4:return yo(),pd(e,t),e===null&&js(t.stateNode.containerInfo),Pt(t),null;case 10:return Uc(t.type._context),Pt(t),null;case 17:return kt(t.type)&&Vr(),Pt(t),null;case 19:if(Qe(Ge),u=t.memoizedState,u===null)return Pt(t),null;if(d=(t.flags&128)!==0,v=u.rendering,v===null)if(d)Os(u,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(v=ti(e),v!==null){for(t.flags|=128,Os(u,!1),d=v.updateQueue,d!==null&&(t.updateQueue=d,t.flags|=4),t.subtreeFlags=0,d=s,s=t.child;s!==null;)u=s,e=d,u.flags&=14680066,v=u.alternate,v===null?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=v.childLanes,u.lanes=v.lanes,u.child=v.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=v.memoizedProps,u.memoizedState=v.memoizedState,u.updateQueue=v.updateQueue,u.type=v.type,e=v.dependencies,u.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ve(Ge,Ge.current&1|2),t.child}e=e.sibling}u.tail!==null&&tt()>Co&&(t.flags|=128,d=!0,Os(u,!1),t.lanes=4194304)}else{if(!d)if(e=ti(v),e!==null){if(t.flags|=128,d=!0,s=e.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),Os(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Ke)return Pt(t),null}else 2*tt()-u.renderingStartTime>Co&&s!==1073741824&&(t.flags|=128,d=!0,Os(u,!1),t.lanes=4194304);u.isBackwards?(v.sibling=t.child,t.child=v):(s=u.last,s!==null?s.sibling=v:t.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tt(),t.sibling=null,s=Ge.current,Ve(Ge,d?s&1|2:s&1),t):(Pt(t),null);case 22:case 23:return Nd(),d=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(t.flags|=8192),d&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(Pt(t),t.subtreeFlags&6&&(t.flags|=8192)):Pt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Kh(e,t){switch(Mc(t),t.tag){case 1:return kt(t.type)&&Vr(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yo(),Qe(Bt),Qe(vt),Qc(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Wc(t),null;case 13:if(Qe(Ge),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));ho()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qe(Ge),null;case 4:return yo(),null;case 10:return Uc(t.type._context),null;case 22:case 23:return Nd(),null;case 24:return null;default:return null}}var li=!1,At=!1,Gh=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ao(e,t){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){Ye(e,t,d)}else s.current=null}function ud(e,t,s){try{s()}catch(d){Ye(e,t,d)}}var Lm=!1;function Jh(e,t){if(Nc=Br,e=h2(),gc(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var m=d.anchorOffset,u=d.focusNode;d=d.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break e}var v=0,w=-1,b=-1,L=0,Q=0,G=e,q=null;t:for(;;){for(var ae;G!==s||m!==0&&G.nodeType!==3||(w=v+m),G!==u||d!==0&&G.nodeType!==3||(b=v+d),G.nodeType===3&&(v+=G.nodeValue.length),(ae=G.firstChild)!==null;)q=G,G=ae;for(;;){if(G===e)break t;if(q===s&&++L===m&&(w=v),q===u&&++Q===d&&(b=v),(ae=G.nextSibling)!==null)break;G=q,q=G.parentNode}G=ae}s=w===-1||b===-1?null:{start:w,end:b}}else s=null}s=s||{start:0,end:0}}else s=null;for(jc={focusedElem:e,selectionRange:s},Br=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var re=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(re!==null){var ie=re.memoizedProps,at=re.memoizedState,T=t.stateNode,D=T.getSnapshotBeforeUpdate(t.elementType===t.type?ie:ea(t.type,ie),at);T.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Y){Ye(t,t.return,Y)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return re=Lm,Lm=!1,re}function Fs(e,t,s){var d=t.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&e)===e){var u=m.destroy;m.destroy=void 0,u!==void 0&&ud(t,s,u)}m=m.next}while(m!==d)}}function mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var s=t=t.next;do{if((s.tag&e)===e){var d=s.create;s.destroy=d()}s=s.next}while(s!==t)}}function xd(e){var t=e.ref;if(t!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof t=="function"?t(e):t.current=e}}function Om(e){var t=e.alternate;t!==null&&(e.alternate=null,Om(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xa],delete t[_s],delete t[Bc],delete t[Th],delete t[Eh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fm(e){return e.tag===5||e.tag===3||e.tag===4}function Um(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hd(e,t,s){var d=e.tag;if(d===5||d===6)e=e.stateNode,t?s.nodeType===8?s.parentNode.insertBefore(e,t):s.insertBefore(e,t):(s.nodeType===8?(t=s.parentNode,t.insertBefore(e,s)):(t=s,t.appendChild(e)),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=$r));else if(d!==4&&(e=e.child,e!==null))for(hd(e,t,s),e=e.sibling;e!==null;)hd(e,t,s),e=e.sibling}function fd(e,t,s){var d=e.tag;if(d===5||d===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(fd(e,t,s),e=e.sibling;e!==null;)fd(e,t,s),e=e.sibling}var ft=null,ta=!1;function Xa(e,t,s){for(s=s.child;s!==null;)Hm(e,t,s),s=s.sibling}function Hm(e,t,s){if(ua&&typeof ua.onCommitFiberUnmount=="function")try{ua.onCommitFiberUnmount(br,s)}catch{}switch(s.tag){case 5:At||Ao(s,t);case 6:var d=ft,m=ta;ft=null,Xa(e,t,s),ft=d,ta=m,ft!==null&&(ta?(e=ft,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):ft.removeChild(s.stateNode));break;case 18:ft!==null&&(ta?(e=ft,s=s.stateNode,e.nodeType===8?Dc(e.parentNode,s):e.nodeType===1&&Dc(e,s),gs(e)):Dc(ft,s.stateNode));break;case 4:d=ft,m=ta,ft=s.stateNode.containerInfo,ta=!0,Xa(e,t,s),ft=d,ta=m;break;case 0:case 11:case 14:case 15:if(!At&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var u=m,v=u.destroy;u=u.tag,v!==void 0&&((u&2)!==0||(u&4)!==0)&&ud(s,t,v),m=m.next}while(m!==d)}Xa(e,t,s);break;case 1:if(!At&&(Ao(s,t),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(w){Ye(s,t,w)}Xa(e,t,s);break;case 21:Xa(e,t,s);break;case 22:s.mode&1?(At=(d=At)||s.memoizedState!==null,Xa(e,t,s),At=d):Xa(e,t,s);break;default:Xa(e,t,s)}}function $m(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Gh),t.forEach(function(d){var m=sf.bind(null,e,d);s.has(d)||(s.add(d),d.then(m,m))})}}function aa(e,t){var s=t.deletions;if(s!==null)for(var d=0;d<s.length;d++){var m=s[d];try{var u=e,v=t,w=v;e:for(;w!==null;){switch(w.tag){case 5:ft=w.stateNode,ta=!1;break e;case 3:ft=w.stateNode.containerInfo,ta=!0;break e;case 4:ft=w.stateNode.containerInfo,ta=!0;break e}w=w.return}if(ft===null)throw Error(n(160));Hm(u,v,m),ft=null,ta=!1;var b=m.alternate;b!==null&&(b.return=null),m.return=null}catch(L){Ye(m,t,L)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zm(t,e),t=t.sibling}function zm(e,t){var s=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(aa(t,e),ga(e),d&4){try{Fs(3,e,e.return),mi(3,e)}catch(ie){Ye(e,e.return,ie)}try{Fs(5,e,e.return)}catch(ie){Ye(e,e.return,ie)}}break;case 1:aa(t,e),ga(e),d&512&&s!==null&&Ao(s,s.return);break;case 5:if(aa(t,e),ga(e),d&512&&s!==null&&Ao(s,s.return),e.flags&32){var m=e.stateNode;try{wn(m,"")}catch(ie){Ye(e,e.return,ie)}}if(d&4&&(m=e.stateNode,m!=null)){var u=e.memoizedProps,v=s!==null?s.memoizedProps:u,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&u.type==="radio"&&u.name!=null&&ss(m,u),z(w,v);var L=z(w,u);for(v=0;v<b.length;v+=2){var Q=b[v],G=b[v+1];Q==="style"?ls(m,G):Q==="dangerouslySetInnerHTML"?cs(m,G):Q==="children"?wn(m,G):A(m,Q,G,L)}switch(w){case"input":Yn(m,u);break;case"textarea":hr(m,u);break;case"select":var q=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!u.multiple;var ae=u.value;ae!=null?Jt(m,!!u.multiple,ae,!1):q!==!!u.multiple&&(u.defaultValue!=null?Jt(m,!!u.multiple,u.defaultValue,!0):Jt(m,!!u.multiple,u.multiple?[]:"",!1))}m[_s]=u}catch(ie){Ye(e,e.return,ie)}}break;case 6:if(aa(t,e),ga(e),d&4){if(e.stateNode===null)throw Error(n(162));m=e.stateNode,u=e.memoizedProps;try{m.nodeValue=u}catch(ie){Ye(e,e.return,ie)}}break;case 3:if(aa(t,e),ga(e),d&4&&s!==null&&s.memoizedState.isDehydrated)try{gs(t.containerInfo)}catch(ie){Ye(e,e.return,ie)}break;case 4:aa(t,e),ga(e);break;case 13:aa(t,e),ga(e),m=e.child,m.flags&8192&&(u=m.memoizedState!==null,m.stateNode.isHidden=u,!u||m.alternate!==null&&m.alternate.memoizedState!==null||(yd=tt())),d&4&&$m(e);break;case 22:if(Q=s!==null&&s.memoizedState!==null,e.mode&1?(At=(L=At)||Q,aa(t,e),At=L):aa(t,e),ga(e),d&8192){if(L=e.memoizedState!==null,(e.stateNode.isHidden=L)&&!Q&&(e.mode&1)!==0)for(se=e,Q=e.child;Q!==null;){for(G=se=Q;se!==null;){switch(q=se,ae=q.child,q.tag){case 0:case 11:case 14:case 15:Fs(4,q,q.return);break;case 1:Ao(q,q.return);var re=q.stateNode;if(typeof re.componentWillUnmount=="function"){d=q,s=q.return;try{t=d,re.props=t.memoizedProps,re.state=t.memoizedState,re.componentWillUnmount()}catch(ie){Ye(d,s,ie)}}break;case 5:Ao(q,q.return);break;case 22:if(q.memoizedState!==null){qm(G);continue}}ae!==null?(ae.return=q,se=ae):qm(G)}Q=Q.sibling}e:for(Q=null,G=e;;){if(G.tag===5){if(Q===null){Q=G;try{m=G.stateNode,L?(u=m.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none"):(w=G.stateNode,b=G.memoizedProps.style,v=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=ds("display",v))}catch(ie){Ye(e,e.return,ie)}}}else if(G.tag===6){if(Q===null)try{G.stateNode.nodeValue=L?"":G.memoizedProps}catch(ie){Ye(e,e.return,ie)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;Q===G&&(Q=null),G=G.return}Q===G&&(Q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:aa(t,e),ga(e),d&4&&$m(e);break;case 21:break;default:aa(t,e),ga(e)}}function ga(e){var t=e.flags;if(t&2){try{e:{for(var s=e.return;s!==null;){if(Fm(s)){var d=s;break e}s=s.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(wn(m,""),d.flags&=-33);var u=Um(e);fd(e,u,m);break;case 3:case 4:var v=d.stateNode.containerInfo,w=Um(e);hd(e,w,v);break;default:throw Error(n(161))}}catch(b){Ye(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yh(e,t,s){se=e,Vm(e)}function Vm(e,t,s){for(var d=(e.mode&1)!==0;se!==null;){var m=se,u=m.child;if(m.tag===22&&d){var v=m.memoizedState!==null||li;if(!v){var w=m.alternate,b=w!==null&&w.memoizedState!==null||At;w=li;var L=At;if(li=v,(At=b)&&!L)for(se=m;se!==null;)v=se,b=v.child,v.tag===22&&v.memoizedState!==null?Qm(m):b!==null?(b.return=v,se=b):Qm(m);for(;u!==null;)se=u,Vm(u),u=u.sibling;se=m,li=w,At=L}Wm(e)}else(m.subtreeFlags&8772)!==0&&u!==null?(u.return=m,se=u):Wm(e)}}function Wm(e){for(;se!==null;){var t=se;if((t.flags&8772)!==0){var s=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:At||mi(5,t);break;case 1:var d=t.stateNode;if(t.flags&4&&!At)if(s===null)d.componentDidMount();else{var m=t.elementType===t.type?s.memoizedProps:ea(t.type,s.memoizedProps);d.componentDidUpdate(m,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var u=t.updateQueue;u!==null&&q2(t,u,d);break;case 3:var v=t.updateQueue;if(v!==null){if(s=null,t.child!==null)switch(t.child.tag){case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}q2(t,v,s)}break;case 5:var w=t.stateNode;if(s===null&&t.flags&4){s=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&s.focus();break;case"img":b.src&&(s.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var L=t.alternate;if(L!==null){var Q=L.memoizedState;if(Q!==null){var G=Q.dehydrated;G!==null&&gs(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}At||t.flags&512&&xd(t)}catch(q){Ye(t,t.return,q)}}if(t===e){se=null;break}if(s=t.sibling,s!==null){s.return=t.return,se=s;break}se=t.return}}function qm(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var s=t.sibling;if(s!==null){s.return=t.return,se=s;break}se=t.return}}function Qm(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var s=t.return;try{mi(4,t)}catch(b){Ye(t,s,b)}break;case 1:var d=t.stateNode;if(typeof d.componentDidMount=="function"){var m=t.return;try{d.componentDidMount()}catch(b){Ye(t,m,b)}}var u=t.return;try{xd(t)}catch(b){Ye(t,u,b)}break;case 5:var v=t.return;try{xd(t)}catch(b){Ye(t,v,b)}}}catch(b){Ye(t,t.return,b)}if(t===e){se=null;break}var w=t.sibling;if(w!==null){w.return=t.return,se=w;break}se=t.return}}var Xh=Math.ceil,pi=R.ReactCurrentDispatcher,gd=R.ReactCurrentOwner,qt=R.ReactCurrentBatchConfig,ke=0,pt=null,st=null,gt=0,Ft=0,wo=Qa(0),it=0,Us=null,Mn=0,ui=0,vd=0,Hs=null,Et=null,yd=0,Co=1/0,Da=null,xi=!1,Pd=null,Za=null,hi=!1,en=null,fi=0,$s=0,Ad=null,gi=-1,vi=0;function Nt(){return(ke&6)!==0?tt():gi!==-1?gi:gi=tt()}function tn(e){return(e.mode&1)===0?1:(ke&2)!==0&&gt!==0?gt&-gt:Rh.transition!==null?(vi===0&&(vi=Ul()),vi):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:Gl(e.type)),e)}function na(e,t,s,d){if(50<$s)throw $s=0,Ad=null,Error(n(185));ps(e,s,d),((ke&2)===0||e!==pt)&&(e===pt&&((ke&2)===0&&(ui|=s),it===4&&an(e,gt)),Mt(e,d),s===1&&ke===0&&(t.mode&1)===0&&(Co=tt()+500,qr&&Ga()))}function Mt(e,t){var s=e.callbackNode;Rx(e,t);var d=Sr(e,e===pt?gt:0);if(d===0)s!==null&&Ll(s),e.callbackNode=null,e.callbackPriority=0;else if(t=d&-d,e.callbackPriority!==t){if(s!=null&&Ll(s),t===1)e.tag===0?Mh(Gm.bind(null,e)):M2(Gm.bind(null,e)),Bh(function(){(ke&6)===0&&Ga()}),s=null;else{switch(Hl(d)){case 1:s=ec;break;case 4:s=Ol;break;case 16:s=Cr;break;case 536870912:s=Fl;break;default:s=Cr}s=np(s,Km.bind(null,e))}e.callbackPriority=t,e.callbackNode=s}}function Km(e,t){if(gi=-1,vi=0,(ke&6)!==0)throw Error(n(327));var s=e.callbackNode;if(bo()&&e.callbackNode!==s)return null;var d=Sr(e,e===pt?gt:0);if(d===0)return null;if((d&30)!==0||(d&e.expiredLanes)!==0||t)t=yi(e,d);else{t=d;var m=ke;ke|=2;var u=Ym();(pt!==e||gt!==t)&&(Da=null,Co=tt()+500,In(e,t));do try{tf();break}catch(w){Jm(e,w)}while(!0);Fc(),pi.current=u,ke=m,st!==null?t=0:(pt=null,gt=0,t=it)}if(t!==0){if(t===2&&(m=tc(e),m!==0&&(d=m,t=wd(e,m))),t===1)throw s=Us,In(e,0),an(e,d),Mt(e,tt()),s;if(t===6)an(e,d);else{if(m=e.current.alternate,(d&30)===0&&!Zh(m)&&(t=yi(e,d),t===2&&(u=tc(e),u!==0&&(d=u,t=wd(e,u))),t===1))throw s=Us,In(e,0),an(e,d),Mt(e,tt()),s;switch(e.finishedWork=m,e.finishedLanes=d,t){case 0:case 1:throw Error(n(345));case 2:Ln(e,Et,Da);break;case 3:if(an(e,d),(d&130023424)===d&&(t=yd+500-tt(),10<t)){if(Sr(e,0)!==0)break;if(m=e.suspendedLanes,(m&d)!==d){Nt(),e.pingedLanes|=e.suspendedLanes&m;break}e.timeoutHandle=_c(Ln.bind(null,e,Et,Da),t);break}Ln(e,Et,Da);break;case 4:if(an(e,d),(d&4194240)===d)break;for(t=e.eventTimes,m=-1;0<d;){var v=31-Yt(d);u=1<<v,v=t[v],v>m&&(m=v),d&=~u}if(d=m,d=tt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Xh(d/1960))-d,10<d){e.timeoutHandle=_c(Ln.bind(null,e,Et,Da),d);break}Ln(e,Et,Da);break;case 5:Ln(e,Et,Da);break;default:throw Error(n(329))}}}return Mt(e,tt()),e.callbackNode===s?Km.bind(null,e):null}function wd(e,t){var s=Hs;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=yi(e,t),e!==2&&(t=Et,Et=s,t!==null&&Cd(t)),e}function Cd(e){Et===null?Et=e:Et.push.apply(Et,e)}function Zh(e){for(var t=e;;){if(t.flags&16384){var s=t.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var m=s[d],u=m.getSnapshot;m=m.value;try{if(!Xt(u(),m))return!1}catch{return!1}}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(e,t){for(t&=~vd,t&=~ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var s=31-Yt(t),d=1<<s;e[s]=-1,t&=~d}}function Gm(e){if((ke&6)!==0)throw Error(n(327));bo();var t=Sr(e,0);if((t&1)===0)return Mt(e,tt()),null;var s=yi(e,t);if(e.tag!==0&&s===2){var d=tc(e);d!==0&&(t=d,s=wd(e,d))}if(s===1)throw s=Us,In(e,0),an(e,t),Mt(e,tt()),s;if(s===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ln(e,Et,Da),Mt(e,tt()),null}function bd(e,t){var s=ke;ke|=1;try{return e(t)}finally{ke=s,ke===0&&(Co=tt()+500,qr&&Ga())}}function Rn(e){en!==null&&en.tag===0&&(ke&6)===0&&bo();var t=ke;ke|=1;var s=qt.transition,d=Oe;try{if(qt.transition=null,Oe=1,e)return e()}finally{Oe=d,qt.transition=s,ke=t,(ke&6)===0&&Ga()}}function Nd(){Ft=wo.current,Qe(wo)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Dh(s)),st!==null)for(s=st.return;s!==null;){var d=s;switch(Mc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Vr();break;case 3:yo(),Qe(Bt),Qe(vt),Qc();break;case 5:Wc(d);break;case 4:yo();break;case 13:Qe(Ge);break;case 19:Qe(Ge);break;case 10:Uc(d.type._context);break;case 22:case 23:Nd()}s=s.return}if(pt=e,st=e=nn(e.current,null),gt=Ft=t,it=0,Us=null,vd=ui=Mn=0,Et=Hs=null,kn!==null){for(t=0;t<kn.length;t++)if(s=kn[t],d=s.interleaved,d!==null){s.interleaved=null;var m=d.next,u=s.pending;if(u!==null){var v=u.next;u.next=m,d.next=v}s.pending=d}kn=null}return e}function Jm(e,t){do{var s=st;try{if(Fc(),ai.current=ri,ni){for(var d=Je.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ni=!1}if(En=0,mt=rt=Je=null,Ms=!1,Rs=0,gd.current=null,s===null||s.return===null){it=1,Us=t,st=null;break}e:{var u=e,v=s.return,w=s,b=t;if(t=gt,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var L=b,Q=w,G=Q.tag;if((Q.mode&1)===0&&(G===0||G===11||G===15)){var q=Q.alternate;q?(Q.updateQueue=q.updateQueue,Q.memoizedState=q.memoizedState,Q.lanes=q.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var ae=Am(v);if(ae!==null){ae.flags&=-257,wm(ae,v,w,u,t),ae.mode&1&&Pm(u,L,t),t=ae,b=L;var re=t.updateQueue;if(re===null){var ie=new Set;ie.add(b),t.updateQueue=ie}else re.add(b);break e}else{if((t&1)===0){Pm(u,L,t),jd();break e}b=Error(n(426))}}else if(Ke&&w.mode&1){var at=Am(v);if(at!==null){(at.flags&65536)===0&&(at.flags|=256),wm(at,v,w,u,t),Lc(Po(b,w));break e}}u=b=Po(b,w),it!==4&&(it=2),Hs===null?Hs=[u]:Hs.push(u),u=v;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t;var T=vm(u,b,t);W2(u,T);break e;case 1:w=b;var D=u.type,M=u.stateNode;if((u.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Za===null||!Za.has(M)))){u.flags|=65536,t&=-t,u.lanes|=t;var Y=ym(u,w,t);W2(u,Y);break e}}u=u.return}while(u!==null)}Zm(s)}catch(ce){t=ce,st===s&&s!==null&&(st=s=s.return);continue}break}while(!0)}function Ym(){var e=pi.current;return pi.current=ri,e===null?ri:e}function jd(){(it===0||it===3||it===2)&&(it=4),pt===null||(Mn&268435455)===0&&(ui&268435455)===0||an(pt,gt)}function yi(e,t){var s=ke;ke|=2;var d=Ym();(pt!==e||gt!==t)&&(Da=null,In(e,t));do try{ef();break}catch(m){Jm(e,m)}while(!0);if(Fc(),ke=s,pi.current=d,st!==null)throw Error(n(261));return pt=null,gt=0,it}function ef(){for(;st!==null;)Xm(st)}function tf(){for(;st!==null&&!jx();)Xm(st)}function Xm(e){var t=ap(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?Zm(e):st=t,gd.current=null}function Zm(e){var t=e;do{var s=t.alternate;if(e=t.return,(t.flags&32768)===0){if(s=Qh(s,t,Ft),s!==null){st=s;return}}else{if(s=Kh(s,t),s!==null){s.flags&=32767,st=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,st=null;return}}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);it===0&&(it=5)}function Ln(e,t,s){var d=Oe,m=qt.transition;try{qt.transition=null,Oe=1,af(e,t,s,d)}finally{qt.transition=m,Oe=d}return null}function af(e,t,s,d){do bo();while(en!==null);if((ke&6)!==0)throw Error(n(327));s=e.finishedWork;var m=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var u=s.lanes|s.childLanes;if(Ix(e,u),e===pt&&(st=pt=null,gt=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||hi||(hi=!0,np(Cr,function(){return bo(),null})),u=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||u){u=qt.transition,qt.transition=null;var v=Oe;Oe=1;var w=ke;ke|=4,gd.current=null,Jh(e,s),zm(s,e),wh(jc),Br=!!Nc,jc=Nc=null,e.current=s,Yh(s),Sx(),ke=w,Oe=v,qt.transition=u}else e.current=s;if(hi&&(hi=!1,en=e,fi=m),u=e.pendingLanes,u===0&&(Za=null),Bx(s.stateNode),Mt(e,tt()),t!==null)for(d=e.onRecoverableError,s=0;s<t.length;s++)m=t[s],d(m.value,{componentStack:m.stack,digest:m.digest});if(xi)throw xi=!1,e=Pd,Pd=null,e;return(fi&1)!==0&&e.tag!==0&&bo(),u=e.pendingLanes,(u&1)!==0?e===Ad?$s++:($s=0,Ad=e):$s=0,Ga(),null}function bo(){if(en!==null){var e=Hl(fi),t=qt.transition,s=Oe;try{if(qt.transition=null,Oe=16>e?16:e,en===null)var d=!1;else{if(e=en,en=null,fi=0,(ke&6)!==0)throw Error(n(331));var m=ke;for(ke|=4,se=e.current;se!==null;){var u=se,v=u.child;if((se.flags&16)!==0){var w=u.deletions;if(w!==null){for(var b=0;b<w.length;b++){var L=w[b];for(se=L;se!==null;){var Q=se;switch(Q.tag){case 0:case 11:case 15:Fs(8,Q,u)}var G=Q.child;if(G!==null)G.return=Q,se=G;else for(;se!==null;){Q=se;var q=Q.sibling,ae=Q.return;if(Om(Q),Q===L){se=null;break}if(q!==null){q.return=ae,se=q;break}se=ae}}}var re=u.alternate;if(re!==null){var ie=re.child;if(ie!==null){re.child=null;do{var at=ie.sibling;ie.sibling=null,ie=at}while(ie!==null)}}se=u}}if((u.subtreeFlags&2064)!==0&&v!==null)v.return=u,se=v;else e:for(;se!==null;){if(u=se,(u.flags&2048)!==0)switch(u.tag){case 0:case 11:case 15:Fs(9,u,u.return)}var T=u.sibling;if(T!==null){T.return=u.return,se=T;break e}se=u.return}}var D=e.current;for(se=D;se!==null;){v=se;var M=v.child;if((v.subtreeFlags&2064)!==0&&M!==null)M.return=v,se=M;else e:for(v=D;se!==null;){if(w=se,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:mi(9,w)}}catch(ce){Ye(w,w.return,ce)}if(w===v){se=null;break e}var Y=w.sibling;if(Y!==null){Y.return=w.return,se=Y;break e}se=w.return}}if(ke=m,Ga(),ua&&typeof ua.onPostCommitFiberRoot=="function")try{ua.onPostCommitFiberRoot(br,e)}catch{}d=!0}return d}finally{Oe=s,qt.transition=t}}return!1}function ep(e,t,s){t=Po(s,t),t=vm(e,t,1),e=Ya(e,t,1),t=Nt(),e!==null&&(ps(e,1,t),Mt(e,t))}function Ye(e,t,s){if(e.tag===3)ep(e,e,s);else for(;t!==null;){if(t.tag===3){ep(t,e,s);break}else if(t.tag===1){var d=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Za===null||!Za.has(d))){e=Po(s,e),e=ym(t,e,1),t=Ya(t,e,1),e=Nt(),t!==null&&(ps(t,1,e),Mt(t,e));break}}t=t.return}}function nf(e,t,s){var d=e.pingCache;d!==null&&d.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&s,pt===e&&(gt&s)===s&&(it===4||it===3&&(gt&130023424)===gt&&500>tt()-yd?In(e,0):vd|=s),Mt(e,t)}function tp(e,t){t===0&&((e.mode&1)===0?t=1:(t=jr,jr<<=1,(jr&130023424)===0&&(jr=4194304)));var s=Nt();e=ja(e,t),e!==null&&(ps(e,t,s),Mt(e,s))}function of(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),tp(e,s)}function sf(e,t){var s=0;switch(e.tag){case 13:var d=e.stateNode,m=e.memoizedState;m!==null&&(s=m.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(t),tp(e,s)}var ap;ap=function(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Tt=!0;else{if((e.lanes&s)===0&&(t.flags&128)===0)return Tt=!1,qh(e,t,s);Tt=(e.flags&131072)!==0}else Tt=!1,Ke&&(t.flags&1048576)!==0&&R2(t,Kr,t.index);switch(t.lanes=0,t.tag){case 2:var d=t.type;di(e,t),e=t.pendingProps;var m=po(t,vt.current);vo(t,s),m=Jc(null,t,d,e,m,s);var u=Yc();return t.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,kt(d)?(u=!0,Wr(t)):u=!1,t.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,zc(t),m.updater=ii,t.stateNode=m,m._reactInternals=t,nd(t,d,e,s),t=id(null,t,d,!0,u,s)):(t.tag=0,Ke&&u&&Ec(t),bt(null,t,m,s),t=t.child),t;case 16:d=t.elementType;e:{switch(di(e,t),e=t.pendingProps,m=d._init,d=m(d._payload),t.type=d,m=t.tag=cf(d),e=ea(d,e),m){case 0:t=rd(null,t,d,e,s);break e;case 1:t=_m(null,t,d,e,s);break e;case 11:t=Cm(null,t,d,e,s);break e;case 14:t=bm(null,t,d,ea(d.type,e),s);break e}throw Error(n(306,d,""))}return t;case 0:return d=t.type,m=t.pendingProps,m=t.elementType===d?m:ea(d,m),rd(e,t,d,m,s);case 1:return d=t.type,m=t.pendingProps,m=t.elementType===d?m:ea(d,m),_m(e,t,d,m,s);case 3:e:{if(Dm(t),e===null)throw Error(n(387));d=t.pendingProps,u=t.memoizedState,m=u.element,V2(e,t),ei(t,d,null,s);var v=t.memoizedState;if(d=v.element,u.isDehydrated)if(u={element:d,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){m=Po(Error(n(423)),t),t=Bm(e,t,d,s,m);break e}else if(d!==m){m=Po(Error(n(424)),t),t=Bm(e,t,d,s,m);break e}else for(Ot=qa(t.stateNode.containerInfo.firstChild),Lt=t,Ke=!0,Zt=null,s=$2(t,null,d,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ho(),d===m){t=_a(e,t,s);break e}bt(e,t,d,s)}t=t.child}return t;case 5:return Q2(t),e===null&&Ic(t),d=t.type,m=t.pendingProps,u=e!==null?e.memoizedProps:null,v=m.children,Sc(d,m)?v=null:u!==null&&Sc(d,u)&&(t.flags|=32),Sm(e,t),bt(e,t,v,s),t.child;case 6:return e===null&&Ic(t),null;case 13:return km(e,t,s);case 4:return Vc(t,t.stateNode.containerInfo),d=t.pendingProps,e===null?t.child=fo(t,null,d,s):bt(e,t,d,s),t.child;case 11:return d=t.type,m=t.pendingProps,m=t.elementType===d?m:ea(d,m),Cm(e,t,d,m,s);case 7:return bt(e,t,t.pendingProps,s),t.child;case 8:return bt(e,t,t.pendingProps.children,s),t.child;case 12:return bt(e,t,t.pendingProps.children,s),t.child;case 10:e:{if(d=t.type._context,m=t.pendingProps,u=t.memoizedProps,v=m.value,Ve(Yr,d._currentValue),d._currentValue=v,u!==null)if(Xt(u.value,v)){if(u.children===m.children&&!Bt.current){t=_a(e,t,s);break e}}else for(u=t.child,u!==null&&(u.return=t);u!==null;){var w=u.dependencies;if(w!==null){v=u.child;for(var b=w.firstContext;b!==null;){if(b.context===d){if(u.tag===1){b=Sa(-1,s&-s),b.tag=2;var L=u.updateQueue;if(L!==null){L=L.shared;var Q=L.pending;Q===null?b.next=b:(b.next=Q.next,Q.next=b),L.pending=b}}u.lanes|=s,b=u.alternate,b!==null&&(b.lanes|=s),Hc(u.return,s,t),w.lanes|=s;break}b=b.next}}else if(u.tag===10)v=u.type===t.type?null:u.child;else if(u.tag===18){if(v=u.return,v===null)throw Error(n(341));v.lanes|=s,w=v.alternate,w!==null&&(w.lanes|=s),Hc(v,s,t),v=u.sibling}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===t){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}bt(e,t,m.children,s),t=t.child}return t;case 9:return m=t.type,d=t.pendingProps.children,vo(t,s),m=Vt(m),d=d(m),t.flags|=1,bt(e,t,d,s),t.child;case 14:return d=t.type,m=ea(d,t.pendingProps),m=ea(d.type,m),bm(e,t,d,m,s);case 15:return Nm(e,t,t.type,t.pendingProps,s);case 17:return d=t.type,m=t.pendingProps,m=t.elementType===d?m:ea(d,m),di(e,t),t.tag=1,kt(d)?(e=!0,Wr(t)):e=!1,vo(t,s),fm(t,d,m),nd(t,d,m,s),id(null,t,d,!0,e,s);case 19:return Em(e,t,s);case 22:return jm(e,t,s)}throw Error(n(156,t.tag))};function np(e,t){return Il(e,t)}function rf(e,t,s,d){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,s,d){return new rf(e,t,s,d)}function Sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cf(e){if(typeof e=="function")return Sd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ye)return 11;if(e===ot)return 14}return 2}function nn(e,t){var s=e.alternate;return s===null?(s=Qt(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function Pi(e,t,s,d,m,u){var v=2;if(d=e,typeof e=="function")Sd(e)&&(v=1);else if(typeof e=="string")v=5;else e:switch(e){case S:return On(s.children,m,u,t);case I:v=8,m|=8;break;case E:return e=Qt(12,s,t,m|2),e.elementType=E,e.lanes=u,e;case we:return e=Qt(13,s,t,m),e.elementType=we,e.lanes=u,e;case Ce:return e=Qt(19,s,t,m),e.elementType=Ce,e.lanes=u,e;case Ee:return Ai(s,m,u,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:v=10;break e;case Z:v=9;break e;case ye:v=11;break e;case ot:v=14;break e;case et:v=16,d=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Qt(v,s,t,m),t.elementType=e,t.type=d,t.lanes=u,t}function On(e,t,s,d){return e=Qt(7,e,d,t),e.lanes=s,e}function Ai(e,t,s,d){return e=Qt(22,e,d,t),e.elementType=Ee,e.lanes=s,e.stateNode={isHidden:!1},e}function _d(e,t,s){return e=Qt(6,e,null,t),e.lanes=s,e}function Dd(e,t,s){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function df(e,t,s,d,m){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ac(0),this.expirationTimes=ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ac(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Bd(e,t,s,d,m,u,v,w,b){return e=new df(e,t,s,w,b),t===1?(t=1,u===!0&&(t|=8)):t=0,u=Qt(3,null,null,t),e.current=u,u.stateNode=e,u.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},zc(u),e}function lf(e,t,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:d==null?null:""+d,children:e,containerInfo:t,implementation:s}}function op(e){if(!e)return Ka;e=e._reactInternals;e:{if(jn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(kt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var s=e.type;if(kt(s))return T2(e,s,t)}return t}function sp(e,t,s,d,m,u,v,w,b){return e=Bd(s,d,!0,e,m,u,v,w,b),e.context=op(null),s=e.current,d=Nt(),m=tn(s),u=Sa(d,m),u.callback=t??null,Ya(s,u,m),e.current.lanes=m,ps(e,m,d),Mt(e,d),e}function wi(e,t,s,d){var m=t.current,u=Nt(),v=tn(m);return s=op(s),t.context===null?t.context=s:t.pendingContext=s,t=Sa(u,v),t.payload={element:e},d=d===void 0?null:d,d!==null&&(t.callback=d),e=Ya(m,t,v),e!==null&&(na(e,m,v,u),Zr(e,m,v)),v}function Ci(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function kd(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function mf(){return null}var ip=typeof reportError=="function"?reportError:function(e){console.error(e)};function Td(e){this._internalRoot=e}bi.prototype.render=Td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));wi(e,t,null,null)},bi.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rn(function(){wi(null,e,null,null)}),t[wa]=null}};function bi(e){this._internalRoot=e}bi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vl();e={blockedOn:null,target:e,priority:t};for(var s=0;s<za.length&&t!==0&&t<za[s].priority;s++);za.splice(s,0,e),s===0&&Ql(e)}};function Ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ni(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cp(){}function pf(e,t,s,d,m){if(m){if(typeof d=="function"){var u=d;d=function(){var L=Ci(v);u.call(L)}}var v=sp(t,d,e,0,null,!1,!1,"",cp);return e._reactRootContainer=v,e[wa]=v.current,js(e.nodeType===8?e.parentNode:e),Rn(),v}for(;m=e.lastChild;)e.removeChild(m);if(typeof d=="function"){var w=d;d=function(){var L=Ci(b);w.call(L)}}var b=Bd(e,0,!1,null,null,!1,!1,"",cp);return e._reactRootContainer=b,e[wa]=b.current,js(e.nodeType===8?e.parentNode:e),Rn(function(){wi(t,b,s,d)}),b}function ji(e,t,s,d,m){var u=s._reactRootContainer;if(u){var v=u;if(typeof m=="function"){var w=m;m=function(){var b=Ci(v);w.call(b)}}wi(t,v,e,m)}else v=pf(s,t,e,m,d);return Ci(v)}$l=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var s=ms(t.pendingLanes);s!==0&&(nc(t,s|1),Mt(t,tt()),(ke&6)===0&&(Co=tt()+500,Ga()))}break;case 13:Rn(function(){var d=ja(e,1);if(d!==null){var m=Nt();na(d,e,1,m)}}),kd(e,1)}},oc=function(e){if(e.tag===13){var t=ja(e,134217728);if(t!==null){var s=Nt();na(t,e,134217728,s)}kd(e,134217728)}},zl=function(e){if(e.tag===13){var t=tn(e),s=ja(e,t);if(s!==null){var d=Nt();na(s,e,t,d)}kd(e,t)}},Vl=function(){return Oe},Wl=function(e,t){var s=Oe;try{return Oe=e,t()}finally{Oe=s}},me=function(e,t,s){switch(t){case"input":if(Yn(e,s),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<s.length;t++){var d=s[t];if(d!==e&&d.form===e.form){var m=zr(d);if(!m)throw Error(n(90));os(d),Yn(d,m)}}}break;case"textarea":hr(e,s);break;case"select":t=s.value,t!=null&&Jt(e,!!s.multiple,t,!1)}},Be=bd,He=Rn;var uf={usingClientEntryPoint:!1,Events:[Ds,lo,zr,ze,Se,bd]},zs={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xf={bundleType:zs.bundleType,version:zs.version,rendererPackageName:zs.rendererPackageName,rendererConfig:zs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ml(e),e===null?null:e.stateNode},findFiberByHostInstance:zs.findFiberByHostInstance||mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Si.isDisabled&&Si.supportsFiber)try{br=Si.inject(xf),ua=Si}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uf,Rt.createPortal=function(e,t){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ed(t))throw Error(n(200));return lf(e,t,null,s)},Rt.createRoot=function(e,t){if(!Ed(e))throw Error(n(299));var s=!1,d="",m=ip;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(d=t.identifierPrefix),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Bd(e,1,!1,null,null,s,!1,d,m),e[wa]=t.current,js(e.nodeType===8?e.parentNode:e),new Td(t)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=Ml(t),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return Rn(e)},Rt.hydrate=function(e,t,s){if(!Ni(t))throw Error(n(200));return ji(null,e,t,!0,s)},Rt.hydrateRoot=function(e,t,s){if(!Ed(e))throw Error(n(405));var d=s!=null&&s.hydratedSources||null,m=!1,u="",v=ip;if(s!=null&&(s.unstable_strictMode===!0&&(m=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(v=s.onRecoverableError)),t=sp(t,null,e,1,s??null,m,!1,u,v),e[wa]=t.current,js(e),d)for(e=0;e<d.length;e++)s=d[e],m=s._getVersion,m=m(s._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[s,m]:t.mutableSourceEagerHydrationData.push(s,m);return new bi(t)},Rt.render=function(e,t,s){if(!Ni(t))throw Error(n(200));return ji(null,e,t,!1,s)},Rt.unmountComponentAtNode=function(e){if(!Ni(e))throw Error(n(40));return e._reactRootContainer?(Rn(function(){ji(null,null,e,!1,function(){e._reactRootContainer=null,e[wa]=null})}),!0):!1},Rt.unstable_batchedUpdates=bd,Rt.unstable_renderSubtreeIntoContainer=function(e,t,s,d){if(!Ni(s))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return ji(e,t,s,!1,d)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var gp;function bu(){if(gp)return Ld.exports;gp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(a){console.error(a)}}return o(),Ld.exports=bf(),Ld.exports}var vp;function Nf(){if(vp)return Di;vp=1;var o=bu();return Di.createRoot=o.createRoot,Di.hydrateRoot=o.hydrateRoot,Di}var jf=Nf();const Sf=o=>o instanceof Error?o.message+`
`+o.stack:JSON.stringify(o,null,2);class _f extends Cu.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}render(){return this.state.hasError?i.jsxs("div",{className:"p-4 border border-red-500 rounded","data-matrix-id":"src/components/ErrorBoundary.tsx:26:8","data-matrix-name":"div","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"26","data-component-file":"ErrorBoundary.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20border%20border-red-500%20rounded%22%7D",children:[i.jsx("h2",{className:"text-red-500","data-matrix-id":"src/components/ErrorBoundary.tsx:27:10","data-matrix-name":"h2","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"27","data-component-file":"ErrorBoundary.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-red-500%22%7D",children:"Something went wrong."}),i.jsx("pre",{className:"mt-2 text-sm","data-matrix-id":"src/components/ErrorBoundary.tsx:28:10","data-matrix-name":"pre","data-component-path":"src/components/ErrorBoundary.tsx","data-component-line":"28","data-component-file":"ErrorBoundary.tsx","data-component-name":"pre","data-component-content":"%7B%22className%22%3A%22mt-2%20text-sm%22%7D",children:Sf(this.state.error)})]}):this.props.children}}bu();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ar(){return ar=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},ar.apply(this,arguments)}var fn;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(fn||(fn={}));const yp="popstate";function Df(o){o===void 0&&(o={});function a(r,c){let{pathname:l,search:p,hash:x}=r.location;return Xd("",{pathname:l,search:p,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function n(r,c){return typeof c=="string"?c:Li(c)}return kf(a,n,null,o)}function nt(o,a){if(o===!1||o===null||typeof o>"u")throw new Error(a)}function Nu(o,a){if(!o){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Bf(){return Math.random().toString(36).substr(2,8)}function Pp(o,a){return{usr:o.state,key:o.key,idx:a}}function Xd(o,a,n,r){return n===void 0&&(n=null),ar({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof a=="string"?Zo(a):a,{state:n,key:a&&a.key||r||Bf()})}function Li(o){let{pathname:a="/",search:n="",hash:r=""}=o;return n&&n!=="?"&&(a+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(a+=r.charAt(0)==="#"?r:"#"+r),a}function Zo(o){let a={};if(o){let n=o.indexOf("#");n>=0&&(a.hash=o.substr(n),o=o.substr(0,n));let r=o.indexOf("?");r>=0&&(a.search=o.substr(r),o=o.substr(0,r)),o&&(a.pathname=o)}return a}function kf(o,a,n,r){r===void 0&&(r={});let{window:c=document.defaultView,v5Compat:l=!1}=r,p=c.history,x=fn.Pop,h=null,g=y();g==null&&(g=0,p.replaceState(ar({},p.state,{idx:g}),""));function y(){return(p.state||{idx:null}).idx}function f(){x=fn.Pop;let P=y(),F=P==null?null:P-g;g=P,h&&h({action:x,location:B.location,delta:F})}function C(P,F){x=fn.Push;let H=Xd(B.location,P,F);g=y()+1;let A=Pp(H,g),R=B.createHref(H);try{p.pushState(A,"",R)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(R)}l&&h&&h({action:x,location:B.location,delta:1})}function j(P,F){x=fn.Replace;let H=Xd(B.location,P,F);g=y();let A=Pp(H,g),R=B.createHref(H);p.replaceState(A,"",R),l&&h&&h({action:x,location:B.location,delta:0})}function N(P){let F=c.location.origin!=="null"?c.location.origin:c.location.href,H=typeof P=="string"?P:Li(P);return H=H.replace(/ $/,"%20"),nt(F,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,F)}let B={get action(){return x},get location(){return o(c,p)},listen(P){if(h)throw new Error("A history only accepts one active listener");return c.addEventListener(yp,f),h=P,()=>{c.removeEventListener(yp,f),h=null}},createHref(P){return a(c,P)},createURL:N,encodeLocation(P){let F=N(P);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:C,replace:j,go(P){return p.go(P)}};return B}var Ap;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(Ap||(Ap={}));function Tf(o,a,n){return n===void 0&&(n="/"),Ef(o,a,n)}function Ef(o,a,n,r){let c=typeof a=="string"?Zo(a):a,l=fl(c.pathname||"/",n);if(l==null)return null;let p=ju(o);Mf(p);let x=null;for(let h=0;x==null&&h<p.length;++h){let g=qf(l);x=zf(p[h],g)}return x}function ju(o,a,n,r){a===void 0&&(a=[]),n===void 0&&(n=[]),r===void 0&&(r="");let c=(l,p,x)=>{let h={relativePath:x===void 0?l.path||"":x,caseSensitive:l.caseSensitive===!0,childrenIndex:p,route:l};h.relativePath.startsWith("/")&&(nt(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let g=gn([r,h.relativePath]),y=n.concat(h);l.children&&l.children.length>0&&(nt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),ju(l.children,a,y,g)),!(l.path==null&&!l.index)&&a.push({path:g,score:Hf(g,l.index),routesMeta:y})};return o.forEach((l,p)=>{var x;if(l.path===""||!((x=l.path)!=null&&x.includes("?")))c(l,p);else for(let h of Su(l.path))c(l,p,h)}),a}function Su(o){let a=o.split("/");if(a.length===0)return[];let[n,...r]=a,c=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return c?[l,""]:[l];let p=Su(r.join("/")),x=[];return x.push(...p.map(h=>h===""?l:[l,h].join("/"))),c&&x.push(...p),x.map(h=>o.startsWith("/")&&h===""?"/":h)}function Mf(o){o.sort((a,n)=>a.score!==n.score?n.score-a.score:$f(a.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rf=/^:[\w-]+$/,If=3,Lf=2,Of=1,Ff=10,Uf=-2,wp=o=>o==="*";function Hf(o,a){let n=o.split("/"),r=n.length;return n.some(wp)&&(r+=Uf),a&&(r+=Lf),n.filter(c=>!wp(c)).reduce((c,l)=>c+(Rf.test(l)?If:l===""?Of:Ff),r)}function $f(o,a){return o.length===a.length&&o.slice(0,-1).every((r,c)=>r===a[c])?o[o.length-1]-a[a.length-1]:0}function zf(o,a,n){let{routesMeta:r}=o,c={},l="/",p=[];for(let x=0;x<r.length;++x){let h=r[x],g=x===r.length-1,y=l==="/"?a:a.slice(l.length)||"/",f=Vf({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),C=h.route;if(!f)return null;Object.assign(c,f.params),p.push({params:c,pathname:gn([l,f.pathname]),pathnameBase:Jf(gn([l,f.pathnameBase])),route:C}),f.pathnameBase!=="/"&&(l=gn([l,f.pathnameBase]))}return p}function Vf(o,a){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[n,r]=Wf(o.path,o.caseSensitive,o.end),c=a.match(n);if(!c)return null;let l=c[0],p=l.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:r.reduce((g,y,f)=>{let{paramName:C,isOptional:j}=y;if(C==="*"){let B=x[f]||"";p=l.slice(0,l.length-B.length).replace(/(.)\/+$/,"$1")}const N=x[f];return j&&!N?g[C]=void 0:g[C]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:p,pattern:o}}function Wf(o,a,n){a===void 0&&(a=!1),n===void 0&&(n=!0),Nu(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let r=[],c="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,x,h)=>(r.push({paramName:x,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(r.push({paramName:"*"}),c+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?c+="\\/*$":o!==""&&o!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,a?void 0:"i"),r]}function qf(o){try{return o.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Nu(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),o}}function fl(o,a){if(a==="/")return o;if(!o.toLowerCase().startsWith(a.toLowerCase()))return null;let n=a.endsWith("/")?a.length-1:a.length,r=o.charAt(n);return r&&r!=="/"?null:o.slice(n)||"/"}function Qf(o,a){a===void 0&&(a="/");let{pathname:n,search:r="",hash:c=""}=typeof o=="string"?Zo(o):o;return{pathname:n?n.startsWith("/")?n:Kf(n,a):a,search:Yf(r),hash:Xf(c)}}function Kf(o,a){let n=a.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Ud(o,a,n,r){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gf(o){return o.filter((a,n)=>n===0||a.route.path&&a.route.path.length>0)}function gl(o,a){let n=Gf(o);return a?n.map((r,c)=>c===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function vl(o,a,n,r){r===void 0&&(r=!1);let c;typeof o=="string"?c=Zo(o):(c=ar({},o),nt(!c.pathname||!c.pathname.includes("?"),Ud("?","pathname","search",c)),nt(!c.pathname||!c.pathname.includes("#"),Ud("#","pathname","hash",c)),nt(!c.search||!c.search.includes("#"),Ud("#","search","hash",c)));let l=o===""||c.pathname==="",p=l?"/":c.pathname,x;if(p==null)x=n;else{let f=a.length-1;if(!r&&p.startsWith("..")){let C=p.split("/");for(;C[0]==="..";)C.shift(),f-=1;c.pathname=C.join("/")}x=f>=0?a[f]:"/"}let h=Qf(c,x),g=p&&p!=="/"&&p.endsWith("/"),y=(l||p===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}const gn=o=>o.join("/").replace(/\/\/+/g,"/"),Jf=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Yf=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,Xf=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Zf(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const _u=["post","put","patch","delete"];new Set(_u);const eg=["get",..._u];new Set(eg);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nr(){return nr=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},nr.apply(this,arguments)}const yl=_.createContext(null),tg=_.createContext(null),yn=_.createContext(null),Wi=_.createContext(null),Pn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Du=_.createContext(null);function ag(o,a){let{relative:n}=a===void 0?{}:a;es()||nt(!1);let{basename:r,navigator:c}=_.useContext(yn),{hash:l,pathname:p,search:x}=Tu(o,{relative:n}),h=p;return r!=="/"&&(h=p==="/"?r:gn([r,p])),c.createHref({pathname:h,search:x,hash:l})}function es(){return _.useContext(Wi)!=null}function ts(){return es()||nt(!1),_.useContext(Wi).location}function Bu(o){_.useContext(yn).static||_.useLayoutEffect(o)}function ku(){let{isDataRoute:o}=_.useContext(Pn);return o?hg():ng()}function ng(){es()||nt(!1);let o=_.useContext(yl),{basename:a,future:n,navigator:r}=_.useContext(yn),{matches:c}=_.useContext(Pn),{pathname:l}=ts(),p=JSON.stringify(gl(c,n.v7_relativeSplatPath)),x=_.useRef(!1);return Bu(()=>{x.current=!0}),_.useCallback(function(g,y){if(y===void 0&&(y={}),!x.current)return;if(typeof g=="number"){r.go(g);return}let f=vl(g,JSON.parse(p),l,y.relative==="path");o==null&&a!=="/"&&(f.pathname=f.pathname==="/"?a:gn([a,f.pathname])),(y.replace?r.replace:r.push)(f,y.state,y)},[a,r,p,l,o])}function Tu(o,a){let{relative:n}=a===void 0?{}:a,{future:r}=_.useContext(yn),{matches:c}=_.useContext(Pn),{pathname:l}=ts(),p=JSON.stringify(gl(c,r.v7_relativeSplatPath));return _.useMemo(()=>vl(o,JSON.parse(p),l,n==="path"),[o,p,l,n])}function og(o,a){return sg(o,a)}function sg(o,a,n,r){es()||nt(!1);let{navigator:c,static:l}=_.useContext(yn),{matches:p}=_.useContext(Pn),x=p[p.length-1],h=x?x.params:{};x&&x.pathname;let g=x?x.pathnameBase:"/";x&&x.route;let y=ts(),f;if(a){var C;let F=typeof a=="string"?Zo(a):a;g==="/"||(C=F.pathname)!=null&&C.startsWith(g)||nt(!1),f=F}else f=y;let j=f.pathname||"/",N=j;if(g!=="/"){let F=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(F.length).join("/")}let B=Tf(o,{pathname:N}),P=lg(B&&B.map(F=>Object.assign({},F,{params:Object.assign({},h,F.params),pathname:gn([g,c.encodeLocation?c.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:gn([g,c.encodeLocation?c.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),p,n,r);return a&&P?_.createElement(Wi.Provider,{value:{location:nr({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:fn.Pop}},P):P}function rg(){let o=xg(),a=Zf(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),n=o instanceof Error?o.stack:null,c={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},a),n?_.createElement("pre",{style:c},n):null,null)}const ig=_.createElement(rg,null);class cg extends _.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,n){return n.location!==a.location||n.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:n.error,location:n.location,revalidation:a.revalidation||n.revalidation}}componentDidCatch(a,n){console.error("React Router caught the following error during render",a,n)}render(){return this.state.error!==void 0?_.createElement(Pn.Provider,{value:this.props.routeContext},_.createElement(Du.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dg(o){let{routeContext:a,match:n,children:r}=o,c=_.useContext(yl);return c&&c.static&&c.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(Pn.Provider,{value:a},r)}function lg(o,a,n,r){var c;if(a===void 0&&(a=[]),n===void 0&&(n=null),r===void 0&&(r=null),o==null){var l;if(!n)return null;if(n.errors)o=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&a.length===0&&!n.initialized&&n.matches.length>0)o=n.matches;else return null}let p=o,x=(c=n)==null?void 0:c.errors;if(x!=null){let y=p.findIndex(f=>f.route.id&&(x==null?void 0:x[f.route.id])!==void 0);y>=0||nt(!1),p=p.slice(0,Math.min(p.length,y+1))}let h=!1,g=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<p.length;y++){let f=p[y];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(g=y),f.route.id){let{loaderData:C,errors:j}=n,N=f.route.loader&&C[f.route.id]===void 0&&(!j||j[f.route.id]===void 0);if(f.route.lazy||N){h=!0,g>=0?p=p.slice(0,g+1):p=[p[0]];break}}}return p.reduceRight((y,f,C)=>{let j,N=!1,B=null,P=null;n&&(j=x&&f.route.id?x[f.route.id]:void 0,B=f.route.errorElement||ig,h&&(g<0&&C===0?(fg("route-fallback"),N=!0,P=null):g===C&&(N=!0,P=f.route.hydrateFallbackElement||null)));let F=a.concat(p.slice(0,C+1)),H=()=>{let A;return j?A=B:N?A=P:f.route.Component?A=_.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=y,_.createElement(dg,{match:f,routeContext:{outlet:y,matches:F,isDataRoute:n!=null},children:A})};return n&&(f.route.ErrorBoundary||f.route.errorElement||C===0)?_.createElement(cg,{location:n.location,revalidation:n.revalidation,component:B,error:j,children:H(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):H()},null)}var Eu=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(Eu||{}),Mu=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Mu||{});function mg(o){let a=_.useContext(yl);return a||nt(!1),a}function pg(o){let a=_.useContext(tg);return a||nt(!1),a}function ug(o){let a=_.useContext(Pn);return a||nt(!1),a}function Ru(o){let a=ug(),n=a.matches[a.matches.length-1];return n.route.id||nt(!1),n.route.id}function xg(){var o;let a=_.useContext(Du),n=pg(),r=Ru();return a!==void 0?a:(o=n.errors)==null?void 0:o[r]}function hg(){let{router:o}=mg(Eu.UseNavigateStable),a=Ru(Mu.UseNavigateStable),n=_.useRef(!1);return Bu(()=>{n.current=!0}),_.useCallback(function(c,l){l===void 0&&(l={}),n.current&&(typeof c=="number"?o.navigate(c):o.navigate(c,nr({fromRouteId:a},l)))},[o,a])}const Cp={};function fg(o,a,n){Cp[o]||(Cp[o]=!0)}function gg(o,a){o==null||o.v7_startTransition,o==null||o.v7_relativeSplatPath}function sa(o){let{to:a,replace:n,state:r,relative:c}=o;es()||nt(!1);let{future:l,static:p}=_.useContext(yn),{matches:x}=_.useContext(Pn),{pathname:h}=ts(),g=ku(),y=vl(a,gl(x,l.v7_relativeSplatPath),h,c==="path"),f=JSON.stringify(y);return _.useEffect(()=>g(JSON.parse(f),{replace:n,state:r,relative:c}),[g,f,c,n,r]),null}function Ut(o){nt(!1)}function vg(o){let{basename:a="/",children:n=null,location:r,navigationType:c=fn.Pop,navigator:l,static:p=!1,future:x}=o;es()&&nt(!1);let h=a.replace(/^\/*/,"/"),g=_.useMemo(()=>({basename:h,navigator:l,static:p,future:nr({v7_relativeSplatPath:!1},x)}),[h,x,l,p]);typeof r=="string"&&(r=Zo(r));let{pathname:y="/",search:f="",hash:C="",state:j=null,key:N="default"}=r,B=_.useMemo(()=>{let P=fl(y,h);return P==null?null:{location:{pathname:P,search:f,hash:C,state:j,key:N},navigationType:c}},[h,y,f,C,j,N,c]);return B==null?null:_.createElement(yn.Provider,{value:g},_.createElement(Wi.Provider,{children:n,value:B}))}function yg(o){let{children:a,location:n}=o;return og(Zd(a),n)}new Promise(()=>{});function Zd(o,a){a===void 0&&(a=[]);let n=[];return _.Children.forEach(o,(r,c)=>{if(!_.isValidElement(r))return;let l=[...a,c];if(r.type===_.Fragment){n.push.apply(n,Zd(r.props.children,l));return}r.type!==Ut&&nt(!1),!r.props.index||!r.props.children||nt(!1);let p={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(p.children=Zd(r.props.children,l)),n.push(p)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(o){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o[r]=n[r])}return o},el.apply(this,arguments)}function Pg(o,a){if(o==null)return{};var n={},r=Object.keys(o),c,l;for(l=0;l<r.length;l++)c=r[l],!(a.indexOf(c)>=0)&&(n[c]=o[c]);return n}function Ag(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function wg(o,a){return o.button===0&&(!a||a==="_self")&&!Ag(o)}const Cg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bg="6";try{window.__reactRouterVersion=bg}catch{}const Ng="startTransition",bp=Af[Ng];function jg(o){let{basename:a,children:n,future:r,window:c}=o,l=_.useRef();l.current==null&&(l.current=Df({window:c,v5Compat:!0}));let p=l.current,[x,h]=_.useState({action:p.action,location:p.location}),{v7_startTransition:g}=r||{},y=_.useCallback(f=>{g&&bp?bp(()=>h(f)):h(f)},[h,g]);return _.useLayoutEffect(()=>p.listen(y),[p,y]),_.useEffect(()=>gg(r),[r]),_.createElement(vg,{basename:a,children:n,location:x.location,navigationType:x.action,navigator:p,future:r})}const Sg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_g=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hd=_.forwardRef(function(a,n){let{onClick:r,relative:c,reloadDocument:l,replace:p,state:x,target:h,to:g,preventScrollReset:y,viewTransition:f}=a,C=Pg(a,Cg),{basename:j}=_.useContext(yn),N,B=!1;if(typeof g=="string"&&_g.test(g)&&(N=g,Sg))try{let A=new URL(window.location.href),R=g.startsWith("//")?new URL(A.protocol+g):new URL(g),$=fl(R.pathname,j);R.origin===A.origin&&$!=null?g=$+R.search+R.hash:B=!0}catch{}let P=ag(g,{relative:c}),F=Dg(g,{replace:p,state:x,target:h,preventScrollReset:y,relative:c,viewTransition:f});function H(A){r&&r(A),A.defaultPrevented||F(A)}return _.createElement("a",el({},C,{href:N||P,onClick:B||l?r:H,ref:n,target:h}))});var Np;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var jp;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(jp||(jp={}));function Dg(o,a){let{target:n,replace:r,state:c,preventScrollReset:l,relative:p,viewTransition:x}=a===void 0?{}:a,h=ku(),g=ts(),y=Tu(o,{relative:p});return _.useCallback(f=>{if(wg(f,n)){f.preventDefault();let C=r!==void 0?r:Li(g)===Li(y);h(o,{replace:C,state:c,preventScrollReset:l,relative:p,viewTransition:x})}},[g,h,y,r,c,n,o,l,p,x])}var qi=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(o){return this.listeners.add(o),this.onSubscribe(),()=>{this.listeners.delete(o),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qi=typeof window>"u"||"Deno"in globalThis;function ra(){}function Bg(o,a){return typeof o=="function"?o(a):o}function kg(o){return typeof o=="number"&&o>=0&&o!==1/0}function Tg(o,a){return Math.max(o+(a||0)-Date.now(),0)}function tl(o,a){return typeof o=="function"?o(a):o}function Eg(o,a){return typeof o=="function"?o(a):o}function Sp(o,a){const{type:n="all",exact:r,fetchStatus:c,predicate:l,queryKey:p,stale:x}=o;if(p){if(r){if(a.queryHash!==Pl(p,a.options))return!1}else if(!sr(a.queryKey,p))return!1}if(n!=="all"){const h=a.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof x=="boolean"&&a.isStale()!==x||c&&c!==a.state.fetchStatus||l&&!l(a))}function _p(o,a){const{exact:n,status:r,predicate:c,mutationKey:l}=o;if(l){if(!a.options.mutationKey)return!1;if(n){if(or(a.options.mutationKey)!==or(l))return!1}else if(!sr(a.options.mutationKey,l))return!1}return!(r&&a.state.status!==r||c&&!c(a))}function Pl(o,a){return((a==null?void 0:a.queryKeyHashFn)||or)(o)}function or(o){return JSON.stringify(o,(a,n)=>al(n)?Object.keys(n).sort().reduce((r,c)=>(r[c]=n[c],r),{}):n)}function sr(o,a){return o===a?!0:typeof o!=typeof a?!1:o&&a&&typeof o=="object"&&typeof a=="object"?Object.keys(a).every(n=>sr(o[n],a[n])):!1}function Iu(o,a){if(o===a)return o;const n=Dp(o)&&Dp(a);if(n||al(o)&&al(a)){const r=n?o:Object.keys(o),c=r.length,l=n?a:Object.keys(a),p=l.length,x=n?[]:{},h=new Set(r);let g=0;for(let y=0;y<p;y++){const f=n?y:l[y];(!n&&h.has(f)||n)&&o[f]===void 0&&a[f]===void 0?(x[f]=void 0,g++):(x[f]=Iu(o[f],a[f]),x[f]===o[f]&&o[f]!==void 0&&g++)}return c===p&&g===c?o:x}return a}function Dp(o){return Array.isArray(o)&&o.length===Object.keys(o).length}function al(o){if(!Bp(o))return!1;const a=o.constructor;if(a===void 0)return!0;const n=a.prototype;return!(!Bp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(o)!==Object.prototype)}function Bp(o){return Object.prototype.toString.call(o)==="[object Object]"}function Mg(o){return new Promise(a=>{setTimeout(a,o)})}function Rg(o,a,n){return typeof n.structuralSharing=="function"?n.structuralSharing(o,a):n.structuralSharing!==!1?Iu(o,a):a}function Ig(o,a,n=0){const r=[...o,a];return n&&r.length>n?r.slice(1):r}function Lg(o,a,n=0){const r=[a,...o];return n&&r.length>n?r.slice(0,-1):r}var Al=Symbol();function Lu(o,a){return!o.queryFn&&(a!=null&&a.initialPromise)?()=>a.initialPromise:!o.queryFn||o.queryFn===Al?()=>Promise.reject(new Error(`Missing queryFn: '${o.queryHash}'`)):o.queryFn}var Vn,mn,Uo,xu,Og=(xu=class extends qi{constructor(){super();Ie(this,Vn);Ie(this,mn);Ie(this,Uo);Pe(this,Uo,a=>{if(!Qi&&window.addEventListener){const n=()=>a();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){V(this,mn)||this.setEventListener(V(this,Uo))}onUnsubscribe(){var a;this.hasListeners()||((a=V(this,mn))==null||a.call(this),Pe(this,mn,void 0))}setEventListener(a){var n;Pe(this,Uo,a),(n=V(this,mn))==null||n.call(this),Pe(this,mn,a(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(a){V(this,Vn)!==a&&(Pe(this,Vn,a),this.onFocus())}onFocus(){const a=this.isFocused();this.listeners.forEach(n=>{n(a)})}isFocused(){var a;return typeof V(this,Vn)=="boolean"?V(this,Vn):((a=globalThis.document)==null?void 0:a.visibilityState)!=="hidden"}},Vn=new WeakMap,mn=new WeakMap,Uo=new WeakMap,xu),Ou=new Og,Ho,pn,$o,hu,Fg=(hu=class extends qi{constructor(){super();Ie(this,Ho,!0);Ie(this,pn);Ie(this,$o);Pe(this,$o,a=>{if(!Qi&&window.addEventListener){const n=()=>a(!0),r=()=>a(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){V(this,pn)||this.setEventListener(V(this,$o))}onUnsubscribe(){var a;this.hasListeners()||((a=V(this,pn))==null||a.call(this),Pe(this,pn,void 0))}setEventListener(a){var n;Pe(this,$o,a),(n=V(this,pn))==null||n.call(this),Pe(this,pn,a(this.setOnline.bind(this)))}setOnline(a){V(this,Ho)!==a&&(Pe(this,Ho,a),this.listeners.forEach(r=>{r(a)}))}isOnline(){return V(this,Ho)}},Ho=new WeakMap,pn=new WeakMap,$o=new WeakMap,hu),Oi=new Fg;function Ug(){let o,a;const n=new Promise((c,l)=>{o=c,a=l});n.status="pending",n.catch(()=>{});function r(c){Object.assign(n,c),delete n.resolve,delete n.reject}return n.resolve=c=>{r({status:"fulfilled",value:c}),o(c)},n.reject=c=>{r({status:"rejected",reason:c}),a(c)},n}function Hg(o){return Math.min(1e3*2**o,3e4)}function Fu(o){return(o??"online")==="online"?Oi.isOnline():!0}var Uu=class extends Error{constructor(o){super("CancelledError"),this.revert=o==null?void 0:o.revert,this.silent=o==null?void 0:o.silent}};function Hu(o){let a=!1,n=0,r;const c=Ug(),l=()=>c.status!=="pending",p=B=>{var P;l()||(C(new Uu(B)),(P=o.abort)==null||P.call(o))},x=()=>{a=!0},h=()=>{a=!1},g=()=>Ou.isFocused()&&(o.networkMode==="always"||Oi.isOnline())&&o.canRun(),y=()=>Fu(o.networkMode)&&o.canRun(),f=B=>{l()||(r==null||r(),c.resolve(B))},C=B=>{l()||(r==null||r(),c.reject(B))},j=()=>new Promise(B=>{var P;r=F=>{(l()||g())&&B(F)},(P=o.onPause)==null||P.call(o)}).then(()=>{var B;r=void 0,l()||(B=o.onContinue)==null||B.call(o)}),N=()=>{if(l())return;let B;const P=n===0?o.initialPromise:void 0;try{B=P??o.fn()}catch(F){B=Promise.reject(F)}Promise.resolve(B).then(f).catch(F=>{var J;if(l())return;const H=o.retry??(Qi?0:3),A=o.retryDelay??Hg,R=typeof A=="function"?A(n,F):A,$=H===!0||typeof H=="number"&&n<H||typeof H=="function"&&H(n,F);if(a||!$){C(F);return}n++,(J=o.onFail)==null||J.call(o,n,F),Mg(R).then(()=>g()?void 0:j()).then(()=>{a?C(F):N()})})};return{promise:c,status:()=>c.status,cancel:p,continue:()=>(r==null||r(),c),cancelRetry:x,continueRetry:h,canStart:y,start:()=>(y()?N():j().then(N),c)}}var $g=o=>setTimeout(o,0);function zg(){let o=[],a=0,n=x=>{x()},r=x=>{x()},c=$g;const l=x=>{a?o.push(x):c(()=>{n(x)})},p=()=>{const x=o;o=[],x.length&&c(()=>{r(()=>{x.forEach(h=>{n(h)})})})};return{batch:x=>{let h;a++;try{h=x()}finally{a--,a||p()}return h},batchCalls:x=>(...h)=>{l(()=>{x(...h)})},schedule:l,setNotifyFunction:x=>{n=x},setBatchNotifyFunction:x=>{r=x},setScheduler:x=>{c=x}}}var Dt=zg(),Wn,fu,$u=(fu=class{constructor(){Ie(this,Wn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),kg(this.gcTime)&&Pe(this,Wn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(o){this.gcTime=Math.max(this.gcTime||0,o??(Qi?1/0:5*60*1e3))}clearGcTimeout(){V(this,Wn)&&(clearTimeout(V(this,Wn)),Pe(this,Wn,void 0))}},Wn=new WeakMap,fu),zo,Vo,Kt,qn,ht,lr,Qn,ia,ka,gu,Vg=(gu=class extends $u{constructor(a){super();Ie(this,ia);Ie(this,zo);Ie(this,Vo);Ie(this,Kt);Ie(this,qn);Ie(this,ht);Ie(this,lr);Ie(this,Qn);Pe(this,Qn,!1),Pe(this,lr,a.defaultOptions),this.setOptions(a.options),this.observers=[],Pe(this,qn,a.client),Pe(this,Kt,V(this,qn).getQueryCache()),this.queryKey=a.queryKey,this.queryHash=a.queryHash,Pe(this,zo,qg(this.options)),this.state=a.state??V(this,zo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var a;return(a=V(this,ht))==null?void 0:a.promise}setOptions(a){this.options={...V(this,lr),...a},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&V(this,Kt).remove(this)}setData(a,n){const r=Rg(this.state.data,a,this.options);return wt(this,ia,ka).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(a,n){wt(this,ia,ka).call(this,{type:"setState",state:a,setStateOptions:n})}cancel(a){var r,c;const n=(r=V(this,ht))==null?void 0:r.promise;return(c=V(this,ht))==null||c.cancel(a),n?n.then(ra).catch(ra):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(V(this,zo))}isActive(){return this.observers.some(a=>Eg(a.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Al||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(a=>tl(a.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(a=>a.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(a=0){return this.state.data===void 0?!0:a==="static"?!1:this.state.isInvalidated?!0:!Tg(this.state.dataUpdatedAt,a)}onFocus(){var n;const a=this.observers.find(r=>r.shouldFetchOnWindowFocus());a==null||a.refetch({cancelRefetch:!1}),(n=V(this,ht))==null||n.continue()}onOnline(){var n;const a=this.observers.find(r=>r.shouldFetchOnReconnect());a==null||a.refetch({cancelRefetch:!1}),(n=V(this,ht))==null||n.continue()}addObserver(a){this.observers.includes(a)||(this.observers.push(a),this.clearGcTimeout(),V(this,Kt).notify({type:"observerAdded",query:this,observer:a}))}removeObserver(a){this.observers.includes(a)&&(this.observers=this.observers.filter(n=>n!==a),this.observers.length||(V(this,ht)&&(V(this,Qn)?V(this,ht).cancel({revert:!0}):V(this,ht).cancelRetry()),this.scheduleGc()),V(this,Kt).notify({type:"observerRemoved",query:this,observer:a}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||wt(this,ia,ka).call(this,{type:"invalidate"})}async fetch(a,n){var h,g,y,f,C,j,N,B,P,F,H,A;if(this.state.fetchStatus!=="idle"&&((h=V(this,ht))==null?void 0:h.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(V(this,ht))return V(this,ht).continueRetry(),V(this,ht).promise}if(a&&this.setOptions(a),!this.options.queryFn){const R=this.observers.find($=>$.options.queryFn);R&&this.setOptions(R.options)}const r=new AbortController,c=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(Pe(this,Qn,!0),r.signal)})},l=()=>{const R=Lu(this.options,n),J=(()=>{const S={client:V(this,qn),queryKey:this.queryKey,meta:this.meta};return c(S),S})();return Pe(this,Qn,!1),this.options.persister?this.options.persister(R,J,this):R(J)},x=(()=>{const R={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:V(this,qn),state:this.state,fetchFn:l};return c(R),R})();(g=this.options.behavior)==null||g.onFetch(x,this),Pe(this,Vo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((y=x.fetchOptions)==null?void 0:y.meta))&&wt(this,ia,ka).call(this,{type:"fetch",meta:(f=x.fetchOptions)==null?void 0:f.meta}),Pe(this,ht,Hu({initialPromise:n==null?void 0:n.initialPromise,fn:x.fetchFn,abort:r.abort.bind(r),onFail:(R,$)=>{wt(this,ia,ka).call(this,{type:"failed",failureCount:R,error:$})},onPause:()=>{wt(this,ia,ka).call(this,{type:"pause"})},onContinue:()=>{wt(this,ia,ka).call(this,{type:"continue"})},retry:x.options.retry,retryDelay:x.options.retryDelay,networkMode:x.options.networkMode,canRun:()=>!0}));try{const R=await V(this,ht).start();if(R===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(R),(j=(C=V(this,Kt).config).onSuccess)==null||j.call(C,R,this),(B=(N=V(this,Kt).config).onSettled)==null||B.call(N,R,this.state.error,this),R}catch(R){if(R instanceof Uu){if(R.silent)return V(this,ht).promise;if(R.revert){if(this.setState({...V(this,Vo),fetchStatus:"idle"}),this.state.data===void 0)throw R;return this.state.data}}throw wt(this,ia,ka).call(this,{type:"error",error:R}),(F=(P=V(this,Kt).config).onError)==null||F.call(P,R,this),(A=(H=V(this,Kt).config).onSettled)==null||A.call(H,this.state.data,R,this),R}finally{this.scheduleGc()}}},zo=new WeakMap,Vo=new WeakMap,Kt=new WeakMap,qn=new WeakMap,ht=new WeakMap,lr=new WeakMap,Qn=new WeakMap,ia=new WeakSet,ka=function(a){const n=r=>{switch(a.type){case"failed":return{...r,fetchFailureCount:a.failureCount,fetchFailureReason:a.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Wg(r.data,this.options),fetchMeta:a.meta??null};case"success":const c={...r,data:a.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:a.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!a.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Pe(this,Vo,a.manual?c:void 0),c;case"error":const l=a.error;return{...r,error:l,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...a.state}}};this.state=n(this.state),Dt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),V(this,Kt).notify({query:this,type:"updated",action:a})})},gu);function Wg(o,a){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Fu(a.networkMode)?"fetching":"paused",...o===void 0&&{error:null,status:"pending"}}}function qg(o){const a=typeof o.initialData=="function"?o.initialData():o.initialData,n=a!==void 0,r=n?typeof o.initialDataUpdatedAt=="function"?o.initialDataUpdatedAt():o.initialDataUpdatedAt:0;return{data:a,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ya,vu,Qg=(vu=class extends qi{constructor(a={}){super();Ie(this,ya);this.config=a,Pe(this,ya,new Map)}build(a,n,r){const c=n.queryKey,l=n.queryHash??Pl(c,n);let p=this.get(l);return p||(p=new Vg({client:a,queryKey:c,queryHash:l,options:a.defaultQueryOptions(n),state:r,defaultOptions:a.getQueryDefaults(c)}),this.add(p)),p}add(a){V(this,ya).has(a.queryHash)||(V(this,ya).set(a.queryHash,a),this.notify({type:"added",query:a}))}remove(a){const n=V(this,ya).get(a.queryHash);n&&(a.destroy(),n===a&&V(this,ya).delete(a.queryHash),this.notify({type:"removed",query:a}))}clear(){Dt.batch(()=>{this.getAll().forEach(a=>{this.remove(a)})})}get(a){return V(this,ya).get(a)}getAll(){return[...V(this,ya).values()]}find(a){const n={exact:!0,...a};return this.getAll().find(r=>Sp(n,r))}findAll(a={}){const n=this.getAll();return Object.keys(a).length>0?n.filter(r=>Sp(a,r)):n}notify(a){Dt.batch(()=>{this.listeners.forEach(n=>{n(a)})})}onFocus(){Dt.batch(()=>{this.getAll().forEach(a=>{a.onFocus()})})}onOnline(){Dt.batch(()=>{this.getAll().forEach(a=>{a.onOnline()})})}},ya=new WeakMap,vu),Pa,St,Kn,Aa,cn,yu,Kg=(yu=class extends $u{constructor(a){super();Ie(this,Aa);Ie(this,Pa);Ie(this,St);Ie(this,Kn);this.mutationId=a.mutationId,Pe(this,St,a.mutationCache),Pe(this,Pa,[]),this.state=a.state||Gg(),this.setOptions(a.options),this.scheduleGc()}setOptions(a){this.options=a,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(a){V(this,Pa).includes(a)||(V(this,Pa).push(a),this.clearGcTimeout(),V(this,St).notify({type:"observerAdded",mutation:this,observer:a}))}removeObserver(a){Pe(this,Pa,V(this,Pa).filter(n=>n!==a)),this.scheduleGc(),V(this,St).notify({type:"observerRemoved",mutation:this,observer:a})}optionalRemove(){V(this,Pa).length||(this.state.status==="pending"?this.scheduleGc():V(this,St).remove(this))}continue(){var a;return((a=V(this,Kn))==null?void 0:a.continue())??this.execute(this.state.variables)}async execute(a){var l,p,x,h,g,y,f,C,j,N,B,P,F,H,A,R,$,J,S,I;const n=()=>{wt(this,Aa,cn).call(this,{type:"continue"})};Pe(this,Kn,Hu({fn:()=>this.options.mutationFn?this.options.mutationFn(a):Promise.reject(new Error("No mutationFn found")),onFail:(E,U)=>{wt(this,Aa,cn).call(this,{type:"failed",failureCount:E,error:U})},onPause:()=>{wt(this,Aa,cn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>V(this,St).canRun(this)}));const r=this.state.status==="pending",c=!V(this,Kn).canStart();try{if(r)n();else{wt(this,Aa,cn).call(this,{type:"pending",variables:a,isPaused:c}),await((p=(l=V(this,St).config).onMutate)==null?void 0:p.call(l,a,this));const U=await((h=(x=this.options).onMutate)==null?void 0:h.call(x,a));U!==this.state.context&&wt(this,Aa,cn).call(this,{type:"pending",context:U,variables:a,isPaused:c})}const E=await V(this,Kn).start();return await((y=(g=V(this,St).config).onSuccess)==null?void 0:y.call(g,E,a,this.state.context,this)),await((C=(f=this.options).onSuccess)==null?void 0:C.call(f,E,a,this.state.context)),await((N=(j=V(this,St).config).onSettled)==null?void 0:N.call(j,E,null,this.state.variables,this.state.context,this)),await((P=(B=this.options).onSettled)==null?void 0:P.call(B,E,null,a,this.state.context)),wt(this,Aa,cn).call(this,{type:"success",data:E}),E}catch(E){try{throw await((H=(F=V(this,St).config).onError)==null?void 0:H.call(F,E,a,this.state.context,this)),await((R=(A=this.options).onError)==null?void 0:R.call(A,E,a,this.state.context)),await((J=($=V(this,St).config).onSettled)==null?void 0:J.call($,void 0,E,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,E,a,this.state.context)),E}finally{wt(this,Aa,cn).call(this,{type:"error",error:E})}}finally{V(this,St).runNext(this)}}},Pa=new WeakMap,St=new WeakMap,Kn=new WeakMap,Aa=new WeakSet,cn=function(a){const n=r=>{switch(a.type){case"failed":return{...r,failureCount:a.failureCount,failureReason:a.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:a.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:a.isPaused,status:"pending",variables:a.variables,submittedAt:Date.now()};case"success":return{...r,data:a.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:a.error,failureCount:r.failureCount+1,failureReason:a.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Dt.batch(()=>{V(this,Pa).forEach(r=>{r.onMutationUpdate(a)}),V(this,St).notify({mutation:this,type:"updated",action:a})})},yu);function Gg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ma,ca,mr,Pu,Jg=(Pu=class extends qi{constructor(a={}){super();Ie(this,Ma);Ie(this,ca);Ie(this,mr);this.config=a,Pe(this,Ma,new Set),Pe(this,ca,new Map),Pe(this,mr,0)}build(a,n,r){const c=new Kg({mutationCache:this,mutationId:++_i(this,mr)._,options:a.defaultMutationOptions(n),state:r});return this.add(c),c}add(a){V(this,Ma).add(a);const n=Bi(a);if(typeof n=="string"){const r=V(this,ca).get(n);r?r.push(a):V(this,ca).set(n,[a])}this.notify({type:"added",mutation:a})}remove(a){if(V(this,Ma).delete(a)){const n=Bi(a);if(typeof n=="string"){const r=V(this,ca).get(n);if(r)if(r.length>1){const c=r.indexOf(a);c!==-1&&r.splice(c,1)}else r[0]===a&&V(this,ca).delete(n)}}this.notify({type:"removed",mutation:a})}canRun(a){const n=Bi(a);if(typeof n=="string"){const r=V(this,ca).get(n),c=r==null?void 0:r.find(l=>l.state.status==="pending");return!c||c===a}else return!0}runNext(a){var r;const n=Bi(a);if(typeof n=="string"){const c=(r=V(this,ca).get(n))==null?void 0:r.find(l=>l!==a&&l.state.isPaused);return(c==null?void 0:c.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Dt.batch(()=>{V(this,Ma).forEach(a=>{this.notify({type:"removed",mutation:a})}),V(this,Ma).clear(),V(this,ca).clear()})}getAll(){return Array.from(V(this,Ma))}find(a){const n={exact:!0,...a};return this.getAll().find(r=>_p(n,r))}findAll(a={}){return this.getAll().filter(n=>_p(a,n))}notify(a){Dt.batch(()=>{this.listeners.forEach(n=>{n(a)})})}resumePausedMutations(){const a=this.getAll().filter(n=>n.state.isPaused);return Dt.batch(()=>Promise.all(a.map(n=>n.continue().catch(ra))))}},Ma=new WeakMap,ca=new WeakMap,mr=new WeakMap,Pu);function Bi(o){var a;return(a=o.options.scope)==null?void 0:a.id}function kp(o){return{onFetch:(a,n)=>{var y,f,C,j,N;const r=a.options,c=(C=(f=(y=a.fetchOptions)==null?void 0:y.meta)==null?void 0:f.fetchMore)==null?void 0:C.direction,l=((j=a.state.data)==null?void 0:j.pages)||[],p=((N=a.state.data)==null?void 0:N.pageParams)||[];let x={pages:[],pageParams:[]},h=0;const g=async()=>{let B=!1;const P=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(a.signal.aborted?B=!0:a.signal.addEventListener("abort",()=>{B=!0}),a.signal)})},F=Lu(a.options,a.fetchOptions),H=async(A,R,$)=>{if(B)return Promise.reject();if(R==null&&A.pages.length)return Promise.resolve(A);const S=(()=>{const Z={client:a.client,queryKey:a.queryKey,pageParam:R,direction:$?"backward":"forward",meta:a.options.meta};return P(Z),Z})(),I=await F(S),{maxPages:E}=a.options,U=$?Lg:Ig;return{pages:U(A.pages,I,E),pageParams:U(A.pageParams,R,E)}};if(c&&l.length){const A=c==="backward",R=A?Yg:Tp,$={pages:l,pageParams:p},J=R(r,$);x=await H($,J,A)}else{const A=o??l.length;do{const R=h===0?p[0]??r.initialPageParam:Tp(r,x);if(h>0&&R==null)break;x=await H(x,R),h++}while(h<A)}return x};a.options.persister?a.fetchFn=()=>{var B,P;return(P=(B=a.options).persister)==null?void 0:P.call(B,g,{client:a.client,queryKey:a.queryKey,meta:a.options.meta,signal:a.signal},n)}:a.fetchFn=g}}}function Tp(o,{pages:a,pageParams:n}){const r=a.length-1;return a.length>0?o.getNextPageParam(a[r],a,n[r],n):void 0}function Yg(o,{pages:a,pageParams:n}){var r;return a.length>0?(r=o.getPreviousPageParam)==null?void 0:r.call(o,a[0],a,n[0],n):void 0}var Xe,un,xn,Wo,qo,hn,Qo,Ko,Au,Xg=(Au=class{constructor(o={}){Ie(this,Xe);Ie(this,un);Ie(this,xn);Ie(this,Wo);Ie(this,qo);Ie(this,hn);Ie(this,Qo);Ie(this,Ko);Pe(this,Xe,o.queryCache||new Qg),Pe(this,un,o.mutationCache||new Jg),Pe(this,xn,o.defaultOptions||{}),Pe(this,Wo,new Map),Pe(this,qo,new Map),Pe(this,hn,0)}mount(){_i(this,hn)._++,V(this,hn)===1&&(Pe(this,Qo,Ou.subscribe(async o=>{o&&(await this.resumePausedMutations(),V(this,Xe).onFocus())})),Pe(this,Ko,Oi.subscribe(async o=>{o&&(await this.resumePausedMutations(),V(this,Xe).onOnline())})))}unmount(){var o,a;_i(this,hn)._--,V(this,hn)===0&&((o=V(this,Qo))==null||o.call(this),Pe(this,Qo,void 0),(a=V(this,Ko))==null||a.call(this),Pe(this,Ko,void 0))}isFetching(o){return V(this,Xe).findAll({...o,fetchStatus:"fetching"}).length}isMutating(o){return V(this,un).findAll({...o,status:"pending"}).length}getQueryData(o){var n;const a=this.defaultQueryOptions({queryKey:o});return(n=V(this,Xe).get(a.queryHash))==null?void 0:n.state.data}ensureQueryData(o){const a=this.defaultQueryOptions(o),n=V(this,Xe).build(this,a),r=n.state.data;return r===void 0?this.fetchQuery(o):(o.revalidateIfStale&&n.isStaleByTime(tl(a.staleTime,n))&&this.prefetchQuery(a),Promise.resolve(r))}getQueriesData(o){return V(this,Xe).findAll(o).map(({queryKey:a,state:n})=>{const r=n.data;return[a,r]})}setQueryData(o,a,n){const r=this.defaultQueryOptions({queryKey:o}),c=V(this,Xe).get(r.queryHash),l=c==null?void 0:c.state.data,p=Bg(a,l);if(p!==void 0)return V(this,Xe).build(this,r).setData(p,{...n,manual:!0})}setQueriesData(o,a,n){return Dt.batch(()=>V(this,Xe).findAll(o).map(({queryKey:r})=>[r,this.setQueryData(r,a,n)]))}getQueryState(o){var n;const a=this.defaultQueryOptions({queryKey:o});return(n=V(this,Xe).get(a.queryHash))==null?void 0:n.state}removeQueries(o){const a=V(this,Xe);Dt.batch(()=>{a.findAll(o).forEach(n=>{a.remove(n)})})}resetQueries(o,a){const n=V(this,Xe);return Dt.batch(()=>(n.findAll(o).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...o},a)))}cancelQueries(o,a={}){const n={revert:!0,...a},r=Dt.batch(()=>V(this,Xe).findAll(o).map(c=>c.cancel(n)));return Promise.all(r).then(ra).catch(ra)}invalidateQueries(o,a={}){return Dt.batch(()=>(V(this,Xe).findAll(o).forEach(n=>{n.invalidate()}),(o==null?void 0:o.refetchType)==="none"?Promise.resolve():this.refetchQueries({...o,type:(o==null?void 0:o.refetchType)??(o==null?void 0:o.type)??"active"},a)))}refetchQueries(o,a={}){const n={...a,cancelRefetch:a.cancelRefetch??!0},r=Dt.batch(()=>V(this,Xe).findAll(o).filter(c=>!c.isDisabled()&&!c.isStatic()).map(c=>{let l=c.fetch(void 0,n);return n.throwOnError||(l=l.catch(ra)),c.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(r).then(ra)}fetchQuery(o){const a=this.defaultQueryOptions(o);a.retry===void 0&&(a.retry=!1);const n=V(this,Xe).build(this,a);return n.isStaleByTime(tl(a.staleTime,n))?n.fetch(a):Promise.resolve(n.state.data)}prefetchQuery(o){return this.fetchQuery(o).then(ra).catch(ra)}fetchInfiniteQuery(o){return o.behavior=kp(o.pages),this.fetchQuery(o)}prefetchInfiniteQuery(o){return this.fetchInfiniteQuery(o).then(ra).catch(ra)}ensureInfiniteQueryData(o){return o.behavior=kp(o.pages),this.ensureQueryData(o)}resumePausedMutations(){return Oi.isOnline()?V(this,un).resumePausedMutations():Promise.resolve()}getQueryCache(){return V(this,Xe)}getMutationCache(){return V(this,un)}getDefaultOptions(){return V(this,xn)}setDefaultOptions(o){Pe(this,xn,o)}setQueryDefaults(o,a){V(this,Wo).set(or(o),{queryKey:o,defaultOptions:a})}getQueryDefaults(o){const a=[...V(this,Wo).values()],n={};return a.forEach(r=>{sr(o,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(o,a){V(this,qo).set(or(o),{mutationKey:o,defaultOptions:a})}getMutationDefaults(o){const a=[...V(this,qo).values()],n={};return a.forEach(r=>{sr(o,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(o){if(o._defaulted)return o;const a={...V(this,xn).queries,...this.getQueryDefaults(o.queryKey),...o,_defaulted:!0};return a.queryHash||(a.queryHash=Pl(a.queryKey,a)),a.refetchOnReconnect===void 0&&(a.refetchOnReconnect=a.networkMode!=="always"),a.throwOnError===void 0&&(a.throwOnError=!!a.suspense),!a.networkMode&&a.persister&&(a.networkMode="offlineFirst"),a.queryFn===Al&&(a.enabled=!1),a}defaultMutationOptions(o){return o!=null&&o._defaulted?o:{...V(this,xn).mutations,...(o==null?void 0:o.mutationKey)&&this.getMutationDefaults(o.mutationKey),...o,_defaulted:!0}}clear(){V(this,Xe).clear(),V(this,un).clear()}},Xe=new WeakMap,un=new WeakMap,xn=new WeakMap,Wo=new WeakMap,qo=new WeakMap,hn=new WeakMap,Qo=new WeakMap,Ko=new WeakMap,Au),Zg=_.createContext(void 0),e0=({client:o,children:a})=>(_.useEffect(()=>(o.mount(),()=>{o.unmount()}),[o]),i.jsx(Zg.Provider,{value:o,children:a}));const t0="modulepreload",a0=function(o){return"/"+o},Ep={},pr=function(a,n,r){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),x=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));c=Promise.allSettled(n.map(h=>{if(h=a0(h),h in Ep)return;Ep[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const f=document.createElement("link");if(f.rel=g?"stylesheet":t0,g||(f.as="script"),f.crossOrigin="",f.href=h,x&&f.setAttribute("nonce",x),document.head.appendChild(f),g)return new Promise((C,j)=>{f.addEventListener("load",C),f.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${h}`)))})}))}function l(p){const x=new Event("vite:preloadError",{cancelable:!0});if(x.payload=p,window.dispatchEvent(x),!x.defaultPrevented)throw p}return c.then(p=>{for(const x of p||[])x.status==="rejected"&&l(x.reason);return a().catch(l)})},n0=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...n)=>pr(async()=>{const{default:r}=await Promise.resolve().then(()=>as);return{default:r}},void 0).then(({default:r})=>r(...n)):a=fetch,(...n)=>a(...n)};class wl extends Error{constructor(a,n="FunctionsError",r){super(a),this.name=n,this.context=r}}class o0 extends wl{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class Mp extends wl{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class Rp extends wl{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var nl;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(nl||(nl={}));var s0=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};class r0{constructor(a,{headers:n={},customFetch:r,region:c=nl.Any}={}){this.url=a,this.headers=n,this.region=c,this.fetch=n0(r)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a,n={}){var r;return s0(this,void 0,void 0,function*(){try{const{headers:c,method:l,body:p}=n;let x={},{region:h}=n;h||(h=this.region);const g=new URL(`${this.url}/${a}`);h&&h!=="any"&&(x["x-region"]=h,g.searchParams.set("forceFunctionRegion",h));let y;p&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",y=p):typeof p=="string"?(x["Content-Type"]="text/plain",y=p):typeof FormData<"u"&&p instanceof FormData?y=p:(x["Content-Type"]="application/json",y=JSON.stringify(p)));const f=yield this.fetch(g.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),c),body:y}).catch(B=>{throw new o0(B)}),C=f.headers.get("x-relay-error");if(C&&C==="true")throw new Mp(f);if(!f.ok)throw new Rp(f);let j=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),N;return j==="application/json"?N=yield f.json():j==="application/octet-stream"?N=yield f.blob():j==="text/event-stream"?N=f:j==="multipart/form-data"?N=yield f.formData():N=yield f.text(),{data:N,error:null,response:f}}catch(c){return{data:null,error:c,response:c instanceof Rp||c instanceof Mp?c.context:void 0}}})}}var xt={},No={},jo={},So={},_o={},Do={},i0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Go=i0();const c0=Go.fetch,zu=Go.fetch.bind(Go),Vu=Go.Headers,d0=Go.Request,l0=Go.Response,as=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vu,Request:d0,Response:l0,default:zu,fetch:c0},Symbol.toStringTag,{value:"Module"})),m0=gf(as);var ki={},Ip;function Wu(){if(Ip)return ki;Ip=1,Object.defineProperty(ki,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ki.default=o,ki}var Lp;function qu(){if(Lp)return Do;Lp=1;var o=Do&&Do.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Do,"__esModule",{value:!0});const a=o(m0),n=o(Wu());class r{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,p){return this.headers=Object.assign({},this.headers),this.headers[l]=p,this}then(l,p){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const x=this.fetch;let h=x(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var y,f,C;let j=null,N=null,B=null,P=g.status,F=g.statusText;if(g.ok){if(this.method!=="HEAD"){const $=await g.text();$===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=$:N=JSON.parse($))}const A=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),R=(f=g.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&R&&R.length>1&&(B=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,B=null,P=406,F="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const A=await g.text();try{j=JSON.parse(A),Array.isArray(j)&&g.status===404&&(N=[],j=null,P=200,F="OK")}catch{g.status===404&&A===""?(P=204,F="No Content"):j={message:A}}if(j&&this.isMaybeSingle&&(!((C=j==null?void 0:j.details)===null||C===void 0)&&C.includes("0 rows"))&&(j=null,P=200,F="OK"),j&&this.shouldThrowOnError)throw new n.default(j)}return{error:j,data:N,count:B,status:P,statusText:F}});return this.shouldThrowOnError||(h=h.catch(g=>{var y,f,C;return{error:{message:`${(y=g==null?void 0:g.name)!==null&&y!==void 0?y:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(f=g==null?void 0:g.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(C=g==null?void 0:g.code)!==null&&C!==void 0?C:""}`},data:null,count:null,status:0,statusText:""}})),h.then(l,p)}returns(){return this}overrideTypes(){return this}}return Do.default=r,Do}var Op;function Qu(){if(Op)return _o;Op=1;var o=_o&&_o.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_o,"__esModule",{value:!0});const a=o(qu());class n extends a.default{select(c){let l=!1;const p=(c??"*").split("").map(x=>/\s/.test(x)&&!l?"":(x==='"'&&(l=!l),x)).join("");return this.url.searchParams.set("select",p),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:l=!0,nullsFirst:p,foreignTable:x,referencedTable:h=x}={}){const g=h?`${h}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${c}.${l?"asc":"desc"}${p===void 0?"":p?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:l,referencedTable:p=l}={}){const x=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(x,`${c}`),this}range(c,l,{foreignTable:p,referencedTable:x=p}={}){const h=typeof x>"u"?"offset":`${x}.offset`,g=typeof x>"u"?"limit":`${x}.limit`;return this.url.searchParams.set(h,`${c}`),this.url.searchParams.set(g,`${l-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:l=!1,settings:p=!1,buffers:x=!1,wal:h=!1,format:g="text"}={}){var y;const f=[c?"analyze":null,l?"verbose":null,p?"settings":null,x?"buffers":null,h?"wal":null].filter(Boolean).join("|"),C=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${C}"; options=${f};`,g==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return _o.default=n,_o}var Fp;function Cl(){if(Fp)return So;Fp=1;var o=So&&So.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(So,"__esModule",{value:!0});const a=o(Qu());class n extends a.default{eq(c,l){return this.url.searchParams.append(c,`eq.${l}`),this}neq(c,l){return this.url.searchParams.append(c,`neq.${l}`),this}gt(c,l){return this.url.searchParams.append(c,`gt.${l}`),this}gte(c,l){return this.url.searchParams.append(c,`gte.${l}`),this}lt(c,l){return this.url.searchParams.append(c,`lt.${l}`),this}lte(c,l){return this.url.searchParams.append(c,`lte.${l}`),this}like(c,l){return this.url.searchParams.append(c,`like.${l}`),this}likeAllOf(c,l){return this.url.searchParams.append(c,`like(all).{${l.join(",")}}`),this}likeAnyOf(c,l){return this.url.searchParams.append(c,`like(any).{${l.join(",")}}`),this}ilike(c,l){return this.url.searchParams.append(c,`ilike.${l}`),this}ilikeAllOf(c,l){return this.url.searchParams.append(c,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(c,l){return this.url.searchParams.append(c,`ilike(any).{${l.join(",")}}`),this}is(c,l){return this.url.searchParams.append(c,`is.${l}`),this}in(c,l){const p=Array.from(new Set(l)).map(x=>typeof x=="string"&&new RegExp("[,()]").test(x)?`"${x}"`:`${x}`).join(",");return this.url.searchParams.append(c,`in.(${p})`),this}contains(c,l){return typeof l=="string"?this.url.searchParams.append(c,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(c,`cs.{${l.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(l)}`),this}containedBy(c,l){return typeof l=="string"?this.url.searchParams.append(c,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(c,`cd.{${l.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(l)}`),this}rangeGt(c,l){return this.url.searchParams.append(c,`sr.${l}`),this}rangeGte(c,l){return this.url.searchParams.append(c,`nxl.${l}`),this}rangeLt(c,l){return this.url.searchParams.append(c,`sl.${l}`),this}rangeLte(c,l){return this.url.searchParams.append(c,`nxr.${l}`),this}rangeAdjacent(c,l){return this.url.searchParams.append(c,`adj.${l}`),this}overlaps(c,l){return typeof l=="string"?this.url.searchParams.append(c,`ov.${l}`):this.url.searchParams.append(c,`ov.{${l.join(",")}}`),this}textSearch(c,l,{config:p,type:x}={}){let h="";x==="plain"?h="pl":x==="phrase"?h="ph":x==="websearch"&&(h="w");const g=p===void 0?"":`(${p})`;return this.url.searchParams.append(c,`${h}fts${g}.${l}`),this}match(c){return Object.entries(c).forEach(([l,p])=>{this.url.searchParams.append(l,`eq.${p}`)}),this}not(c,l,p){return this.url.searchParams.append(c,`not.${l}.${p}`),this}or(c,{foreignTable:l,referencedTable:p=l}={}){const x=p?`${p}.or`:"or";return this.url.searchParams.append(x,`(${c})`),this}filter(c,l,p){return this.url.searchParams.append(c,`${l}.${p}`),this}}return So.default=n,So}var Up;function Ku(){if(Up)return jo;Up=1;var o=jo&&jo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jo,"__esModule",{value:!0});const a=o(Cl());class n{constructor(c,{headers:l={},schema:p,fetch:x}){this.url=c,this.headers=l,this.schema=p,this.fetch=x}select(c,{head:l=!1,count:p}={}){const x=l?"HEAD":"GET";let h=!1;const g=(c??"*").split("").map(y=>/\s/.test(y)&&!h?"":(y==='"'&&(h=!h),y)).join("");return this.url.searchParams.set("select",g),p&&(this.headers.Prefer=`count=${p}`),new a.default({method:x,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:l,defaultToNull:p=!0}={}){const x="POST",h=[];if(this.headers.Prefer&&h.push(this.headers.Prefer),l&&h.push(`count=${l}`),p||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(c)){const g=c.reduce((y,f)=>y.concat(Object.keys(f)),[]);if(g.length>0){const y=[...new Set(g)].map(f=>`"${f}"`);this.url.searchParams.set("columns",y.join(","))}}return new a.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:l,ignoreDuplicates:p=!1,count:x,defaultToNull:h=!0}={}){const g="POST",y=[`resolution=${p?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&y.push(this.headers.Prefer),x&&y.push(`count=${x}`),h||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(c)){const f=c.reduce((C,j)=>C.concat(Object.keys(j)),[]);if(f.length>0){const C=[...new Set(f)].map(j=>`"${j}"`);this.url.searchParams.set("columns",C.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:l}={}){const p="PATCH",x=[];return this.headers.Prefer&&x.push(this.headers.Prefer),l&&x.push(`count=${l}`),this.headers.Prefer=x.join(","),new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const l="DELETE",p=[];return c&&p.push(`count=${c}`),this.headers.Prefer&&p.unshift(this.headers.Prefer),this.headers.Prefer=p.join(","),new a.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return jo.default=n,jo}var Ws={},qs={},Hp;function p0(){return Hp||(Hp=1,Object.defineProperty(qs,"__esModule",{value:!0}),qs.version=void 0,qs.version="0.0.0-automated"),qs}var $p;function u0(){if($p)return Ws;$p=1,Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.DEFAULT_HEADERS=void 0;const o=p0();return Ws.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},Ws}var zp;function x0(){if(zp)return No;zp=1;var o=No&&No.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(No,"__esModule",{value:!0});const a=o(Ku()),n=o(Cl()),r=u0();class c{constructor(p,{headers:x={},schema:h,fetch:g}={}){this.url=p,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),x),this.schemaName=h,this.fetch=g}from(p){const x=new URL(`${this.url}/${p}`);return new a.default(x,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(p){return new c(this.url,{headers:this.headers,schema:p,fetch:this.fetch})}rpc(p,x={},{head:h=!1,get:g=!1,count:y}={}){let f;const C=new URL(`${this.url}/rpc/${p}`);let j;h||g?(f=h?"HEAD":"GET",Object.entries(x).filter(([B,P])=>P!==void 0).map(([B,P])=>[B,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([B,P])=>{C.searchParams.append(B,P)})):(f="POST",j=x);const N=Object.assign({},this.headers);return y&&(N.Prefer=`count=${y}`),new n.default({method:f,url:C,headers:N,schema:this.schemaName,body:j,fetch:this.fetch,allowEmpty:!1})}}return No.default=c,No}var Vp;function h0(){if(Vp)return xt;Vp=1;var o=xt&&xt.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(xt,"__esModule",{value:!0}),xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const a=o(x0());xt.PostgrestClient=a.default;const n=o(Ku());xt.PostgrestQueryBuilder=n.default;const r=o(Cl());xt.PostgrestFilterBuilder=r.default;const c=o(Qu());xt.PostgrestTransformBuilder=c.default;const l=o(qu());xt.PostgrestBuilder=l.default;const p=o(Wu());return xt.PostgrestError=p.default,xt.default={PostgrestClient:a.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:l.default,PostgrestError:p.default},xt}var f0=h0();const g0=wu(f0),{PostgrestClient:v0,PostgrestQueryBuilder:fP,PostgrestFilterBuilder:gP,PostgrestTransformBuilder:vP,PostgrestBuilder:yP,PostgrestError:PP}=g0;class y0{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let n=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(n+=`

Suggested solution: ${a.workaround}`),new Error(n)}static createWebSocket(a,n){const r=this.getWebSocketConstructor();return new r(a,n)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const P0="2.15.1",A0=`realtime-js/${P0}`,w0="1.0.0",ol=1e4,C0=1e3,b0=100;var Xs;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Xs||(Xs={}));var ct;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(ct||(ct={}));var da;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(da||(da={}));var sl;(function(o){o.websocket="websocket"})(sl||(sl={}));var zn;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(zn||(zn={}));class N0{constructor(){this.HEADER_LENGTH=1}decode(a,n){return a.constructor===ArrayBuffer?n(this._binaryDecode(a)):n(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const n=new DataView(a),r=new TextDecoder;return this._decodeBroadcast(a,n,r)}_decodeBroadcast(a,n,r){const c=n.getUint8(1),l=n.getUint8(2);let p=this.HEADER_LENGTH+2;const x=r.decode(a.slice(p,p+c));p=p+c;const h=r.decode(a.slice(p,p+l));p=p+l;const g=JSON.parse(r.decode(a.slice(p,a.byteLength)));return{ref:null,topic:x,event:h,payload:g}}}class Gu{constructor(a,n){this.callback=a,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var We;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(We||(We={}));const Wp=(o,a,n={})=>{var r;const c=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(a).reduce((l,p)=>(l[p]=j0(p,o,a,c),l),{})},j0=(o,a,n,r)=>{const c=a.find(x=>x.name===o),l=c==null?void 0:c.type,p=n[o];return l&&!r.includes(l)?Ju(l,p):rl(p)},Ju=(o,a)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return B0(a,n)}switch(o){case We.bool:return S0(a);case We.float4:case We.float8:case We.int2:case We.int4:case We.int8:case We.numeric:case We.oid:return _0(a);case We.json:case We.jsonb:return D0(a);case We.timestamp:return k0(a);case We.abstime:case We.date:case We.daterange:case We.int4range:case We.int8range:case We.money:case We.reltime:case We.text:case We.time:case We.timestamptz:case We.timetz:case We.tsrange:case We.tstzrange:return rl(a);default:return rl(a)}},rl=o=>o,S0=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},_0=o=>{if(typeof o=="string"){const a=parseFloat(o);if(!Number.isNaN(a))return a}return o},D0=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(a){return console.log(`JSON parse error: ${a}`),o}return o},B0=(o,a)=>{if(typeof o!="string")return o;const n=o.length-1,r=o[n];if(o[0]==="{"&&r==="}"){let l;const p=o.slice(1,n);try{l=JSON.parse("["+p+"]")}catch{l=p?p.split(","):[]}return l.map(x=>Ju(a,x))}return o},k0=o=>typeof o=="string"?o.replace(" ","T"):o,Yu=o=>{let a=o;return a=a.replace(/^ws/i,"http"),a=a.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),a.replace(/\/+$/,"")+"/api/broadcast"};class $d{constructor(a,n,r={},c=ol){this.channel=a,this.event=n,this.payload=r,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,n){var r;return this._hasReceived(a)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:a,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:n}){this.recHooks.filter(r=>r.status===a).forEach(r=>r.callback(n))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var qp;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(qp||(qp={}));class Zs{constructor(a,n){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},c=>{const{onJoin:l,onLeave:p,onSync:x}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zs.syncState(this.state,c,l,p),this.pendingDiffs.forEach(h=>{this.state=Zs.syncDiff(this.state,h,l,p)}),this.pendingDiffs=[],x()}),this.channel._on(r.diff,{},c=>{const{onJoin:l,onLeave:p,onSync:x}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Zs.syncDiff(this.state,c,l,p),x())}),this.onJoin((c,l,p)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:l,newPresences:p})}),this.onLeave((c,l,p)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:l,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,n,r,c){const l=this.cloneDeep(a),p=this.transformState(n),x={},h={};return this.map(l,(g,y)=>{p[g]||(h[g]=y)}),this.map(p,(g,y)=>{const f=l[g];if(f){const C=y.map(P=>P.presence_ref),j=f.map(P=>P.presence_ref),N=y.filter(P=>j.indexOf(P.presence_ref)<0),B=f.filter(P=>C.indexOf(P.presence_ref)<0);N.length>0&&(x[g]=N),B.length>0&&(h[g]=B)}else x[g]=y}),this.syncDiff(l,{joins:x,leaves:h},r,c)}static syncDiff(a,n,r,c){const{joins:l,leaves:p}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),c||(c=()=>{}),this.map(l,(x,h)=>{var g;const y=(g=a[x])!==null&&g!==void 0?g:[];if(a[x]=this.cloneDeep(h),y.length>0){const f=a[x].map(j=>j.presence_ref),C=y.filter(j=>f.indexOf(j.presence_ref)<0);a[x].unshift(...C)}r(x,y,h)}),this.map(p,(x,h)=>{let g=a[x];if(!g)return;const y=h.map(f=>f.presence_ref);g=g.filter(f=>y.indexOf(f.presence_ref)<0),a[x]=g,c(x,g,h),g.length===0&&delete a[x]}),a}static map(a,n){return Object.getOwnPropertyNames(a).map(r=>n(r,a[r]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((n,r)=>{const c=a[r];return"metas"in c?n[r]=c.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[r]=c,n},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qp;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(Qp||(Qp={}));var er;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(er||(er={}));var Ea;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Ea||(Ea={}));class bl{constructor(a,n={config:{}},r){this.topic=a,this.params=n,this.socket=r,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new $d(this,da.join,this.params,this.timeout),this.rejoinTimer=new Gu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(c,l)=>{this._trigger(this._replyEventName(l),c)}),this.presence=new Zs(this),this.broadcastEndpointURL=Yu(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(a,n=this.timeout){var r,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:l,presence:p,private:x}}=this.params,h=(c=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(C=>C.filter))!==null&&c!==void 0?c:[],g=!!this.bindings[er.PRESENCE]&&this.bindings[er.PRESENCE].length>0,y={},f={broadcast:l,presence:Object.assign(Object.assign({},p),{enabled:g}),postgres_changes:h,private:x};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(C=>a==null?void 0:a(Ea.CHANNEL_ERROR,C)),this._onClose(()=>a==null?void 0:a(Ea.CLOSED)),this.updateJoinPayload(Object.assign({config:f},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:C})=>{var j;if(this.socket.setAuth(),C===void 0){a==null||a(Ea.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,B=(j=N==null?void 0:N.length)!==null&&j!==void 0?j:0,P=[];for(let F=0;F<B;F++){const H=N[F],{filter:{event:A,schema:R,table:$,filter:J}}=H,S=C&&C[F];if(S&&S.event===A&&S.schema===R&&S.table===$&&S.filter===J)P.push(Object.assign(Object.assign({},H),{id:S.id}));else{this.unsubscribe(),this.state=ct.errored,a==null||a(Ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,a&&a(Ea.SUBSCRIBED);return}}).receive("error",C=>{this.state=ct.errored,a==null||a(Ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(C).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(Ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,n={}){return await this.send({type:"presence",event:"track",payload:a},n.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,n,r){return this.state===ct.joined&&a===er.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,n,r)}async send(a,n={}){var r,c;if(!this._canPush()&&a.type==="broadcast"){const{event:l,payload:p}=a,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:p,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((c=g.body)===null||c===void 0?void 0:c.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var p,x,h;const g=this._push(a.type,a,n.timeout||this.timeout);a.type==="broadcast"&&!(!((h=(x=(p=this.params)===null||p===void 0?void 0:p.config)===null||x===void 0?void 0:x.broadcast)===null||h===void 0)&&h.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(c=>{r=new $d(this,da.leave,{},a),r.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(a,n,r){const c=new AbortController,l=setTimeout(()=>c.abort(),r),p=await this.socket.fetch(a,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(l),p}_push(a,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new $d(this,a,n,r);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>b0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(a,n,r){return n}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,n,r){var c,l;const p=a.toLocaleLowerCase(),{close:x,error:h,leave:g,join:y}=da;if(r&&[x,h,g,y].indexOf(p)>=0&&r!==this._joinRef())return;let C=this._onMessage(p,n,r);if(n&&!C)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(j=>{var N,B,P;return((N=j.filter)===null||N===void 0?void 0:N.event)==="*"||((P=(B=j.filter)===null||B===void 0?void 0:B.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===p}).map(j=>j.callback(C,r)):(l=this.bindings[p])===null||l===void 0||l.filter(j=>{var N,B,P,F,H,A;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in j){const R=j.id,$=(N=j.filter)===null||N===void 0?void 0:N.event;return R&&((B=n.ids)===null||B===void 0?void 0:B.includes(R))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const R=(H=(F=j==null?void 0:j.filter)===null||F===void 0?void 0:F.event)===null||H===void 0?void 0:H.toLocaleLowerCase();return R==="*"||R===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===p}).map(j=>{if(typeof C=="object"&&"ids"in C){const N=C.data,{schema:B,table:P,commit_timestamp:F,type:H,errors:A}=N;C=Object.assign(Object.assign({},{schema:B,table:P,commit_timestamp:F,eventType:H,new:{},old:{},errors:A}),this._getPayloadRecords(N))}j.callback(C,r)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,n,r){const c=a.toLocaleLowerCase(),l={type:c,filter:n,callback:r};return this.bindings[c]?this.bindings[c].push(l):this.bindings[c]=[l],this}_off(a,n){const r=a.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(c=>{var l;return!(((l=c.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===r&&bl.isEqual(c.filter,n))})),this}static isEqual(a,n){if(Object.keys(a).length!==Object.keys(n).length)return!1;for(const r in a)if(a[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(da.close,{},a)}_onError(a){this._on(da.error,{},n=>a(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const n={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(n.new=Wp(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(n.old=Wp(a.columns,a.old_record)),n}}const Kp=()=>{},Ti={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T0=[1e3,2e3,5e3,1e4],E0=1e4,M0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class R0{constructor(a,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ol,this.transport=null,this.heartbeatIntervalMs=Ti.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Kp,this.ref=0,this.reconnectTimer=null,this.logger=Kp,this.conn=null,this.sendBuffer=[],this.serializer=new N0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let l;return c?l=c:typeof fetch>"u"?l=(...p)=>pr(async()=>{const{default:x}=await Promise.resolve().then(()=>as);return{default:x}},void 0).then(({default:x})=>x(...p)).catch(x=>{throw new Error(`Failed to load @supabase/node-fetch: ${x.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...p)=>l(...p)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${a}/${sl.websocket}`,this.httpEndpoint=Yu(a),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=y0.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const n=a.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:w0}))}disconnect(a,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},a?this.conn.close(a,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const n=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const a=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,n,r){this.logger(a,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xs.connecting:return zn.Connecting;case Xs.open:return zn.Open;case Xs.closing:return zn.Closing;default:return zn.Closed}}isConnected(){return this.connectionState()===zn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,n={config:{}}){const r=`realtime:${a}`,c=this.getChannels().find(l=>l.topic===r);if(c)return c;{const l=new bl(`realtime:${a}`,n,this);return this.channels.push(l),l}}push(a){const{topic:n,event:r,payload:c,ref:l}=a,p=()=>{this.encode(a,x=>{var h;(h=this.conn)===null||h===void 0||h.send(x)})};this.log("push",`${n} ${r} (${l})`,c),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(C0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Ti.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let n=this.channels.find(r=>r.topic===a&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${a}"`),n.unsubscribe())}_remove(a){this.channels=this.channels.filter(n=>n.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:c,payload:l,ref:p}=n,x=p?`(${p})`:"",h=l.status||"";this.log("receive",`${h} ${r} ${c} ${x}`.trim(),l),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(c,l,p)),this._triggerStateCallbacks("message",n)})}_clearTimer(a){var n;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var n;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(da.error))}_appendParams(a,n){if(Object.keys(n).length===0)return a;const r=a.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${a}${r}${c}`}_workerObjectUrl(a){let n;if(a)n=a;else{const r=new Blob([M0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(a,n=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(a=null){let n;a?n=a:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const c={access_token:n,version:A0};n&&r.updateJoinPayload(c),r.joinedOnce&&r._isJoined()&&r._push(da.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${a}`,n)})}_triggerStateCallbacks(a,n){try{this.stateChangeCallbacks[a].forEach(r=>{try{r(n)}catch(c){this.log("error",`error in ${a} callback`,c)}})}catch(r){this.log("error",`error triggering ${a} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Gu(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ti.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var n,r,c,l,p,x,h,g;if(this.transport=(n=a==null?void 0:a.transport)!==null&&n!==void 0?n:null,this.timeout=(r=a==null?void 0:a.timeout)!==null&&r!==void 0?r:ol,this.heartbeatIntervalMs=(c=a==null?void 0:a.heartbeatIntervalMs)!==null&&c!==void 0?c:Ti.HEARTBEAT_INTERVAL,this.worker=(l=a==null?void 0:a.worker)!==null&&l!==void 0?l:!1,this.accessToken=(p=a==null?void 0:a.accessToken)!==null&&p!==void 0?p:null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(x=a==null?void 0:a.reconnectAfterMs)!==null&&x!==void 0?x:y=>T0[y-1]||E0,this.encode=(h=a==null?void 0:a.encode)!==null&&h!==void 0?h:(y,f)=>f(JSON.stringify(y)),this.decode=(g=a==null?void 0:a.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}class Nl extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function dt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class I0 extends Nl{constructor(a,n,r){super(a),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class il extends Nl{constructor(a,n){super(a),this.name="StorageUnknownError",this.originalError=n}}var L0=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};const Xu=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...n)=>pr(async()=>{const{default:r}=await Promise.resolve().then(()=>as);return{default:r}},void 0).then(({default:r})=>r(...n)):a=fetch,(...n)=>a(...n)},O0=()=>L0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pr(()=>Promise.resolve().then(()=>as),void 0)).Response:Response}),cl=o=>{if(Array.isArray(o))return o.map(n=>cl(n));if(typeof o=="function"||o!==Object(o))return o;const a={};return Object.entries(o).forEach(([n,r])=>{const c=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));a[c]=cl(r)}),a},F0=o=>{if(typeof o!="object"||o===null)return!1;const a=Object.getPrototypeOf(o);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var Jn=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};const zd=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),U0=(o,a,n)=>Jn(void 0,void 0,void 0,function*(){const r=yield O0();o instanceof r&&!(n!=null&&n.noResolveJson)?o.json().then(c=>{const l=o.status||500,p=(c==null?void 0:c.statusCode)||l+"";a(new I0(zd(c),l,p))}).catch(c=>{a(new il(zd(c),c))}):a(new il(zd(o),o))}),H0=(o,a,n,r)=>{const c={method:o,headers:(a==null?void 0:a.headers)||{}};return o==="GET"||!r?c:(F0(r)?(c.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),c.body=JSON.stringify(r)):c.body=r,a!=null&&a.duplex&&(c.duplex=a.duplex),Object.assign(Object.assign({},c),n))};function ur(o,a,n,r,c,l){return Jn(this,void 0,void 0,function*(){return new Promise((p,x)=>{o(n,H0(a,r,c,l)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>p(h)).catch(h=>U0(h,x,r))})})}function Fi(o,a,n,r){return Jn(this,void 0,void 0,function*(){return ur(o,"GET",a,n,r)})}function va(o,a,n,r,c){return Jn(this,void 0,void 0,function*(){return ur(o,"POST",a,r,c,n)})}function dl(o,a,n,r,c){return Jn(this,void 0,void 0,function*(){return ur(o,"PUT",a,r,c,n)})}function $0(o,a,n,r){return Jn(this,void 0,void 0,function*(){return ur(o,"HEAD",a,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Zu(o,a,n,r,c){return Jn(this,void 0,void 0,function*(){return ur(o,"DELETE",a,r,c,n)})}var jt=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};const z0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class V0{constructor(a,n={},r,c){this.url=a,this.headers=n,this.bucketId=r,this.fetch=Xu(c)}uploadOrUpdate(a,n,r,c){return jt(this,void 0,void 0,function*(){try{let l;const p=Object.assign(Object.assign({},Gp),c);let x=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(p.upsert)});const h=p.metadata;typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",p.cacheControl),h&&l.append("metadata",this.encodeMetadata(h)),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",p.cacheControl),h&&l.append("metadata",this.encodeMetadata(h))):(l=r,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType,h&&(x["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),c!=null&&c.headers&&(x=Object.assign(Object.assign({},x),c.headers));const g=this._removeEmptyFolders(n),y=this._getFinalPath(g),f=yield(a=="PUT"?dl:va)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:x},p!=null&&p.duplex?{duplex:p.duplex}:{}));return{data:{path:g,id:f.Id,fullPath:f.Key},error:null}}catch(l){if(dt(l))return{data:null,error:l};throw l}})}upload(a,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,n,r)})}uploadToSignedUrl(a,n,r,c){return jt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(a),p=this._getFinalPath(l),x=new URL(this.url+`/object/upload/sign/${p}`);x.searchParams.set("token",n);try{let h;const g=Object.assign({upsert:Gp.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",g.cacheControl)):(h=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const f=yield dl(this.fetch,x.toString(),h,{headers:y});return{data:{path:l,fullPath:f.Key},error:null}}catch(h){if(dt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(a,n){return jt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(a);const c=Object.assign({},this.headers);n!=null&&n.upsert&&(c["x-upsert"]="true");const l=yield va(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:c}),p=new URL(this.url+l.url),x=p.searchParams.get("token");if(!x)throw new Nl("No token returned by API");return{data:{signedUrl:p.toString(),path:a,token:x},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}update(a,n,r){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,n,r)})}move(a,n,r){return jt(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}copy(a,n,r){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield va(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}createSignedUrl(a,n,r){return jt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(a),l=yield va(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const p=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${p}`)},{data:l,error:null}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}createSignedUrls(a,n,r){return jt(this,void 0,void 0,function*(){try{const c=yield va(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:a},{headers:this.headers}),l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:c.map(p=>Object.assign(Object.assign({},p),{signedUrl:p.signedURL?encodeURI(`${this.url}${p.signedURL}${l}`):null})),error:null}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}download(a,n){return jt(this,void 0,void 0,function*(){const c=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),p=l?`?${l}`:"";try{const x=this._getFinalPath(a);return{data:yield(yield Fi(this.fetch,`${this.url}/${c}/${x}${p}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(x){if(dt(x))return{data:null,error:x};throw x}})}info(a){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{const r=yield Fi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:cl(r),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}exists(a){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(a);try{return yield $0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(dt(r)&&r instanceof il){const c=r.originalError;if([400,404].includes(c==null?void 0:c.status))return{data:!1,error:r}}throw r}})}getPublicUrl(a,n){const r=this._getFinalPath(a),c=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&c.push(l);const x=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&c.push(h);let g=c.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${x}/public/${r}${g}`)}}}remove(a){return jt(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}list(a,n,r){return jt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},z0),n),{prefix:a||""});return{data:yield va(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},r),error:null}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}listV2(a,n){return jt(this,void 0,void 0,function*(){try{const r=Object.assign({},a);return{data:yield va(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const n=[];return a.width&&n.push(`width=${a.width}`),a.height&&n.push(`height=${a.height}`),a.resize&&n.push(`resize=${a.resize}`),a.format&&n.push(`format=${a.format}`),a.quality&&n.push(`quality=${a.quality}`),n.join("&")}}const W0="2.11.0",q0={"X-Client-Info":`storage-js/${W0}`};var Bo=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};class Q0{constructor(a,n={},r,c){const l=new URL(a);c!=null&&c.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},q0),n),this.fetch=Xu(r)}listBuckets(){return Bo(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(dt(a))return{data:null,error:a};throw a}})}getBucket(a){return Bo(this,void 0,void 0,function*(){try{return{data:yield Fi(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}createBucket(a,n={public:!1}){return Bo(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket`,{id:a,name:a,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}updateBucket(a,n){return Bo(this,void 0,void 0,function*(){try{return{data:yield dl(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}})}emptyBucket(a){return Bo(this,void 0,void 0,function*(){try{return{data:yield va(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}deleteBucket(a){return Bo(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}})}}class K0 extends Q0{constructor(a,n={},r,c){super(a,n,r,c)}from(a){return new V0(this.url,this.headers,a,this.fetch)}}const G0="2.55.0";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const J0={"X-Client-Info":`supabase-js-${Ys}/${G0}`},Y0={headers:J0},X0={schema:"public"},Z0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ev={};var tv=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};const av=o=>{let a;return o?a=o:typeof fetch>"u"?a=zu:a=fetch,(...n)=>a(...n)},nv=()=>typeof Headers>"u"?Vu:Headers,ov=(o,a,n)=>{const r=av(n),c=nv();return(l,p)=>tv(void 0,void 0,void 0,function*(){var x;const h=(x=yield a())!==null&&x!==void 0?x:o;let g=new c(p==null?void 0:p.headers);return g.has("apikey")||g.set("apikey",o),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),r(l,Object.assign(Object.assign({},p),{headers:g}))})};var sv=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};function rv(o){return o.endsWith("/")?o:o+"/"}function iv(o,a){var n,r;const{db:c,auth:l,realtime:p,global:x}=o,{db:h,auth:g,realtime:y,global:f}=a,C={db:Object.assign(Object.assign({},h),c),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},y),p),storage:{},global:Object.assign(Object.assign(Object.assign({},f),x),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>sv(this,void 0,void 0,function*(){return""})};return o.accessToken?C.accessToken=o.accessToken:delete C.accessToken,C}const ex="2.71.1",Lo=30*1e3,ll=3,Vd=ll*Lo,cv="http://localhost:9999",dv="supabase.auth.token",lv={"X-Client-Info":`gotrue-js/${ex}`},ml="X-Supabase-Api-Version",tx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pv=10*60*1e3;class jl extends Error{constructor(a,n,r){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ae(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class uv extends jl{constructor(a,n,r){super(a,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function xv(o){return Ae(o)&&o.name==="AuthApiError"}class ax extends jl{constructor(a,n){super(a),this.name="AuthUnknownError",this.originalError=n}}class An extends jl{constructor(a,n,r,c){super(a,r,c),this.name=n,this.status=r}}class dn extends An{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hv(o){return Ae(o)&&o.name==="AuthSessionMissingError"}class Ei extends An{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Mi extends An{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Ri extends An{constructor(a,n=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fv(o){return Ae(o)&&o.name==="AuthImplicitGrantRedirectError"}class Jp extends An{constructor(a,n=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pl extends An{constructor(a,n){super(a,"AuthRetryableFetchError",n,void 0)}}function Wd(o){return Ae(o)&&o.name==="AuthRetryableFetchError"}class Yp extends An{constructor(a,n,r){super(a,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ul extends An{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Xp=` 	
\r=`.split(""),gv=(()=>{const o=new Array(128);for(let a=0;a<o.length;a+=1)o[a]=-1;for(let a=0;a<Xp.length;a+=1)o[Xp[a].charCodeAt(0)]=-2;for(let a=0;a<Ui.length;a+=1)o[Ui[a].charCodeAt(0)]=a;return o})();function Zp(o,a,n){if(o!==null)for(a.queue=a.queue<<8|o,a.queuedBits+=8;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;n(Ui[r]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const r=a.queue>>a.queuedBits-6&63;n(Ui[r]),a.queuedBits-=6}}function nx(o,a,n){const r=gv[o];if(r>-1)for(a.queue=a.queue<<6|r,a.queuedBits+=6;a.queuedBits>=8;)n(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function eu(o){const a=[],n=p=>{a.push(String.fromCodePoint(p))},r={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},l=p=>{Pv(p,r,n)};for(let p=0;p<o.length;p+=1)nx(o.charCodeAt(p),c,l);return a.join("")}function vv(o,a){if(o<=127){a(o);return}else if(o<=2047){a(192|o>>6),a(128|o&63);return}else if(o<=65535){a(224|o>>12),a(128|o>>6&63),a(128|o&63);return}else if(o<=1114111){a(240|o>>18),a(128|o>>12&63),a(128|o>>6&63),a(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function yv(o,a){for(let n=0;n<o.length;n+=1){let r=o.charCodeAt(n);if(r>55295&&r<=56319){const c=(r-55296)*1024&65535;r=(o.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}vv(r,a)}}function Pv(o,a,n){if(a.utf8seq===0){if(o<=127){n(o);return}for(let r=1;r<6;r+=1)if((o>>7-r&1)===0){a.utf8seq=r;break}if(a.utf8seq===2)a.codepoint=o&31;else if(a.utf8seq===3)a.codepoint=o&15;else if(a.utf8seq===4)a.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|o&63,a.utf8seq-=1,a.utf8seq===0&&n(a.codepoint)}}function Av(o){const a=[],n={queue:0,queuedBits:0},r=c=>{a.push(c)};for(let c=0;c<o.length;c+=1)nx(o.charCodeAt(c),n,r);return new Uint8Array(a)}function wv(o){const a=[];return yv(o,n=>a.push(n)),new Uint8Array(a)}function Cv(o){const a=[],n={queue:0,queuedBits:0},r=c=>{a.push(c)};return o.forEach(c=>Zp(c,n,r)),Zp(null,n,r),a.join("")}function bv(o){return Math.round(Date.now()/1e3)+o}function Nv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const a=Math.random()*16|0;return(o=="x"?a:a&3|8).toString(16)})}const oa=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},ox=()=>{if(!oa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function jv(o){const a={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,l)=>{a[l]=c})}catch{}return n.searchParams.forEach((r,c)=>{a[c]=r}),a}const sx=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...n)=>pr(async()=>{const{default:r}=await Promise.resolve().then(()=>as);return{default:r}},void 0).then(({default:r})=>r(...n)):a=fetch,(...n)=>a(...n)},Sv=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Oo=async(o,a,n)=>{await o.setItem(a,JSON.stringify(n))},Un=async(o,a)=>{const n=await o.getItem(a);if(!n)return null;try{return JSON.parse(n)}catch{return n}},sn=async(o,a)=>{await o.removeItem(a)};class Ki{constructor(){this.promise=new Ki.promiseConstructor((a,n)=>{this.resolve=a,this.reject=n})}}Ki.promiseConstructor=Promise;function qd(o){const a=o.split(".");if(a.length!==3)throw new ul("Invalid JWT structure");for(let r=0;r<a.length;r++)if(!mv.test(a[r]))throw new ul("JWT not in base64url format");return{header:JSON.parse(eu(a[0])),payload:JSON.parse(eu(a[1])),signature:Av(a[2]),raw:{header:a[0],payload:a[1]}}}async function _v(o){return await new Promise(a=>{setTimeout(()=>a(null),o)})}function Dv(o,a){return new Promise((r,c)=>{(async()=>{for(let l=0;l<1/0;l++)try{const p=await o(l);if(!a(l,null,p)){r(p);return}}catch(p){if(!a(l,p)){c(p);return}}})()})}function Bv(o){return("0"+o.toString(16)).substr(-2)}function kv(){const a=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let c="";for(let l=0;l<56;l++)c+=n.charAt(Math.floor(Math.random()*r));return c}return crypto.getRandomValues(a),Array.from(a,Bv).join("")}async function Tv(o){const n=new TextEncoder().encode(o),r=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(r);return Array.from(c).map(l=>String.fromCharCode(l)).join("")}async function Ev(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await Tv(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(o,a,n=!1){const r=kv();let c=r;n&&(c+="/PASSWORD_RECOVERY"),await Oo(o,`${a}-code-verifier`,c);const l=await Ev(r);return[l,r===l?"plain":"s256"]}const Mv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Rv(o){const a=o.headers.get(ml);if(!a||!a.match(Mv))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function Iv(o){if(!o)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(o<=a)throw new Error("JWT has expired")}function Lv(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ov=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(o){if(!Ov.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qd(){const o={};return new Proxy(o,{get:(a,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tu(o){return JSON.parse(JSON.stringify(o))}var Fv=function(o,a){var n={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&a.indexOf(r)<0&&(n[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(o);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(o,r[c])&&(n[r[c]]=o[r[c]]);return n};const Hn=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Uv=[502,503,504];async function au(o){var a;if(!Sv(o))throw new pl(Hn(o),0);if(Uv.includes(o.status))throw new pl(Hn(o),o.status);let n;try{n=await o.json()}catch(l){throw new ax(Hn(l),l)}let r;const c=Rv(o);if(c&&c.getTime()>=tx["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Yp(Hn(n),o.status,((a=n.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(r==="session_not_found")throw new dn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,p)=>l&&typeof p=="string",!0))throw new Yp(Hn(n),o.status,n.weak_password.reasons);throw new uv(Hn(n),o.status||500,r)}const Hv=(o,a,n,r)=>{const c={method:o,headers:(a==null?void 0:a.headers)||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),c.body=JSON.stringify(r),Object.assign(Object.assign({},c),n))};async function _e(o,a,n,r){var c;const l=Object.assign({},r==null?void 0:r.headers);l[ml]||(l[ml]=tx["2024-01-01"].name),r!=null&&r.jwt&&(l.Authorization=`Bearer ${r.jwt}`);const p=(c=r==null?void 0:r.query)!==null&&c!==void 0?c:{};r!=null&&r.redirectTo&&(p.redirect_to=r.redirectTo);const x=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",h=await $v(o,a,n+x,{headers:l,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function $v(o,a,n,r,c,l){const p=Hv(a,r,c,l);let x;try{x=await o(n,Object.assign({},p))}catch(h){throw console.error(h),new pl(Hn(h),0)}if(x.ok||await au(x),r!=null&&r.noResolveJson)return x;try{return await x.json()}catch(h){await au(h)}}function Ta(o){var a;let n=null;qv(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=bv(o.expires_in)));const r=(a=o.user)!==null&&a!==void 0?a:o;return{data:{session:n,user:r},error:null}}function nu(o){const a=Ta(o);return!a.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(a.data.weak_password=o.weak_password),a}function ln(o){var a;return{data:{user:(a=o.user)!==null&&a!==void 0?a:o},error:null}}function zv(o){return{data:o,error:null}}function Vv(o){const{action_link:a,email_otp:n,hashed_token:r,redirect_to:c,verification_type:l}=o,p=Fv(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),x={action_link:a,email_otp:n,hashed_token:r,redirect_to:c,verification_type:l},h=Object.assign({},p);return{data:{properties:x,user:h},error:null}}function Wv(o){return o}function qv(o){return o.access_token&&o.refresh_token&&o.expires_in}const Kd=["global","local","others"];var Qv=function(o,a){var n={};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&a.indexOf(r)<0&&(n[r]=o[r]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,r=Object.getOwnPropertySymbols(o);c<r.length;c++)a.indexOf(r[c])<0&&Object.prototype.propertyIsEnumerable.call(o,r[c])&&(n[r[c]]=o[r[c]]);return n};class Kv{constructor({url:a="",headers:n={},fetch:r}){this.url=a,this.headers=n,this.fetch=sx(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(a,n=Kd[0]){if(Kd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Kd.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}async inviteUserByEmail(a,n={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ln})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async generateLink(a){try{const{options:n}=a,r=Qv(a,["options"]),c=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(c.new_email=r==null?void 0:r.newEmail,delete c.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Vv,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ae(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(a){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:ln})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async listUsers(a){var n,r,c,l,p,x,h;try{const g={nextPage:null,lastPage:0,total:0},y=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=a==null?void 0:a.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(l=(c=a==null?void 0:a.perPage)===null||c===void 0?void 0:c.toString())!==null&&l!==void 0?l:""},xform:Wv});if(y.error)throw y.error;const f=await y.json(),C=(p=y.headers.get("x-total-count"))!==null&&p!==void 0?p:0,j=(h=(x=y.headers.get("link"))===null||x===void 0?void 0:x.split(","))!==null&&h!==void 0?h:[];return j.length>0&&(j.forEach(N=>{const B=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(N.split(";")[1].split("=")[1]);g[`${P}Page`]=B}),g.total=parseInt(C)),{data:Object.assign(Object.assign({},f),g),error:null}}catch(g){if(Ae(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){To(a);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:ln})}catch(n){if(Ae(n))return{data:{user:null},error:n};throw n}}async updateUserById(a,n){To(a);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:n,headers:this.headers,xform:ln})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async deleteUser(a,n=!1){To(a);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:n},xform:ln})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async _listFactors(a){To(a.userId);try{const{data:n,error:r}=await _e(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:r}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _deleteFactor(a){To(a.userId),To(a.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}}function ou(o={}){return{getItem:a=>o[a]||null,setItem:(a,n)=>{o[a]=n},removeItem:a=>{delete o[a]}}}function Gv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Eo={debug:!!(globalThis&&ox()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class rx extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Jv extends rx{}async function Yv(o,a,n){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,a);const r=new globalThis.AbortController;return a>0&&setTimeout(()=>{r.abort(),Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async c=>{if(c){Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await n()}finally{Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(a===0)throw Eo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Jv(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Eo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Gv();const Xv={url:cv,storageKey:dv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:lv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function su(o,a,n){return await n()}const Mo={};class rr{constructor(a){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rr.nextInstanceID,rr.nextInstanceID+=1,this.instanceID>0&&oa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},Xv),a);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Kv({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=sx(c.fetch),this.lock=c.lock||su,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:oa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Yv:this.lock=su,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:ox()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=ou(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=ou(this.memoryStorage)),oa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var a,n;return(n=(a=Mo[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(a){Mo[this.storageKey]=Object.assign(Object.assign({},Mo[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,n;return(n=(a=Mo[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){Mo[this.storageKey]=Object.assign(Object.assign({},Mo[this.storageKey]),{cachedAt:a})}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ex}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const n=jv(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),oa()&&this.detectSessionInUrl&&r!=="none"){const{data:c,error:l}=await this._getSessionFromURL(n,r);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),fv(l)){const h=(a=l.details)===null||a===void 0?void 0:a.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:p,redirectType:x}=c;return this._debug("#_initialize()","detected session in URL",p,"redirect type",x),await this._saveSession(p),setTimeout(async()=>{x==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ae(n)?{error:n}:{error:new ax("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var n,r,c;try{const l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=a==null?void 0:a.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(c=a==null?void 0:a.options)===null||c===void 0?void 0:c.captchaToken}},xform:Ta}),{data:p,error:x}=l;if(x||!p)return{data:{user:null,session:null},error:x};const h=p.session,g=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(a){var n,r,c;try{let l;if("email"in a){const{email:y,password:f,options:C}=a;let j=null,N=null;this.flowType==="pkce"&&([j,N]=await ko(this.storage,this.storageKey)),l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:C==null?void 0:C.emailRedirectTo,body:{email:y,password:f,data:(n=C==null?void 0:C.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken},code_challenge:j,code_challenge_method:N},xform:Ta})}else if("phone"in a){const{phone:y,password:f,options:C}=a;l=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:f,data:(r=C==null?void 0:C.data)!==null&&r!==void 0?r:{},channel:(c=C==null?void 0:C.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:C==null?void 0:C.captchaToken}},xform:Ta})}else throw new Mi("You must provide either an email or phone number and a password");const{data:p,error:x}=l;if(x||!p)return{data:{user:null,session:null},error:x};const h=p.session,g=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(l){if(Ae(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(a){try{let n;if("email"in a){const{email:l,password:p,options:x}=a;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:p,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:nu})}else if("phone"in a){const{phone:l,password:p,options:x}=a;n=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:p,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:nu})}else throw new Mi("You must provide either an email or phone number and a password");const{data:r,error:c}=n;return c?{data:{user:null,session:null},error:c}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ei}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:c})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(a){var n,r,c,l;return await this._handleProviderSignIn(a.provider,{redirectTo:(n=a.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=a.options)===null||r===void 0?void 0:r.scopes,queryParams:(c=a.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(l=a.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:n}=a;if(n==="solana")return await this.signInWithSolana(a);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(a){var n,r,c,l,p,x,h,g,y,f,C,j;let N,B;if("message"in a)N=a.message,B=a.signature;else{const{chain:P,wallet:F,statement:H,options:A}=a;let R;if(oa())if(typeof F=="object")R=F;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))R=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof F!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=F}const $=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const J=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),H?{statement:H}:null));let S;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")S=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)S=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)N=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),B=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(c=(r=A==null?void 0:A.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((x=A==null?void 0:A.signInWithSolana)===null||x===void 0)&&x.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A==null?void 0:A.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((f=(y=A==null?void 0:A.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||f===void 0)&&f.length?["Resources",...A.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const J=await R.signMessage(new TextEncoder().encode(N),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=J}}try{const{data:P,error:F}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Cv(B)},!((C=a.options)===null||C===void 0)&&C.captchaToken?{gotrue_meta_security:{captcha_token:(j=a.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Ta});if(F)throw F;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Ei}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:F})}catch(P){if(Ae(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(a){const n=await Un(this.storage,`${this.storageKey}-code-verifier`),[r,c]=(n??"").split("/");try{const{data:l,error:p}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:r},xform:Ta});if(await sn(this.storage,`${this.storageKey}-code-verifier`),p)throw p;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new Ei}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:c??null}),error:p})}catch(l){if(Ae(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(a){try{const{options:n,provider:r,token:c,access_token:l,nonce:p}=a,x=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:c,access_token:l,nonce:p,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Ta}),{data:h,error:g}=x;return g?{data:{user:null,session:null},error:g}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ei}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:g})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(a){var n,r,c,l,p;try{if("email"in a){const{email:x,options:h}=a;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await ko(this.storage,this.storageKey));const{error:f}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:x,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in a){const{phone:x,options:h}=a,{data:g,error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:x,data:(c=h==null?void 0:h.data)!==null&&c!==void 0?c:{},create_user:(l=h==null?void 0:h.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(p=h==null?void 0:h.channel)!==null&&p!==void 0?p:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:y}}throw new Mi("You must provide either an email or phone number.")}catch(x){if(Ae(x))return{data:{user:null,session:null},error:x};throw x}}async verifyOtp(a){var n,r;try{let c,l;"options"in a&&(c=(n=a.options)===null||n===void 0?void 0:n.redirectTo,l=(r=a.options)===null||r===void 0?void 0:r.captchaToken);const{data:p,error:x}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:l}}),redirectTo:c,xform:Ta});if(x)throw x;if(!p)throw new Error("An error occurred on token verification.");const h=p.session,g=p.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:g,session:h},error:null}}catch(c){if(Ae(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(a){var n,r,c;try{let l=null,p=null;return this.flowType==="pkce"&&([l,p]=await ko(this.storage,this.storageKey)),await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(r=(n=a.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((c=a==null?void 0:a.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:p}),headers:this.headers,xform:zv})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:n},error:r}=a;if(r)throw r;if(!n)throw new dn;const{error:c}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:c}})}catch(a){if(Ae(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const n=`${this.url}/resend`;if("email"in a){const{email:r,type:c,options:l}=a,{error:p}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:c,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:p}}else if("phone"in a){const{phone:r,type:c,options:l}=a,{data:p,error:x}=await _e(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:c,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x}}throw new Mi("You must provide either an email or phone number and a type")}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(a,n){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await a(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const n=await Un(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?a=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const r=a.expires_at?a.expires_at*1e3-Date.now()<Vd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",a.expires_at),!r){if(this.userStorage){const p=await Un(this.userStorage,this.storageKey+"-user");p!=null&&p.user?a.user=p.user:a.user=Qd()}if(this.storage.isServer&&a.user){let p=this.suppressGetSessionWarning;a=new Proxy(a,{get:(h,g,y)=>(!p&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),p=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,g,y))})}return{data:{session:a},error:null}}const{session:c,error:l}=await this._callRefreshToken(a.refresh_token);return l?{data:{session:null},error:l}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:ln}):await this._useSession(async n=>{var r,c,l;const{data:p,error:x}=n;if(x)throw x;return!(!((r=p.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new dn}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&l!==void 0?l:void 0,xform:ln})})}catch(n){if(Ae(n))return hv(n)&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(a,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,n))}async _updateUser(a,n={}){try{return await this._useSession(async r=>{const{data:c,error:l}=r;if(l)throw l;if(!c.session)throw new dn;const p=c.session;let x=null,h=null;this.flowType==="pkce"&&a.email!=null&&([x,h]=await ko(this.storage,this.storageKey));const{data:g,error:y}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:x,code_challenge_method:h}),jwt:p.access_token,xform:ln});if(y)throw y;return p.user=g.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),{data:{user:p.user},error:null}})}catch(r){if(Ae(r))return{data:{user:null},error:r};throw r}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new dn;const n=Date.now()/1e3;let r=n,c=!0,l=null;const{payload:p}=qd(a.access_token);if(p.exp&&(r=p.exp,c=r<=n),c){const{session:x,error:h}=await this._callRefreshToken(a.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!x)return{data:{user:null,session:null},error:null};l=x}else{const{data:x,error:h}=await this._getUser(a.access_token);if(h)throw h;l={access_token:a.access_token,refresh_token:a.refresh_token,user:x.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Ae(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async n=>{var r;if(!a){const{data:p,error:x}=n;if(x)throw x;a=(r=p.session)!==null&&r!==void 0?r:void 0}if(!(a!=null&&a.refresh_token))throw new dn;const{session:c,error:l}=await this._callRefreshToken(a.refresh_token);return l?{data:{user:null,session:null},error:l}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ae(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(a,n){try{if(!oa())throw new Ri("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Ri(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Jp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ri("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Jp("No code detected.");const{data:H,error:A}=await this._exchangeCodeForSession(a.code);if(A)throw A;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:c,access_token:l,refresh_token:p,expires_in:x,expires_at:h,token_type:g}=a;if(!l||!x||!p||!g)throw new Ri("No session defined in URL");const y=Math.round(Date.now()/1e3),f=parseInt(x);let C=y+f;h&&(C=parseInt(h));const j=C-y;j*1e3<=Lo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${f}s`);const N=C-f;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,C,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,C,y);const{data:B,error:P}=await this._getUser(l);if(P)throw P;const F={provider_token:r,provider_refresh_token:c,access_token:l,expires_in:f,expires_at:C,refresh_token:p,token_type:g,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:F,redirectType:a.type},error:null}}catch(r){if(Ae(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const n=await Un(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&n)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:c,error:l}=n;if(l)return{error:l};const p=(r=c.session)===null||r===void 0?void 0:r.access_token;if(p){const{error:x}=await this.admin.signOut(p,a);if(x&&!(xv(x)&&(x.status===404||x.status===401||x.status===403)))return{error:x}}return a!=="others"&&(await this._removeSession(),await sn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const n=Nv(),r={id:n,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(a){return await this._useSession(async n=>{var r,c;try{const{data:{session:l},error:p}=n;if(p)throw p;await((r=this.stateChangeEmitters.get(a))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",a,"session",l)}catch(l){await((c=this.stateChangeEmitters.get(a))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",l),console.error(l)}})}async resetPasswordForEmail(a,n={}){let r=null,c=null;this.flowType==="pkce"&&([r,c]=await ko(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:r,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Ae(l))return{data:null,error:l};throw l}}async getUserIdentities(){var a;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(a=n.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async linkIdentity(a){var n;try{const{data:r,error:c}=await this._useSession(async l=>{var p,x,h,g,y;const{data:f,error:C}=l;if(C)throw C;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(p=a.options)===null||p===void 0?void 0:p.redirectTo,scopes:(x=a.options)===null||x===void 0?void 0:x.scopes,queryParams:(h=a.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",j,{headers:this.headers,jwt:(y=(g=f.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return oa()&&!(!((n=a.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:a.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ae(r))return{data:{provider:a.provider,url:null},error:r};throw r}}async unlinkIdentity(a){try{return await this._useSession(async n=>{var r,c;const{data:l,error:p}=n;if(p)throw p;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(c=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _refreshAccessToken(a){const n=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Dv(async c=>(c>0&&await _v(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:Ta})),(c,l)=>{const p=200*Math.pow(2,c);return l&&Wd(l)&&Date.now()+p-r<Lo})}catch(r){if(this._debug(n,"error",r),Ae(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",n,"url",r),oa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:a,url:r},error:null}}async _recoverAndRefresh(){var a,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const c=await Un(this.storage,this.storageKey);if(c&&this.userStorage){let p=await Un(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:c.user},await Oo(this.userStorage,this.storageKey+"-user",p)),c.user=(a=p==null?void 0:p.user)!==null&&a!==void 0?a:Qd()}else if(c&&!c.user&&!c.user){const p=await Un(this.storage,this.storageKey+"-user");p&&(p!=null&&p.user)?(c.user=p.user,await sn(this.storage,this.storageKey+"-user"),await Oo(this.storage,this.storageKey,c)):c.user=Qd()}if(this._debug(r,"session from storage",c),!this._isValidSession(c)){this._debug(r,"session is not valid"),c!==null&&await this._removeSession();return}const l=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vd;if(this._debug(r,`session has${l?"":" not"} expired with margin of ${Vd}s`),l){if(this.autoRefreshToken&&c.refresh_token){const{error:p}=await this._callRefreshToken(c.refresh_token);p&&(console.error(p),Wd(p)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:x}=await this._getUser(c.access_token);!x&&(p!=null&&p.user)?(c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(r,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(r,"error",c),console.error(c);return}finally{this._debug(r,"end")}}async _callRefreshToken(a){var n,r;if(!a)throw new dn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Ki;const{data:l,error:p}=await this._refreshAccessToken(a);if(p)throw p;if(!l.session)throw new dn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const x={session:l.session,error:null};return this.refreshingDeferred.resolve(x),x}catch(l){if(this._debug(c,"error",l),Ae(l)){const p={session:null,error:l};return Wd(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(p),p}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(l),l}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(a,n,r=!0){const c=`#_notifyAllSubscribers(${a})`;this._debug(c,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:a,session:n});const l=[],p=Array.from(this.stateChangeEmitters.values()).map(async x=>{try{await x.callback(a,n)}catch(h){l.push(h)}});if(await Promise.all(p),l.length>0){for(let x=0;x<l.length;x+=1)console.error(l[x]);throw l[0]}}finally{this._debug(c,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const n=Object.assign({},a),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Oo(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const l=tu(c);await Oo(this.storage,this.storageKey,l)}else{const c=tu(n);await Oo(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await sn(this.storage,this.storageKey),await sn(this.storage,this.storageKey+"-code-verifier"),await sn(this.storage,this.storageKey+"-user"),this.userStorage&&await sn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&oa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Lo);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((r.expires_at*1e3-a)/Lo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Lo}ms, refresh threshold is ${ll} ticks`),c<=ll&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof rx)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!oa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const n=`#_onVisibilityChanged(${a})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,n,r){const c=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&c.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&c.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[l,p]=await ko(this.storage,this.storageKey),x=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(p)}`});c.push(x.toString())}if(r!=null&&r.queryParams){const l=new URLSearchParams(r.queryParams);c.push(l.toString())}return r!=null&&r.skipBrowserRedirect&&c.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${a}?${c.join("&")}`}async _unenroll(a){try{return await this._useSession(async n=>{var r;const{data:c,error:l}=n;return l?{data:null,error:l}:await _e(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _enroll(a){try{return await this._useSession(async n=>{var r,c;const{data:l,error:p}=n;if(p)return{data:null,error:p};const x=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:{issuer:a.issuer}),{data:h,error:g}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:x,headers:this.headers,jwt:(r=l==null?void 0:l.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(a.factorType==="totp"&&(!((c=h==null?void 0:h.totp)===null||c===void 0)&&c.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:c,error:l}=n;if(l)return{data:null,error:l};const{data:p,error:x}=await _e(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:{code:a.code,challenge_id:a.challengeId},headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return x?{data:null,error:x}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:x})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:c,error:l}=n;return l?{data:null,error:l}:await _e(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:{channel:a.channel},headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ae(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(a){const{data:n,error:r}=await this._challenge({factorId:a.factorId});return r?{data:null,error:r}:await this._verify({factorId:a.factorId,challengeId:n.id,code:a.code})}async _listFactors(){const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(a==null?void 0:a.factors)||[],c=r.filter(p=>p.factor_type==="totp"&&p.status==="verified"),l=r.filter(p=>p.factor_type==="phone"&&p.status==="verified");return{data:{all:r,totp:c,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var n,r;const{data:{session:c},error:l}=a;if(l)return{data:null,error:l};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=qd(c.access_token);let x=null;p.aal&&(x=p.aal);let h=x;((r=(n=c.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const y=p.amr||[];return{data:{currentLevel:x,nextLevel:h,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(a,n={keys:[]}){let r=n.keys.find(x=>x.kid===a);if(r)return r;const c=Date.now();if(r=this.jwks.keys.find(x=>x.kid===a),r&&this.jwks_cached_at+pv>c)return r;const{data:l,error:p}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=c,r=l.keys.find(x=>x.kid===a),!r)?null:r}async getClaims(a,n={}){try{let r=a;if(!r){const{data:j,error:N}=await this.getSession();if(N||!j.session)return{data:null,error:N};r=j.session.access_token}const{header:c,payload:l,signature:p,raw:{header:x,payload:h}}=qd(r);n!=null&&n.allowExpired||Iv(l.exp);const g=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:l,header:c,signature:p},error:null}}const y=Lv(c.alg),f=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,f,p,wv(`${x}.${h}`)))throw new ul("Invalid JWT signature");return{data:{claims:l,header:c,signature:p},error:null}}catch(r){if(Ae(r))return{data:null,error:r};throw r}}}rr.nextInstanceID=0;const Zv=rr;class ey extends Zv{constructor(a){super(a)}}var ty=function(o,a,n,r){function c(l){return l instanceof n?l:new n(function(p){p(l)})}return new(n||(n=Promise))(function(l,p){function x(y){try{g(r.next(y))}catch(f){p(f)}}function h(y){try{g(r.throw(y))}catch(f){p(f)}}function g(y){y.done?l(y.value):c(y.value).then(x,h)}g((r=r.apply(o,a||[])).next())})};class ay{constructor(a,n,r){var c,l,p;if(this.supabaseUrl=a,this.supabaseKey=n,!a)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const x=rv(a),h=new URL(x);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const g=`sb-${h.hostname.split(".")[0]}-auth-token`,y={db:X0,realtime:ev,auth:Object.assign(Object.assign({},Z0),{storageKey:g}),global:Y0},f=iv(r??{},y);this.storageKey=(c=f.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(C,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((p=f.auth)!==null&&p!==void 0?p:{},this.headers,f.global.fetch),this.fetch=ov(n,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new v0(new URL("rest/v1",h).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new K0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new r0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,n={},r={}){return this.rest.rpc(a,n,r)}channel(a,n={config:{}}){return this.realtime.channel(a,n)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var a,n;return ty(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(a=r.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:c,storageKey:l,flowType:p,lock:x,debug:h},g,y){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ey({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),g),storageKey:l,autoRefreshToken:a,persistSession:n,detectSessionInUrl:r,storage:c,flowType:p,lock:x,debug:h,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(a){return new R0(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(a,n,r){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:a==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ny=(o,a,n)=>new ay(o,a,n);function oy(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const a=o.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}oy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sy="https://ebdjwnldnixdamyiofzw.supabase.co",ry="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImViZGp3bmxkbml4ZGFteWlvZnp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2ODUwNjgsImV4cCI6MjA3MTI2MTA2OH0.YU46yHSZR1fSn3gZ-dQERlsTsXczeYJUKyrcnTSxy0Y",de=ny(sy,ry),ix=_.createContext(void 0);function iy({children:o}){const[a,n]=_.useState(null),[r,c]=_.useState(!0),l=async f=>{if(!(f!=null&&f.email)){n(null);return}try{const{data:C,error:j}=await de.from("users").select("*").eq("email",f.email).maybeSingle();j?(console.error("Error loading user profile:",j),n(null)):n(C)}catch(C){console.error("Error in loadUserProfile:",C),n(null)}},p=async()=>{try{const{data:{session:f},error:C}=await de.auth.getSession();if(C)return console.error("Error getting session:",C),!1;if(f){if((f.expires_at?f.expires_at*1e3:0)-Date.now()<5*60*1e3){console.log("Session expiring soon, refreshing...");const{data:B,error:P}=await de.auth.refreshSession();if(P)return console.error("Error refreshing session:",P),!1;if(B.session)return console.log("Session refreshed successfully"),!0}return!0}return!1}catch(f){return console.error("Error in refreshSessionIfNeeded:",f),!1}};_.useEffect(()=>{async function f(){c(!0);try{const{data:{user:j},error:N}=await de.auth.getUser();N||!j?n(null):await l(j)}catch(j){console.error("Error in loadUser:",j),n(null)}finally{c(!1)}}f();const{data:{subscription:C}}=de.auth.onAuthStateChange((j,N)=>{N!=null&&N.user?l(N.user):n(null),c(!1)});return()=>C.unsubscribe()},[]);const x=async(f,C)=>{try{const{data:j,error:N}=await de.auth.signInWithPassword({email:f.trim(),password:C});if(N)throw console.error("Sign in error:",N),N;return j}catch(j){throw console.error("Sign in error:",j),new Error(j.message||"Login failed. Please check your credentials.")}},h=async()=>{await de.auth.signOut()},g=(a==null?void 0:a.role)==="super_admin",y=(a==null?void 0:a.role)==="consultant";return i.jsx(ix.Provider,{value:{user:a,loading:r,signIn:x,signOut:h,refreshSessionIfNeeded:p,isAdmin:g,isConsultant:y},"data-matrix-id":"src/contexts/AuthContext.tsx:149:4","data-matrix-name":"AuthContext.Provider","data-component-path":"src/contexts/AuthContext.tsx","data-component-line":"149","data-component-file":"AuthContext.tsx","data-component-name":"AuthContext.Provider","data-component-content":"%7B%22value%22%3A%7B%22user%22%3A%22%5Bvar%3Auser%5D%22%2C%22loading%22%3A%22%5Bvar%3Aloading%5D%22%2C%22signIn%22%3A%22%5Bvar%3AsignIn%5D%22%2C%22signOut%22%3A%22%5Bvar%3AsignOut%5D%22%2C%22refreshSessionIfNeeded%22%3A%22%5Bvar%3ArefreshSessionIfNeeded%5D%22%2C%22isAdmin%22%3A%22%5Bvar%3AisAdmin%5D%22%2C%22isConsultant%22%3A%22%5Bvar%3AisConsultant%5D%22%7D%7D",children:o})}function Ra(){const o=_.useContext(ix);if(o===void 0)throw new Error("useAuth must be used within an AuthProvider");return o}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(o,a)=>{const n=_.forwardRef(({color:r="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:p,className:x="",children:h,...g},y)=>_.createElement("svg",{ref:y,...cy,width:c,height:c,stroke:r,strokeWidth:p?Number(l)*24/Number(c):l,className:["lucide",`lucide-${dy(o)}`,x].join(" "),...g},[...a.map(([f,C])=>_.createElement(f,C)),...Array.isArray(h)?h:[h]]));return n.displayName=`${o}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=De("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=De("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=De("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=De("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=De("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=De("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function mx(o){var a,n,r="";if(typeof o=="string"||typeof o=="number")r+=o;else if(typeof o=="object")if(Array.isArray(o)){var c=o.length;for(a=0;a<c;a++)o[a]&&(n=mx(o[a]))&&(r&&(r+=" "),r+=n)}else for(n in o)o[n]&&(r&&(r+=" "),r+=n);return r}function ne(){for(var o,a,n=0,r="",c=arguments.length;n<c;n++)(o=arguments[n])&&(a=mx(o))&&(r&&(r+=" "),r+=a);return r}const px=_.createContext(void 0);function Cy({children:o}){const[a,n]=_.useState([]),r=g=>{const y=Math.random().toString(36).substring(7),f={...g,id:y};n(j=>[...j,f]);const C=g.duration??5e3;C>0&&setTimeout(()=>{c(y)},C)},c=g=>{n(y=>y.filter(f=>f.id!==g))},l=(g,y)=>{r({type:"success",title:g,message:y})},p=(g,y)=>{r({type:"error",title:g,message:y,duration:7e3})},x=(g,y)=>{r({type:"warning",title:g,message:y})},h=(g,y)=>{r({type:"info",title:g,message:y})};return i.jsxs(px.Provider,{value:{notifications:a,addNotification:r,removeNotification:c,success:l,error:p,warning:x,info:h},"data-matrix-id":"src/contexts/NotificationContext.tsx:66:4","data-matrix-name":"NotificationContext.Provider","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"66","data-component-file":"NotificationContext.tsx","data-component-name":"NotificationContext.Provider","data-component-content":"%7B%22value%22%3A%7B%22notifications%22%3A%22%5Bvar%3Anotifications%5D%22%2C%22addNotification%22%3A%22%5Bvar%3AaddNotification%5D%22%2C%22removeNotification%22%3A%22%5Bvar%3AremoveNotification%5D%22%2C%22success%22%3A%22%5Bvar%3Asuccess%5D%22%2C%22error%22%3A%22%5Bvar%3Aerror%5D%22%2C%22warning%22%3A%22%5Bvar%3Awarning%5D%22%2C%22info%22%3A%22%5Bvar%3Ainfo%5D%22%7D%7D",children:[o,i.jsx(by,{"data-matrix-id":"src/contexts/NotificationContext.tsx:76:6","data-matrix-name":"NotificationContainer","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"76","data-component-file":"NotificationContext.tsx","data-component-name":"NotificationContainer"})]})}function by(){const{notifications:o,removeNotification:a}=ns();return i.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2","data-matrix-id":"src/contexts/NotificationContext.tsx:85:4","data-matrix-name":"div","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"85","data-component-file":"NotificationContext.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20top-4%20right-4%20z-50%20space-y-2%22%7D",children:o.map(n=>i.jsx(Ny,{notification:n,onClose:()=>a(n.id),"data-matrix-id":"src/contexts/NotificationContext.tsx:87:8","data-matrix-name":"NotificationCard","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"87","data-component-file":"NotificationContext.tsx","data-component-name":"NotificationCard","data-component-content":"%7B%22notification%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BArrowFunctionExpression%5D%22%7D"},n.id))})}function Ny({notification:o,onClose:a}){const n=()=>{switch(o.type){case"success":return i.jsx(Sl,{className:"h-5 w-5","data-matrix-id":"src/contexts/NotificationContext.tsx:104:15","data-matrix-name":"CheckCircle","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"104","data-component-file":"NotificationContext.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"});case"error":return i.jsx($i,{className:"h-5 w-5","data-matrix-id":"src/contexts/NotificationContext.tsx:106:15","data-matrix-name":"XCircle","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"106","data-component-file":"NotificationContext.tsx","data-component-name":"XCircle","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"});case"warning":return i.jsx(Jo,{className:"h-5 w-5","data-matrix-id":"src/contexts/NotificationContext.tsx:108:15","data-matrix-name":"AlertCircle","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"108","data-component-file":"NotificationContext.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"});case"info":return i.jsx(dx,{className:"h-5 w-5","data-matrix-id":"src/contexts/NotificationContext.tsx:110:15","data-matrix-name":"Info","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"110","data-component-file":"NotificationContext.tsx","data-component-name":"Info","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"})}},r=()=>{switch(o.type){case"success":return"bg-success/10 border-success/20 text-success";case"error":return"bg-destructive/10 border-destructive/20 text-destructive";case"warning":return"bg-orange-50 border-orange-200 text-orange-800";case"info":return"bg-info/10 border-info/20 text-info"}};return i.jsx("div",{className:ne("modern-card glass-card p-4 border-2 shadow-lg animate-in slide-in-from-right duration-300 max-w-sm",r()),"data-matrix-id":"src/contexts/NotificationContext.tsx:128:4","data-matrix-name":"div","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"128","data-component-file":"NotificationContext.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:i.jsxs("div",{className:"flex items-start space-x-3","data-matrix-id":"src/contexts/NotificationContext.tsx:132:6","data-matrix-name":"div","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"132","data-component-file":"NotificationContext.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20space-x-3%22%7D",children:[i.jsx("div",{className:"flex-shrink-0","data-matrix-id":"src/contexts/NotificationContext.tsx:133:8","data-matrix-name":"div","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"133","data-component-file":"NotificationContext.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-shrink-0%22%7D",children:n()}),i.jsxs("div",{className:"flex-1 min-w-0","data-matrix-id":"src/contexts/NotificationContext.tsx:136:8","data-matrix-name":"div","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"136","data-component-file":"NotificationContext.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20min-w-0%22%7D",children:[i.jsx("p",{className:"font-semibold text-sm","data-matrix-id":"src/contexts/NotificationContext.tsx:137:10","data-matrix-name":"p","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"137","data-component-file":"NotificationContext.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-sm%22%7D",children:o.title}),o.message&&i.jsx("p",{className:"text-sm opacity-90 mt-1","data-matrix-id":"src/contexts/NotificationContext.tsx:139:12","data-matrix-name":"p","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"139","data-component-file":"NotificationContext.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20opacity-90%20mt-1%22%7D",children:o.message})]}),i.jsx("button",{onClick:a,className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity","data-matrix-id":"src/contexts/NotificationContext.tsx:142:8","data-matrix-name":"button","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"142","data-component-file":"NotificationContext.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-shrink-0%20opacity-60%20hover%3Aopacity-100%20transition-opacity%22%7D",children:i.jsx(Yo,{className:"h-4 w-4","data-matrix-id":"src/contexts/NotificationContext.tsx:146:10","data-matrix-name":"X","data-component-path":"src/contexts/NotificationContext.tsx","data-component-line":"146","data-component-file":"NotificationContext.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})})]})})}function ns(){const o=_.useContext(px);if(o===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return o}const Fo={code:"EUR",symbol:"",name:"Euro",decimalPlaces:2},ux=_.createContext({currency:Fo,formatCurrency:o=>`${o.toFixed(2)}`,refreshCurrency:async()=>{},loading:!0}),kl=()=>{const o=_.useContext(ux);if(!o)throw new Error("useCurrency must be used within a CurrencyProvider");return o},jy=({children:o})=>{const[a,n]=_.useState(Fo),[r,c]=_.useState(!0),l=async()=>{try{c(!0);const{data:g,error:y}=await de.functions.invoke("get-currency-settings");if(y){console.error("Error loading currency settings:",y),n(Fo);return}if(g!=null&&g.error){console.error("Currency API error:",g.error),n(Fo);return}g!=null&&g.data?n({code:g.data.currency_code,symbol:g.data.currency_symbol,name:g.data.currency_name,decimalPlaces:g.data.decimal_places}):n(Fo)}catch(g){console.error("Error loading currency settings:",g),n(Fo)}finally{c(!1)}},p=g=>{if(isNaN(g))return`${a.symbol}0${".00".slice(0,a.decimalPlaces+1)}`;const y=g.toFixed(a.decimalPlaces);if(a.decimalPlaces===0)return`${a.symbol}${Math.round(g)}`;switch(a.code){case"USD":case"CAD":return`${a.symbol}${y}`;case"EUR":return`${y}${a.symbol}`;case"GBP":return`${a.symbol}${y}`;case"JPY":return`${a.symbol}${Math.round(g)}`;case"CHF":return`${a.symbol} ${y}`;default:return`${a.symbol}${y}`}},x=async()=>{await l()};_.useEffect(()=>{l()},[]);const h={currency:a,formatCurrency:p,refreshCurrency:x,loading:r};return i.jsx(ux.Provider,{value:h,"data-matrix-id":"src/contexts/CurrencyContext.tsx:133:4","data-matrix-name":"CurrencyContext.Provider","data-component-path":"src/contexts/CurrencyContext.tsx","data-component-line":"133","data-component-file":"CurrencyContext.tsx","data-component-name":"CurrencyContext.Provider","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D",children:o})},Gd=768;function xx(){const[o,a]=_.useState(void 0);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Gd-1}px)`),r=()=>{a(window.innerWidth<Gd)};return n.addEventListener("change",r),a(window.innerWidth<Gd),()=>n.removeEventListener("change",r)},[]),!!o}function Sy({children:o}){const{user:a,signOut:n,isAdmin:r,isConsultant:c}=Ra(),l=ts(),p=xx(),[x,h]=_.useState(!1),g=[{name:"My Timesheets",href:"/consultant/timesheets",icon:dr,show:c,description:"Manage your weekly timesheets"},{name:"Timesheet History",href:"/consultant/history",icon:Hi,show:c,description:"View your submitted timesheets"},{name:"Projects",href:"/admin/projects",icon:Hi,show:r,description:"Manage projects and codes"},{name:"Approvals",href:"/admin/approvals",icon:Py,show:r,description:"Review and approve timesheets"},{name:"Users",href:"/admin/users",icon:wy,show:r,description:"Manage consultant users"},{name:"VAT Configuration",href:"/admin/vat-settings",icon:cx,show:r,description:"Configure VAT rates for expense types"},{name:"Country Rates",href:"/admin/country-rates",icon:lx,show:r,description:"Manage daily allowance rates by country"},{name:"Currency Settings",href:"/admin/currency-settings",icon:Gi,show:r,description:"Configure default application currency"},{name:"Settings",href:"/admin/settings",icon:Bl,show:r,description:"Configure rates and system settings"}].filter(f=>f.show),y=f=>l.pathname===f;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50","data-matrix-id":"src/components/Layout.tsx:38:4","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"38","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-br%20from-slate-50%20via-blue-50%20to-indigo-50%22%7D",children:[p&&x&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>h(!1),"data-matrix-id":"src/components/Layout.tsx:41:8","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"41","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-40%20lg%3Ahidden%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),i.jsx("header",{className:"glass-card border-b border-border/50 sticky top-0 z-50","data-matrix-id":"src/components/Layout.tsx:48:6","data-matrix-name":"header","data-component-path":"src/components/Layout.tsx","data-component-line":"48","data-component-file":"Layout.tsx","data-component-name":"header","data-component-content":"%7B%22className%22%3A%22glass-card%20border-b%20border-border%2F50%20sticky%20top-0%20z-50%22%7D",children:i.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8","data-matrix-id":"src/components/Layout.tsx:49:8","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"49","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-full%20px-4%20sm%3Apx-6%20lg%3Apx-8%22%7D",children:i.jsxs("div",{className:"flex justify-between items-center h-16","data-matrix-id":"src/components/Layout.tsx:50:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"50","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20h-16%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/components/Layout.tsx:51:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"51","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[p&&i.jsx("button",{onClick:()=>h(!0),className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 lg:hidden","aria-label":"Open menu","data-matrix-id":"src/components/Layout.tsx:54:16","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"54","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22interactive%20p-2%20rounded-lg%20text-muted-foreground%20hover%3Atext-foreground%20hover%3Abg-accent%2F50%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary%2F20%20transition-all%20duration-200%20lg%3Ahidden%22%7D",children:i.jsx(fy,{className:"h-6 w-6","data-matrix-id":"src/components/Layout.tsx:59:18","data-matrix-name":"Menu","data-component-path":"src/components/Layout.tsx","data-component-line":"59","data-component-file":"Layout.tsx","data-component-name":"Menu","data-component-content":"%7B%22className%22%3A%22h-6%20w-6%22%7D"})}),i.jsx(Hd,{to:"/",className:"flex items-center space-x-3","data-matrix-id":"src/components/Layout.tsx:63:14","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"63","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%2F%22%2C%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:i.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"h-8 w-auto","data-matrix-id":"src/components/Layout.tsx:64:16","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"64","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%2Fimages%2Flogo.png%22%2C%22alt%22%3A%22SCHWARZENBERG.TECH%20Logo%22%2C%22className%22%3A%22h-8%20w-auto%22%7D"})})]}),i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4","data-matrix-id":"src/components/Layout.tsx:68:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"68","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20sm%3Aspace-x-4%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 px-2 sm:px-4 py-2 rounded-lg bg-card/50 border border-border/50","data-matrix-id":"src/components/Layout.tsx:70:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"70","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20sm%3Aspace-x-3%20px-2%20sm%3Apx-4%20py-2%20rounded-lg%20bg-card%2F50%20border%20border-border%2F50%22%7D",children:[i.jsx("div",{className:"p-1.5 rounded-full bg-primary/10","data-matrix-id":"src/components/Layout.tsx:71:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"71","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-1.5%20rounded-full%20bg-primary%2F10%22%7D",children:i.jsx(zi,{className:"h-4 w-4 text-primary","data-matrix-id":"src/components/Layout.tsx:72:18","data-matrix-name":"User","data-component-path":"src/components/Layout.tsx","data-component-line":"72","data-component-file":"Layout.tsx","data-component-name":"User","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-primary%22%7D"})}),i.jsxs("div",{className:"hidden sm:block text-right","data-matrix-id":"src/components/Layout.tsx:74:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"74","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22hidden%20sm%3Ablock%20text-right%22%7D",children:[i.jsx("p",{className:"text-sm font-medium text-foreground","data-matrix-id":"src/components/Layout.tsx:75:18","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"75","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:a==null?void 0:a.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/components/Layout.tsx:78:18","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"78","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:(a==null?void 0:a.role)==="super_admin"?"Administrator":"Consultant"})]}),i.jsx("div",{className:"sm:hidden","data-matrix-id":"src/components/Layout.tsx:83:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"83","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22sm%3Ahidden%22%7D",children:i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/components/Layout.tsx:84:18","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"84","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:(a==null?void 0:a.role)==="super_admin"?"Admin":"User"})})]}),i.jsx("button",{onClick:n,className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 group min-h-[44px] min-w-[44px] flex items-center justify-center",title:"Sign out","data-matrix-id":"src/components/Layout.tsx:91:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"91","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22interactive%20p-2%20rounded-lg%20text-muted-foreground%20hover%3Atext-foreground%20hover%3Abg-accent%2F50%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary%2F20%20transition-all%20duration-200%20group%20min-h-%5B44px%5D%20min-w-%5B44px%5D%20flex%20items-center%20justify-center%22%2C%22title%22%3A%22Sign%20out%22%7D",children:i.jsx(iu,{className:"h-5 w-5 group-hover:scale-110 transition-transform","data-matrix-id":"src/components/Layout.tsx:96:16","data-matrix-name":"LogOut","data-component-path":"src/components/Layout.tsx","data-component-line":"96","data-component-file":"Layout.tsx","data-component-name":"LogOut","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20group-hover%3Ascale-110%20transition-transform%22%7D"})})]})]})})}),i.jsxs("div",{className:"flex","data-matrix-id":"src/components/Layout.tsx:103:6","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"103","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%22%7D",children:[i.jsx("nav",{className:ne("min-h-screen glass-card border-r border-border/50 custom-scrollbar transition-all duration-300",{"w-64":!p,hidden:p}),"data-matrix-id":"src/components/Layout.tsx:105:8","data-matrix-name":"nav","data-component-path":"src/components/Layout.tsx","data-component-line":"105","data-component-file":"Layout.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:i.jsxs("div",{className:"p-6","data-matrix-id":"src/components/Layout.tsx:112:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"112","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:[i.jsx("div",{className:"flex justify-center mb-6","data-matrix-id":"src/components/Layout.tsx:114:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"114","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20mb-6%22%7D",children:i.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"h-12 w-auto","data-matrix-id":"src/components/Layout.tsx:115:14","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"115","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%2Fimages%2Flogo.png%22%2C%22alt%22%3A%22SCHWARZENBERG.TECH%20Logo%22%2C%22className%22%3A%22h-12%20w-auto%22%7D"})}),i.jsx("div",{className:"space-y-2","data-matrix-id":"src/components/Layout.tsx:117:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"117","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:g.map(f=>{const C=f.icon,j=y(f.href);return i.jsxs(Hd,{to:f.href,className:ne("group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 interactive min-h-[48px]",{"bg-primary text-primary-foreground shadow-lg shadow-primary/25":j,"text-muted-foreground hover:text-foreground hover:bg-accent/50":!j}),title:f.description,"data-matrix-id":"src/components/Layout.tsx:122:18","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"122","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%5BMemberExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22title%22%3A%22%5BMemberExpression%5D%22%7D",children:[i.jsx(C,{className:ne("mr-3 h-5 w-5 transition-all duration-200",{"text-primary-foreground":j,"text-muted-foreground group-hover:text-foreground group-hover:scale-110":!j}),"data-matrix-id":"src/components/Layout.tsx:134:20","data-matrix-name":"Icon","data-component-path":"src/components/Layout.tsx","data-component-line":"134","data-component-file":"Layout.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D"}),i.jsxs("div",{className:"flex-1","data-matrix-id":"src/components/Layout.tsx:143:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"143","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[i.jsx("p",{className:"font-medium","data-matrix-id":"src/components/Layout.tsx:144:22","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"144","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:f.name}),!j&&i.jsx("p",{className:"text-xs text-muted-foreground/70 group-hover:text-muted-foreground transition-colors","data-matrix-id":"src/components/Layout.tsx:146:24","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"146","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%2F70%20group-hover%3Atext-muted-foreground%20transition-colors%22%7D",children:f.description})]}),j&&i.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","data-matrix-id":"src/components/Layout.tsx:152:22","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"152","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20bg-primary-foreground%20rounded-full%22%7D"})]},f.name)})})]})}),i.jsx("nav",{className:ne("fixed top-0 left-0 h-full w-80 glass-card border-r border-border/50 custom-scrollbar transition-all duration-300 z-50 lg:hidden",{"translate-x-0":p&&x,"-translate-x-full":p&&!x}),"data-matrix-id":"src/components/Layout.tsx:162:8","data-matrix-name":"nav","data-component-path":"src/components/Layout.tsx","data-component-line":"162","data-component-file":"Layout.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:i.jsxs("div",{className:"p-6","data-matrix-id":"src/components/Layout.tsx:169:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"169","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/components/Layout.tsx:171:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"171","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[i.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"h-10 w-auto","data-matrix-id":"src/components/Layout.tsx:172:14","data-matrix-name":"img","data-component-path":"src/components/Layout.tsx","data-component-line":"172","data-component-file":"Layout.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%2Fimages%2Flogo.png%22%2C%22alt%22%3A%22SCHWARZENBERG.TECH%20Logo%22%2C%22className%22%3A%22h-10%20w-auto%22%7D"}),i.jsx("button",{onClick:()=>h(!1),className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Close menu","data-matrix-id":"src/components/Layout.tsx:173:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"173","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22interactive%20p-2%20rounded-lg%20text-muted-foreground%20hover%3Atext-foreground%20hover%3Abg-accent%2F50%20focus%3Aoutline-none%20focus%3Aring-2%20focus%3Aring-primary%2F20%20transition-all%20duration-200%20min-h-%5B44px%5D%20min-w-%5B44px%5D%20flex%20items-center%20justify-center%22%7D",children:i.jsx(Yo,{className:"h-5 w-5","data-matrix-id":"src/components/Layout.tsx:178:16","data-matrix-name":"X","data-component-path":"src/components/Layout.tsx","data-component-line":"178","data-component-file":"Layout.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"})})]}),i.jsx("div",{className:"mb-6 p-4 rounded-lg bg-card/50 border border-border/50","data-matrix-id":"src/components/Layout.tsx:183:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"183","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-6%20p-4%20rounded-lg%20bg-card%2F50%20border%20border-border%2F50%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/components/Layout.tsx:184:14","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"184","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"p-2 rounded-full bg-primary/10","data-matrix-id":"src/components/Layout.tsx:185:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"185","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-2%20rounded-full%20bg-primary%2F10%22%7D",children:i.jsx(zi,{className:"h-5 w-5 text-primary","data-matrix-id":"src/components/Layout.tsx:186:18","data-matrix-name":"User","data-component-path":"src/components/Layout.tsx","data-component-line":"186","data-component-file":"Layout.tsx","data-component-name":"User","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-primary%22%7D"})}),i.jsxs("div",{"data-matrix-id":"src/components/Layout.tsx:188:16","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"188","data-component-file":"Layout.tsx","data-component-name":"div",children:[i.jsx("p",{className:"text-sm font-medium text-foreground","data-matrix-id":"src/components/Layout.tsx:189:18","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"189","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:a==null?void 0:a.full_name}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/components/Layout.tsx:192:18","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"192","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:(a==null?void 0:a.role)==="super_admin"?"Administrator":"Consultant"})]})]})}),i.jsx("div",{className:"space-y-2","data-matrix-id":"src/components/Layout.tsx:199:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"199","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:g.map(f=>{const C=f.icon,j=y(f.href);return i.jsxs(Hd,{to:f.href,onClick:()=>h(!1),className:ne("group flex items-center px-4 py-4 text-sm font-medium rounded-xl transition-all duration-200 interactive min-h-[52px]",{"bg-primary text-primary-foreground shadow-lg shadow-primary/25":j,"text-muted-foreground hover:text-foreground hover:bg-accent/50":!j}),"data-matrix-id":"src/components/Layout.tsx:204:18","data-matrix-name":"Link","data-component-path":"src/components/Layout.tsx","data-component-line":"204","data-component-file":"Layout.tsx","data-component-name":"Link","data-component-content":"%7B%22to%22%3A%22%5BMemberExpression%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx(C,{className:ne("mr-4 h-6 w-6 transition-all duration-200",{"text-primary-foreground":j,"text-muted-foreground group-hover:text-foreground group-hover:scale-110":!j}),"data-matrix-id":"src/components/Layout.tsx:216:20","data-matrix-name":"Icon","data-component-path":"src/components/Layout.tsx","data-component-line":"216","data-component-file":"Layout.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D"}),i.jsxs("div",{className:"flex-1","data-matrix-id":"src/components/Layout.tsx:225:20","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"225","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[i.jsx("p",{className:"font-medium text-base","data-matrix-id":"src/components/Layout.tsx:226:22","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"226","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-base%22%7D",children:f.name}),i.jsx("p",{className:"text-xs text-muted-foreground/70 group-hover:text-muted-foreground transition-colors mt-0.5","data-matrix-id":"src/components/Layout.tsx:227:22","data-matrix-name":"p","data-component-path":"src/components/Layout.tsx","data-component-line":"227","data-component-file":"Layout.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%2F70%20group-hover%3Atext-muted-foreground%20transition-colors%20mt-0.5%22%7D",children:f.description})]}),j&&i.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full","data-matrix-id":"src/components/Layout.tsx:232:22","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"232","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-2%20h-2%20bg-primary-foreground%20rounded-full%22%7D"})]},f.name)})}),i.jsx("div",{className:"mt-8 pt-6 border-t border-border/50","data-matrix-id":"src/components/Layout.tsx:240:12","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"240","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-8%20pt-6%20border-t%20border-border%2F50%22%7D",children:i.jsxs("button",{onClick:()=>{h(!1),n()},className:"interactive w-full flex items-center px-4 py-4 text-sm font-medium rounded-xl text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200 min-h-[52px]","data-matrix-id":"src/components/Layout.tsx:241:14","data-matrix-name":"button","data-component-path":"src/components/Layout.tsx","data-component-line":"241","data-component-file":"Layout.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22interactive%20w-full%20flex%20items-center%20px-4%20py-4%20text-sm%20font-medium%20rounded-xl%20text-muted-foreground%20hover%3Atext-foreground%20hover%3Abg-accent%2F50%20transition-all%20duration-200%20min-h-%5B52px%5D%22%7D",children:[i.jsx(iu,{className:"mr-4 h-6 w-6","data-matrix-id":"src/components/Layout.tsx:248:16","data-matrix-name":"LogOut","data-component-path":"src/components/Layout.tsx","data-component-line":"248","data-component-file":"Layout.tsx","data-component-name":"LogOut","data-component-content":"%7B%22className%22%3A%22mr-4%20h-6%20w-6%22%7D"}),i.jsx("span",{className:"text-base","data-matrix-id":"src/components/Layout.tsx:249:16","data-matrix-name":"span","data-component-path":"src/components/Layout.tsx","data-component-line":"249","data-component-file":"Layout.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-base%22%7D",children:"Sign Out"})]})})]})}),i.jsx("main",{className:"flex-1 overflow-auto custom-scrollbar","data-matrix-id":"src/components/Layout.tsx:256:8","data-matrix-name":"main","data-component-path":"src/components/Layout.tsx","data-component-line":"256","data-component-file":"Layout.tsx","data-component-name":"main","data-component-content":"%7B%22className%22%3A%22flex-1%20overflow-auto%20custom-scrollbar%22%7D",children:i.jsx("div",{className:"p-4 sm:p-6 lg:p-8","data-matrix-id":"src/components/Layout.tsx:257:10","data-matrix-name":"div","data-component-path":"src/components/Layout.tsx","data-component-line":"257","data-component-file":"Layout.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%20sm%3Ap-6%20lg%3Ap-8%22%7D",children:o})})]})]})}function le({className:o,variant:a="primary",size:n="md",loading:r=!1,disabled:c,children:l,icon:p,iconPosition:x="left",...h}){return i.jsxs("button",{className:ne("modern-button interactive group relative overflow-hidden",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-xl active:shadow-md":a==="primary","variant-secondary bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border shadow-sm hover:shadow-md":a==="secondary","bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-lg hover:shadow-xl active:shadow-md":a==="danger","variant-success bg-success text-white hover:bg-success/90 shadow-lg hover:shadow-xl active:shadow-md":a==="success","hover:bg-accent hover:text-accent-foreground border-2 border-transparent hover:border-accent":a==="ghost","border-2 border-border bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md":a==="outline","h-9 px-4 text-xs gap-1.5":n==="sm","h-12 px-8 text-sm gap-2.5":n==="md","h-14 px-10 text-base gap-3":n==="lg","opacity-50 cursor-not-allowed":c||r},o),disabled:c||r,...h,"data-matrix-id":"src/components/ui/Button.tsx:24:4","data-matrix-name":"button","data-component-path":"src/components/ui/Button.tsx","data-component-line":"24","data-component-file":"Button.tsx","data-component-name":"button","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:[i.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/10 to-transparent","data-matrix-id":"src/components/ui/Button.tsx:48:6","data-matrix-name":"div","data-component-path":"src/components/ui/Button.tsx","data-component-line":"48","data-component-file":"Button.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20-translate-x-full%20group-hover%3Atranslate-x-full%20transition-transform%20duration-1000%20bg-gradient-to-r%20from-transparent%20via-white%2F10%20to-transparent%22%7D"}),r&&i.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current","data-matrix-id":"src/components/ui/Button.tsx:51:8","data-matrix-name":"div","data-component-path":"src/components/ui/Button.tsx","data-component-line":"51","data-component-file":"Button.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mr-2%20h-4%20w-4%20animate-spin%20rounded-full%20border-2%20border-transparent%20border-t-current%22%7D"}),!r&&p&&x==="left"&&i.jsx("span",{className:"inline-flex","data-matrix-id":"src/components/ui/Button.tsx:55:8","data-matrix-name":"span","data-component-path":"src/components/ui/Button.tsx","data-component-line":"55","data-component-file":"Button.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%22%7D",children:p}),l,!r&&p&&x==="right"&&i.jsx("span",{className:"inline-flex","data-matrix-id":"src/components/ui/Button.tsx:61:8","data-matrix-name":"span","data-component-path":"src/components/ui/Button.tsx","data-component-line":"61","data-component-file":"Button.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%22%7D",children:p})]})}function Te({className:o,label:a,error:n,helperText:r,id:c,variant:l="floating",success:p=!1,icon:x,...h}){const g=c||`input-${Math.random().toString(36).substring(7)}`;return l==="floating"&&a?i.jsxs("div",{className:"floating-label-group space-y-1","data-matrix-id":"src/components/ui/Input.tsx:28:6","data-matrix-name":"div","data-component-path":"src/components/ui/Input.tsx","data-component-line":"28","data-component-file":"Input.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22floating-label-group%20space-y-1%22%7D",children:[i.jsxs("div",{className:"relative","data-matrix-id":"src/components/ui/Input.tsx:29:8","data-matrix-name":"div","data-component-path":"src/components/ui/Input.tsx","data-component-line":"29","data-component-file":"Input.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x&&i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground z-20 flex items-center justify-center w-5 h-5","data-matrix-id":"src/components/ui/Input.tsx:31:12","data-matrix-name":"div","data-component-path":"src/components/ui/Input.tsx","data-component-line":"31","data-component-file":"Input.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-muted-foreground%20z-20%20flex%20items-center%20justify-center%20w-5%20h-5%22%7D",children:x}),i.jsx("input",{id:g,className:ne("modern-input floating-input peer text-input-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":p,"focus:ring-primary/10 focus:border-primary":!n&&!p,"pl-10":x},o),placeholder:" ",...h,"data-matrix-id":"src/components/ui/Input.tsx:35:10","data-matrix-name":"input","data-component-path":"src/components/ui/Input.tsx","data-component-line":"35","data-component-file":"Input.tsx","data-component-name":"input","data-component-content":"%7B%22id%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22placeholder%22%3A%22%20%22%2C%22...spread%22%3Atrue%7D"}),i.jsx("label",{htmlFor:g,className:ne("floating-label",{"text-destructive":n,"text-success":p,"peer-focus:text-primary":!n&&!p,"left-10":x}),"data-matrix-id":"src/components/ui/Input.tsx:50:10","data-matrix-name":"label","data-component-path":"src/components/ui/Input.tsx","data-component-line":"50","data-component-file":"Input.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:a})]}),n&&i.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200","data-matrix-id":"src/components/ui/Input.tsx:66:10","data-matrix-name":"p","data-component-path":"src/components/ui/Input.tsx","data-component-line":"66","data-component-file":"Input.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20mt-1%20animate-in%20fade-in%20duration-200%22%7D",children:n}),r&&!n&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ui/Input.tsx:71:10","data-matrix-name":"p","data-component-path":"src/components/ui/Input.tsx","data-component-line":"71","data-component-file":"Input.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:r}),p&&i.jsx("p",{className:"text-sm text-success mt-1 success-pulse","data-matrix-id":"src/components/ui/Input.tsx:76:10","data-matrix-name":"p","data-component-path":"src/components/ui/Input.tsx","data-component-line":"76","data-component-file":"Input.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-success%20mt-1%20success-pulse%22%7D",children:" Looks good!"})]}):i.jsxs("div",{className:"space-y-1","data-matrix-id":"src/components/ui/Input.tsx:85:4","data-matrix-name":"div","data-component-path":"src/components/ui/Input.tsx","data-component-line":"85","data-component-file":"Input.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",children:[a&&i.jsx("label",{htmlFor:g,className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/components/ui/Input.tsx:87:8","data-matrix-name":"label","data-component-path":"src/components/ui/Input.tsx","data-component-line":"87","data-component-file":"Input.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:a}),i.jsxs("div",{className:"relative","data-matrix-id":"src/components/ui/Input.tsx:94:6","data-matrix-name":"div","data-component-path":"src/components/ui/Input.tsx","data-component-line":"94","data-component-file":"Input.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[x&&i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground z-20 flex items-center justify-center w-5 h-5","data-matrix-id":"src/components/ui/Input.tsx:96:10","data-matrix-name":"div","data-component-path":"src/components/ui/Input.tsx","data-component-line":"96","data-component-file":"Input.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20left-3%20top-1%2F2%20transform%20-translate-y-1%2F2%20text-muted-foreground%20z-20%20flex%20items-center%20justify-center%20w-5%20h-5%22%7D",children:x}),i.jsx("input",{id:g,className:ne("modern-input text-input-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":p,"pl-10":x},o),...h,"data-matrix-id":"src/components/ui/Input.tsx:100:8","data-matrix-name":"input","data-component-path":"src/components/ui/Input.tsx","data-component-line":"100","data-component-file":"Input.tsx","data-component-name":"input","data-component-content":"%7B%22id%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D"})]}),n&&i.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200","data-matrix-id":"src/components/ui/Input.tsx:115:8","data-matrix-name":"p","data-component-path":"src/components/ui/Input.tsx","data-component-line":"115","data-component-file":"Input.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20mt-1%20animate-in%20fade-in%20duration-200%22%7D",children:n}),r&&!n&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ui/Input.tsx:120:8","data-matrix-name":"p","data-component-path":"src/components/ui/Input.tsx","data-component-line":"120","data-component-file":"Input.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:r}),p&&i.jsx("p",{className:"text-sm text-success mt-1 success-pulse","data-matrix-id":"src/components/ui/Input.tsx:125:8","data-matrix-name":"p","data-component-path":"src/components/ui/Input.tsx","data-component-line":"125","data-component-file":"Input.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-success%20mt-1%20success-pulse%22%7D",children:" Looks good!"})]})}function _y(){const[o,a]=_.useState(""),[n,r]=_.useState(""),[c,l]=_.useState(!1),[p,x]=_.useState(""),{signIn:h}=Ra(),g=async y=>{if(y.preventDefault(),!o.trim()||!n){x("Please enter both email and password");return}l(!0),x("");try{await h(o.trim(),n)}catch(f){console.error("Login error:",f),x(f.message||"Login failed. Please check your credentials and try again.")}finally{l(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8","data-matrix-id":"src/pages/LoginPage.tsx:38:4","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"38","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20bg-gradient-to-br%20from-blue-50%20via-indigo-50%20to-purple-50%20flex%20items-center%20justify-center%20py-12%20px-4%20sm%3Apx-6%20lg%3Apx-8%22%7D",children:[i.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`},"data-matrix-id":"src/pages/LoginPage.tsx:40:6","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"40","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-0%20opacity-30%22%2C%22style%22%3A%7B%22backgroundImage%22%3A%22%5BTemplateLiteral%5D%22%7D%7D"}),i.jsxs("div",{className:"relative max-w-md w-full space-y-8","data-matrix-id":"src/pages/LoginPage.tsx:44:6","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"44","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%20max-w-md%20w-full%20space-y-8%22%7D",children:[i.jsxs("div",{className:"modern-card glass-card p-8 space-y-6","data-matrix-id":"src/pages/LoginPage.tsx:46:8","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"46","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20p-8%20space-y-6%22%7D",children:[i.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/LoginPage.tsx:48:10","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"48","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[i.jsx("div",{className:"flex justify-center mb-6","data-matrix-id":"src/pages/LoginPage.tsx:49:12","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"49","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-center%20mb-6%22%7D",children:i.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"company-logo company-logo-login","data-matrix-id":"src/pages/LoginPage.tsx:50:14","data-matrix-name":"img","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"50","data-component-file":"LoginPage.tsx","data-component-name":"img","data-component-content":"%7B%22src%22%3A%22%2Fimages%2Flogo.png%22%2C%22alt%22%3A%22SCHWARZENBERG.TECH%20Logo%22%2C%22className%22%3A%22company-logo%20company-logo-login%22%7D"})}),i.jsx("h2",{className:"text-3xl font-bold text-foreground tracking-tight mb-3","data-matrix-id":"src/pages/LoginPage.tsx:52:12","data-matrix-name":"h2","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"52","data-component-file":"LoginPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20tracking-tight%20mb-3%22%7D",children:"Welcome Back"}),i.jsx("p",{className:"text-base text-muted-foreground font-medium","data-matrix-id":"src/pages/LoginPage.tsx:55:12","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"55","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-base%20text-muted-foreground%20font-medium%22%7D",children:"Sign in to manage your timesheets"})]}),i.jsxs("form",{className:"space-y-6",onSubmit:g,"data-matrix-id":"src/pages/LoginPage.tsx:61:10","data-matrix-name":"form","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"61","data-component-file":"LoginPage.tsx","data-component-name":"form","data-component-content":"%7B%22className%22%3A%22space-y-6%22%2C%22onSubmit%22%3A%22%5BIdentifier%5D%22%7D",children:[p&&i.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-4 animate-in fade-in duration-300","data-matrix-id":"src/pages/LoginPage.tsx:63:14","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"63","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-destructive%2F10%20border%20border-destructive%2F20%20rounded-xl%20p-4%20animate-in%20fade-in%20duration-300%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/pages/LoginPage.tsx:64:16","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"64","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[i.jsx(Jo,{className:"h-5 w-5 text-destructive flex-shrink-0","data-matrix-id":"src/pages/LoginPage.tsx:65:18","data-matrix-name":"AlertCircle","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"65","data-component-file":"LoginPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-destructive%20flex-shrink-0%22%7D"}),i.jsx("p",{className:"text-sm text-destructive font-medium","data-matrix-id":"src/pages/LoginPage.tsx:66:18","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"66","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20font-medium%22%7D",children:p})]})}),i.jsxs("div",{className:"space-y-6","data-matrix-id":"src/pages/LoginPage.tsx:71:12","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"71","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:[i.jsx(Te,{label:"Email address",type:"email",value:o,onChange:y=>{a(y.target.value),x("")},placeholder:" ",required:!0,autoComplete:"email",variant:"floating",className:"premium-focus",icon:i.jsx(hy,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/LoginPage.tsx:85:22","data-matrix-name":"Mail","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"85","data-component-file":"LoginPage.tsx","data-component-name":"Mail","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"}),"data-matrix-id":"src/pages/LoginPage.tsx:72:14","data-matrix-name":"Input","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"72","data-component-file":"LoginPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Email%20address%22%2C%22type%22%3A%22email%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%20%22%2C%22required%22%3Atrue%2C%22autoComplete%22%3A%22email%22%2C%22variant%22%3A%22floating%22%2C%22className%22%3A%22premium-focus%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Te,{label:"Password",type:"password",value:n,onChange:y=>{r(y.target.value),x("")},placeholder:" ",required:!0,autoComplete:"current-password",variant:"floating",className:"premium-focus",icon:i.jsx(xy,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/LoginPage.tsx:101:22","data-matrix-name":"Lock","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"101","data-component-file":"LoginPage.tsx","data-component-name":"Lock","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"}),"data-matrix-id":"src/pages/LoginPage.tsx:88:14","data-matrix-name":"Input","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"88","data-component-file":"LoginPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Password%22%2C%22type%22%3A%22password%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%20%22%2C%22required%22%3Atrue%2C%22autoComplete%22%3A%22current-password%22%2C%22variant%22%3A%22floating%22%2C%22className%22%3A%22premium-focus%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D"})]}),i.jsx("div",{"data-matrix-id":"src/pages/LoginPage.tsx:105:12","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"105","data-component-file":"LoginPage.tsx","data-component-name":"div",children:i.jsx(le,{type:"submit",className:"w-full",size:"lg",loading:c,variant:"primary","data-matrix-id":"src/pages/LoginPage.tsx:106:14","data-matrix-name":"Button","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"106","data-component-file":"LoginPage.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22className%22%3A%22w-full%22%2C%22size%22%3A%22lg%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%2C%22variant%22%3A%22primary%22%7D",children:c?"Signing in...":"Sign in"})}),i.jsx("div",{className:"bg-info/10 border border-info/20 rounded-lg p-4","data-matrix-id":"src/pages/LoginPage.tsx:118:12","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"118","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-info%2F10%20border%20border-info%2F20%20rounded-lg%20p-4%22%7D",children:i.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/LoginPage.tsx:119:14","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"119","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[i.jsx("p",{className:"text-xs text-info font-medium mb-1","data-matrix-id":"src/pages/LoginPage.tsx:120:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"120","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-info%20font-medium%20mb-1%22%7D",children:"Test Credentials"}),i.jsx("p",{className:"text-xs font-semibold mb-1","data-matrix-id":"src/pages/LoginPage.tsx:121:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"121","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20font-semibold%20mb-1%22%7D",children:"Admin User:"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/LoginPage.tsx:122:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"122","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Email: admin@timesheet.com"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2","data-matrix-id":"src/pages/LoginPage.tsx:123:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"123","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mb-2%22%7D",children:"Password: Admin123!"}),i.jsx("p",{className:"text-xs font-semibold mb-1","data-matrix-id":"src/pages/LoginPage.tsx:124:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"124","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20font-semibold%20mb-1%22%7D",children:"Consultant User:"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/LoginPage.tsx:125:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"125","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Email: consultant@timesheet.com"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/LoginPage.tsx:126:16","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"126","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Password: Consultant123!"})]})})]})]}),i.jsx("div",{className:"text-center","data-matrix-id":"src/pages/LoginPage.tsx:133:8","data-matrix-name":"div","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"133","data-component-file":"LoginPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/LoginPage.tsx:134:10","data-matrix-name":"p","data-component-path":"src/pages/LoginPage.tsx","data-component-line":"134","data-component-file":"LoginPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"SCHWARZENBERG.TECH Timesheet System"})})]})]})}function Ze({className:o,label:a,error:n,helperText:r,options:c,id:l,variant:p="floating",success:x=!1,children:h,...g}){const y=l||`select-${Math.random().toString(36).substring(7)}`;return p==="floating"&&a?i.jsxs("div",{className:"floating-label-group space-y-1","data-matrix-id":"src/components/ui/Select.tsx:30:6","data-matrix-name":"div","data-component-path":"src/components/ui/Select.tsx","data-component-line":"30","data-component-file":"Select.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22floating-label-group%20space-y-1%22%7D",children:[i.jsxs("div",{className:"relative","data-matrix-id":"src/components/ui/Select.tsx:31:8","data-matrix-name":"div","data-component-path":"src/components/ui/Select.tsx","data-component-line":"31","data-component-file":"Select.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[i.jsxs("select",{id:y,className:ne("modern-select floating-input peer text-select-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":x,"focus:ring-primary/10 focus:border-primary":!n&&!x},o),...g,"data-matrix-id":"src/components/ui/Select.tsx:32:10","data-matrix-name":"select","data-component-path":"src/components/ui/Select.tsx","data-component-line":"32","data-component-file":"Select.tsx","data-component-name":"select","data-component-content":"%7B%22id%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:[i.jsx("option",{value:"",disabled:!0,hidden:!0,"data-matrix-id":"src/components/ui/Select.tsx:45:12","data-matrix-name":"option","data-component-path":"src/components/ui/Select.tsx","data-component-line":"45","data-component-file":"Select.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%22%2C%22disabled%22%3Atrue%2C%22hidden%22%3Atrue%7D"}),c?c.map(f=>i.jsx("option",{value:f.value,"data-matrix-id":"src/components/ui/Select.tsx:48:16","data-matrix-name":"option","data-component-path":"src/components/ui/Select.tsx","data-component-line":"48","data-component-file":"Select.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:f.label},f.value)):h]}),i.jsx("label",{htmlFor:y,className:ne("floating-label",{"text-destructive":n,"text-success":x,"peer-focus:text-primary":!n&&!x}),"data-matrix-id":"src/components/ui/Select.tsx:56:10","data-matrix-name":"label","data-component-path":"src/components/ui/Select.tsx","data-component-line":"56","data-component-file":"Select.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:a}),i.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none z-30","data-matrix-id":"src/components/ui/Select.tsx:69:10","data-matrix-name":"div","data-component-path":"src/components/ui/Select.tsx","data-component-line":"69","data-component-file":"Select.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-y-0%20right-3%20flex%20items-center%20pointer-events-none%20z-30%22%7D",children:i.jsx(cr,{className:"h-4 w-4 text-muted-foreground transition-transform peer-focus:rotate-180","data-matrix-id":"src/components/ui/Select.tsx:70:12","data-matrix-name":"ChevronDown","data-component-path":"src/components/ui/Select.tsx","data-component-line":"70","data-component-file":"Select.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%20transition-transform%20peer-focus%3Arotate-180%22%7D"})})]}),n&&i.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200","data-matrix-id":"src/components/ui/Select.tsx:74:10","data-matrix-name":"p","data-component-path":"src/components/ui/Select.tsx","data-component-line":"74","data-component-file":"Select.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20mt-1%20animate-in%20fade-in%20duration-200%22%7D",children:n}),r&&!n&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ui/Select.tsx:79:10","data-matrix-name":"p","data-component-path":"src/components/ui/Select.tsx","data-component-line":"79","data-component-file":"Select.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:r}),x&&i.jsx("p",{className:"text-sm text-success mt-1 success-pulse","data-matrix-id":"src/components/ui/Select.tsx:84:10","data-matrix-name":"p","data-component-path":"src/components/ui/Select.tsx","data-component-line":"84","data-component-file":"Select.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-success%20mt-1%20success-pulse%22%7D",children:" Looks good!"})]}):i.jsxs("div",{className:"space-y-1","data-matrix-id":"src/components/ui/Select.tsx:93:4","data-matrix-name":"div","data-component-path":"src/components/ui/Select.tsx","data-component-line":"93","data-component-file":"Select.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",children:[a&&i.jsx("label",{htmlFor:y,className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/components/ui/Select.tsx:95:8","data-matrix-name":"label","data-component-path":"src/components/ui/Select.tsx","data-component-line":"95","data-component-file":"Select.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:a}),i.jsxs("div",{className:"relative","data-matrix-id":"src/components/ui/Select.tsx:102:6","data-matrix-name":"div","data-component-path":"src/components/ui/Select.tsx","data-component-line":"102","data-component-file":"Select.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[i.jsx("select",{id:y,className:ne("modern-select text-select-value appearance-none",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":x},o),...g,"data-matrix-id":"src/components/ui/Select.tsx:103:8","data-matrix-name":"select","data-component-path":"src/components/ui/Select.tsx","data-component-line":"103","data-component-file":"Select.tsx","data-component-name":"select","data-component-content":"%7B%22id%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22...spread%22%3Atrue%7D",children:c?c.map(f=>i.jsx("option",{value:f.value,"data-matrix-id":"src/components/ui/Select.tsx:117:14","data-matrix-name":"option","data-component-path":"src/components/ui/Select.tsx","data-component-line":"117","data-component-file":"Select.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BMemberExpression%5D%22%7D",children:f.label},f.value)):h}),i.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none z-30","data-matrix-id":"src/components/ui/Select.tsx:125:8","data-matrix-name":"div","data-component-path":"src/components/ui/Select.tsx","data-component-line":"125","data-component-file":"Select.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20inset-y-0%20right-3%20flex%20items-center%20pointer-events-none%20z-30%22%7D",children:i.jsx(cr,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/components/ui/Select.tsx:126:10","data-matrix-name":"ChevronDown","data-component-path":"src/components/ui/Select.tsx","data-component-line":"126","data-component-file":"Select.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"})})]}),n&&i.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200","data-matrix-id":"src/components/ui/Select.tsx:130:8","data-matrix-name":"p","data-component-path":"src/components/ui/Select.tsx","data-component-line":"130","data-component-file":"Select.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20mt-1%20animate-in%20fade-in%20duration-200%22%7D",children:n}),r&&!n&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ui/Select.tsx:135:8","data-matrix-name":"p","data-component-path":"src/components/ui/Select.tsx","data-component-line":"135","data-component-file":"Select.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:r}),x&&i.jsx("p",{className:"text-sm text-success mt-1 success-pulse","data-matrix-id":"src/components/ui/Select.tsx:140:8","data-matrix-name":"p","data-component-path":"src/components/ui/Select.tsx","data-component-line":"140","data-component-file":"Select.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-success%20mt-1%20success-pulse%22%7D",children:" Looks good!"})]})}const Qs=[{value:1,label:"1 - Full day",description:"Full day"},{value:.875,label:"0.875 - 7/8 day",description:"7/8 day"},{value:.75,label:"0.75 - 3/4 day",description:"3/4 day"},{value:.625,label:"0.625 - 5/8 day",description:"5/8 day"},{value:.5,label:"0.5 - Half day",description:"Half day"},{value:.375,label:"0.375 - 3/8 day",description:"3/8 day"},{value:.25,label:"0.25 - Quarter day",description:"Quarter day"},{value:.125,label:"0.125 - 1/8 day",description:"1/8 day"}];function Dy({className:o,label:a,error:n,helperText:r,value:c,onChange:l,id:p,variant:x="floating",disabled:h=!1,...g}){const[y,f]=_.useState(!1),[C,j]=_.useState(c.toString()),[N,B]=_.useState(!1),P=_.useRef(null),F=_.useRef(null),H=p||`time-allocation-${Math.random().toString(36).substring(7)}`;_.useEffect(()=>{const E=Qs.some(U=>U.value===c);B(!E),j(c.toString())},[c]),_.useEffect(()=>{const E=U=>{P.current&&!P.current.contains(U.target)&&f(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const A=E=>{l(E),j(E.toString()),B(!1),f(!1)},R=E=>{const U=E.target.value;j(U);const Z=parseFloat(U);if(!isNaN(Z)&&Z>0&&Z<=1){l(Z);const ye=Qs.some(we=>we.value===Z);B(!ye)}},$=()=>{const E=parseFloat(C);isNaN(E)||E<=0||E>1?j(c.toString()):(j(E.toString()),l(E))},J=()=>{h||f(!y)},S=Qs.find(E=>E.value===c),I=N?`${c} (custom)`:(S==null?void 0:S.description)||c.toString();return x==="floating"&&a?i.jsxs("div",{className:"floating-label-group space-y-1",ref:P,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:111:6","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"111","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22floating-label-group%20space-y-1%22%7D",children:[i.jsxs("div",{className:"relative","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:112:8","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"112","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[i.jsxs("div",{className:ne("modern-input floating-input peer cursor-pointer flex items-center justify-between",{"border-destructive focus-within:border-destructive focus-within:ring-destructive/20":n,"focus-within:ring-primary/10 focus-within:border-primary":!n,"opacity-50 cursor-not-allowed":h},o),onClick:J,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:114:10","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"114","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%7D",children:[i.jsx("div",{className:"flex-1 text-left","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:126:12","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"126","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20text-left%22%7D",children:N?i.jsx("input",{ref:F,type:"number",value:C,onChange:R,onBlur:$,onClick:E=>E.stopPropagation(),className:"bg-transparent border-none outline-none w-full text-input-value",min:"0.125",max:"1",step:"0.125",disabled:h,placeholder:" ","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:128:16","data-matrix-name":"input","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"128","data-component-file":"TimeAllocationInput.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22onBlur%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-transparent%20border-none%20outline-none%20w-full%20text-input-value%22%2C%22min%22%3A%220.125%22%2C%22max%22%3A%221%22%2C%22step%22%3A%220.125%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22placeholder%22%3A%22%20%22%7D"}):i.jsx("span",{className:"text-input-value","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:143:16","data-matrix-name":"span","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"143","data-component-file":"TimeAllocationInput.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-input-value%22%7D",children:I})}),i.jsx(cr,{className:ne("h-4 w-4 text-muted-foreground transition-transform pointer-events-none",{"rotate-180":y}),"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:146:12","data-matrix-name":"ChevronDown","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"146","data-component-file":"TimeAllocationInput.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D"})]}),i.jsx("label",{htmlFor:H,className:ne("floating-label",{"text-destructive":n,"peer-focus-within:text-primary":!n}),"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:154:10","data-matrix-name":"label","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"154","data-component-file":"TimeAllocationInput.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:a}),y&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-card border border-border rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto custom-scrollbar","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:169:12","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"169","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-full%20left-0%20right-0%20mt-2%20bg-card%20border%20border-border%20rounded-xl%20shadow-lg%20z-50%20max-h-60%20overflow-y-auto%20custom-scrollbar%22%7D",children:i.jsxs("div",{className:"p-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:170:14","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"170","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-2%22%7D",children:[i.jsxs("div",{className:"mb-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:172:16","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"172","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-2%22%7D",children:[i.jsx("div",{className:"px-3 py-1 text-xs font-medium text-muted-foreground uppercase tracking-wide","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:173:18","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"173","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-1%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wide%22%7D",children:"Quick Select"}),Qs.map(E=>i.jsxs("button",{type:"button",onClick:()=>A(E.value),className:ne("w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors flex items-center justify-between group",{"bg-primary text-primary-foreground":c===E.value&&!N}),"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:177:20","data-matrix-name":"button","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"177","data-component-file":"TimeAllocationInput.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx("span",{"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:188:22","data-matrix-name":"span","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"188","data-component-file":"TimeAllocationInput.tsx","data-component-name":"span",children:E.label}),c===E.value&&!N&&i.jsx(ir,{className:"h-4 w-4","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:190:24","data-matrix-name":"Check","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"190","data-component-file":"TimeAllocationInput.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})]},E.value))]}),i.jsxs("div",{className:"border-t border-border pt-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:197:16","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"197","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20pt-2%22%7D",children:[i.jsx("div",{className:"px-3 py-1 text-xs font-medium text-muted-foreground uppercase tracking-wide","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:198:18","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"198","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-1%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wide%22%7D",children:"Custom Value"}),i.jsxs("div",{className:"px-3 py-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:201:18","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"201","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-2%22%7D",children:[i.jsx("input",{type:"number",value:C,onChange:R,onBlur:$,className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:border-primary focus:outline-none",placeholder:"Enter custom value (0.125 - 1)",min:"0.125",max:"1",step:"0.125",disabled:h,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:202:20","data-matrix-name":"input","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"202","data-component-file":"TimeAllocationInput.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22onBlur%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-1%20text-sm%20border%20border-border%20rounded%20bg-background%20focus%3Aborder-primary%20focus%3Aoutline-none%22%2C%22placeholder%22%3A%22Enter%20custom%20value%20(0.125%20-%201)%22%2C%22min%22%3A%220.125%22%2C%22max%22%3A%221%22%2C%22step%22%3A%220.125%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:214:20","data-matrix-name":"p","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"214","data-component-file":"TimeAllocationInput.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mt-1%22%7D",children:"Enter a decimal value between 0.125 and 1"})]})]})]})})]}),n&&i.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:225:10","data-matrix-name":"p","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"225","data-component-file":"TimeAllocationInput.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20mt-1%20animate-in%20fade-in%20duration-200%22%7D",children:n}),r&&!n&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:230:10","data-matrix-name":"p","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"230","data-component-file":"TimeAllocationInput.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:r})]}):i.jsxs("div",{className:"space-y-1",ref:P,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:240:4","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"240","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-1%22%7D",children:[a&&i.jsx("label",{htmlFor:H,className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:242:8","data-matrix-name":"label","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"242","data-component-file":"TimeAllocationInput.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:a}),i.jsxs("div",{className:"relative","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:249:6","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"249","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[i.jsxs("div",{className:ne("modern-input cursor-pointer flex items-center justify-between",{"border-destructive focus-within:border-destructive focus-within:ring-destructive/20":n,"opacity-50 cursor-not-allowed":h},o),onClick:J,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:250:8","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"250","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%7D",children:[i.jsx("div",{className:"flex-1 text-left","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:261:10","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"261","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%20text-left%22%7D",children:N?i.jsx("input",{ref:F,type:"number",value:C,onChange:R,onBlur:$,onClick:E=>E.stopPropagation(),className:"bg-transparent border-none outline-none w-full",min:"0.125",max:"1",step:"0.125",disabled:h,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:263:14","data-matrix-name":"input","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"263","data-component-file":"TimeAllocationInput.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22onBlur%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22bg-transparent%20border-none%20outline-none%20w-full%22%2C%22min%22%3A%220.125%22%2C%22max%22%3A%221%22%2C%22step%22%3A%220.125%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D"}):i.jsx("span",{"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:277:14","data-matrix-name":"span","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"277","data-component-file":"TimeAllocationInput.tsx","data-component-name":"span",children:I})}),i.jsx(cr,{className:ne("h-4 w-4 text-muted-foreground transition-transform pointer-events-none",{"rotate-180":y}),"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:280:10","data-matrix-name":"ChevronDown","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"280","data-component-file":"TimeAllocationInput.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D"})]}),y&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-card border border-border rounded-xl shadow-lg z-50 max-h-60 overflow-y-auto custom-scrollbar","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:290:10","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"290","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22absolute%20top-full%20left-0%20right-0%20mt-2%20bg-card%20border%20border-border%20rounded-xl%20shadow-lg%20z-50%20max-h-60%20overflow-y-auto%20custom-scrollbar%22%7D",children:i.jsxs("div",{className:"p-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:291:12","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"291","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-2%22%7D",children:[i.jsxs("div",{className:"mb-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:293:14","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"293","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mb-2%22%7D",children:[i.jsx("div",{className:"px-3 py-1 text-xs font-medium text-muted-foreground uppercase tracking-wide","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:294:16","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"294","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-1%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wide%22%7D",children:"Quick Select"}),Qs.map(E=>i.jsxs("button",{type:"button",onClick:()=>A(E.value),className:ne("w-full text-left px-3 py-2 text-sm rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors flex items-center justify-between group",{"bg-primary text-primary-foreground":c===E.value&&!N}),"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:298:18","data-matrix-name":"button","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"298","data-component-file":"TimeAllocationInput.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx("span",{"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:309:20","data-matrix-name":"span","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"309","data-component-file":"TimeAllocationInput.tsx","data-component-name":"span",children:E.label}),c===E.value&&!N&&i.jsx(ir,{className:"h-4 w-4","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:311:22","data-matrix-name":"Check","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"311","data-component-file":"TimeAllocationInput.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})]},E.value))]}),i.jsxs("div",{className:"border-t border-border pt-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:318:14","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"318","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%20pt-2%22%7D",children:[i.jsx("div",{className:"px-3 py-1 text-xs font-medium text-muted-foreground uppercase tracking-wide","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:319:16","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"319","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-1%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wide%22%7D",children:"Custom Value"}),i.jsxs("div",{className:"px-3 py-2","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:322:16","data-matrix-name":"div","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"322","data-component-file":"TimeAllocationInput.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-2%22%7D",children:[i.jsx("input",{type:"number",value:C,onChange:R,onBlur:$,className:"w-full px-2 py-1 text-sm border border-border rounded bg-background focus:border-primary focus:outline-none",placeholder:"Enter custom value (0.125 - 1)",min:"0.125",max:"1",step:"0.125",disabled:h,"data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:323:18","data-matrix-name":"input","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"323","data-component-file":"TimeAllocationInput.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BIdentifier%5D%22%2C%22onBlur%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22w-full%20px-2%20py-1%20text-sm%20border%20border-border%20rounded%20bg-background%20focus%3Aborder-primary%20focus%3Aoutline-none%22%2C%22placeholder%22%3A%22Enter%20custom%20value%20(0.125%20-%201)%22%2C%22min%22%3A%220.125%22%2C%22max%22%3A%221%22%2C%22step%22%3A%220.125%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%7D"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:335:18","data-matrix-name":"p","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"335","data-component-file":"TimeAllocationInput.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mt-1%22%7D",children:"Enter a decimal value between 0.125 and 1"})]})]})]})})]}),n&&i.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:346:8","data-matrix-name":"p","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"346","data-component-file":"TimeAllocationInput.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20mt-1%20animate-in%20fade-in%20duration-200%22%7D",children:n}),r&&!n&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ui/TimeAllocationInput.tsx:351:8","data-matrix-name":"p","data-component-path":"src/components/ui/TimeAllocationInput.tsx","data-component-line":"351","data-component-file":"TimeAllocationInput.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:r})]})}function Gt(o){const a=Object.prototype.toString.call(o);return o instanceof Date||typeof o=="object"&&a==="[object Date]"?new o.constructor(+o):typeof o=="number"||a==="[object Number]"||typeof o=="string"||a==="[object String]"?new Date(o):new Date(NaN)}function vn(o,a){return o instanceof Date?new o.constructor(a):new Date(a)}function Ro(o,a){const n=Gt(o);return isNaN(a)?vn(o,NaN):(a&&n.setDate(n.getDate()+a),n)}const hx=6048e5,By=864e5,fx=6e4,gx=36e5;let ky={};function Xi(){return ky}function Xo(o,a){var x,h,g,y;const n=Xi(),r=(a==null?void 0:a.weekStartsOn)??((h=(x=a==null?void 0:a.locale)==null?void 0:x.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??0,c=Gt(o),l=c.getDay(),p=(l<r?7:0)+l-r;return c.setDate(c.getDate()-p),c.setHours(0,0,0,0),c}function Vi(o){return Xo(o,{weekStartsOn:1})}function vx(o){const a=Gt(o),n=a.getFullYear(),r=vn(o,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const c=Vi(r),l=vn(o,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const p=Vi(l);return a.getTime()>=c.getTime()?n+1:a.getTime()>=p.getTime()?n:n-1}function cu(o){const a=Gt(o);return a.setHours(0,0,0,0),a}function du(o){const a=Gt(o),n=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return n.setUTCFullYear(a.getFullYear()),+o-+n}function Ty(o,a){const n=cu(o),r=cu(a),c=+n-du(n),l=+r-du(r);return Math.round((c-l)/By)}function Ey(o){const a=vx(o),n=vn(o,0);return n.setFullYear(a,0,4),n.setHours(0,0,0,0),Vi(n)}function My(o){return o instanceof Date||typeof o=="object"&&Object.prototype.toString.call(o)==="[object Date]"}function Ry(o){if(!My(o)&&typeof o!="number")return!1;const a=Gt(o);return!isNaN(Number(a))}function Iy(o){const a=Gt(o),n=vn(o,0);return n.setFullYear(a.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Ly={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Oy=(o,a,n)=>{let r;const c=Ly[o];return typeof c=="string"?r=c:a===1?r=c.one:r=c.other.replace("{{count}}",a.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jd(o){return(a={})=>{const n=a.width?String(a.width):o.defaultWidth;return o.formats[n]||o.formats[o.defaultWidth]}}const Fy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Uy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Hy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$y={date:Jd({formats:Fy,defaultWidth:"full"}),time:Jd({formats:Uy,defaultWidth:"full"}),dateTime:Jd({formats:Hy,defaultWidth:"full"})},zy={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Vy=(o,a,n,r)=>zy[o];function Ks(o){return(a,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let c;if(r==="formatting"&&o.formattingValues){const p=o.defaultFormattingWidth||o.defaultWidth,x=n!=null&&n.width?String(n.width):p;c=o.formattingValues[x]||o.formattingValues[p]}else{const p=o.defaultWidth,x=n!=null&&n.width?String(n.width):o.defaultWidth;c=o.values[x]||o.values[p]}const l=o.argumentCallback?o.argumentCallback(a):a;return c[l]}}const Wy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},qy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ky={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Gy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yy=(o,a)=>{const n=Number(o),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Xy={ordinalNumber:Yy,era:Ks({values:Wy,defaultWidth:"wide"}),quarter:Ks({values:qy,defaultWidth:"wide",argumentCallback:o=>o-1}),month:Ks({values:Qy,defaultWidth:"wide"}),day:Ks({values:Ky,defaultWidth:"wide"}),dayPeriod:Ks({values:Gy,defaultWidth:"wide",formattingValues:Jy,defaultFormattingWidth:"wide"})};function Gs(o){return(a,n={})=>{const r=n.width,c=r&&o.matchPatterns[r]||o.matchPatterns[o.defaultMatchWidth],l=a.match(c);if(!l)return null;const p=l[0],x=r&&o.parsePatterns[r]||o.parsePatterns[o.defaultParseWidth],h=Array.isArray(x)?e1(x,f=>f.test(p)):Zy(x,f=>f.test(p));let g;g=o.valueCallback?o.valueCallback(h):h,g=n.valueCallback?n.valueCallback(g):g;const y=a.slice(p.length);return{value:g,rest:y}}}function Zy(o,a){for(const n in o)if(Object.prototype.hasOwnProperty.call(o,n)&&a(o[n]))return n}function e1(o,a){for(let n=0;n<o.length;n++)if(a(o[n]))return n}function t1(o){return(a,n={})=>{const r=a.match(o.matchPattern);if(!r)return null;const c=r[0],l=a.match(o.parsePattern);if(!l)return null;let p=o.valueCallback?o.valueCallback(l[0]):l[0];p=n.valueCallback?n.valueCallback(p):p;const x=a.slice(c.length);return{value:p,rest:x}}}const a1=/^(\d+)(th|st|nd|rd)?/i,n1=/\d+/i,o1={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s1={any:[/^b/i,/^(a|c)/i]},r1={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},i1={any:[/1/i,/2/i,/3/i,/4/i]},c1={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},d1={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},l1={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m1={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},p1={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},u1={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},x1={ordinalNumber:t1({matchPattern:a1,parsePattern:n1,valueCallback:o=>parseInt(o,10)}),era:Gs({matchPatterns:o1,defaultMatchWidth:"wide",parsePatterns:s1,defaultParseWidth:"any"}),quarter:Gs({matchPatterns:r1,defaultMatchWidth:"wide",parsePatterns:i1,defaultParseWidth:"any",valueCallback:o=>o+1}),month:Gs({matchPatterns:c1,defaultMatchWidth:"wide",parsePatterns:d1,defaultParseWidth:"any"}),day:Gs({matchPatterns:l1,defaultMatchWidth:"wide",parsePatterns:m1,defaultParseWidth:"any"}),dayPeriod:Gs({matchPatterns:p1,defaultMatchWidth:"any",parsePatterns:u1,defaultParseWidth:"any"})},h1={code:"en-US",formatDistance:Oy,formatLong:$y,formatRelative:Vy,localize:Xy,match:x1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function f1(o){const a=Gt(o);return Ty(a,Iy(a))+1}function g1(o){const a=Gt(o),n=+Vi(a)-+Ey(a);return Math.round(n/hx)+1}function yx(o,a){var y,f,C,j;const n=Gt(o),r=n.getFullYear(),c=Xi(),l=(a==null?void 0:a.firstWeekContainsDate)??((f=(y=a==null?void 0:a.locale)==null?void 0:y.options)==null?void 0:f.firstWeekContainsDate)??c.firstWeekContainsDate??((j=(C=c.locale)==null?void 0:C.options)==null?void 0:j.firstWeekContainsDate)??1,p=vn(o,0);p.setFullYear(r+1,0,l),p.setHours(0,0,0,0);const x=Xo(p,a),h=vn(o,0);h.setFullYear(r,0,l),h.setHours(0,0,0,0);const g=Xo(h,a);return n.getTime()>=x.getTime()?r+1:n.getTime()>=g.getTime()?r:r-1}function v1(o,a){var x,h,g,y;const n=Xi(),r=(a==null?void 0:a.firstWeekContainsDate)??((h=(x=a==null?void 0:a.locale)==null?void 0:x.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,c=yx(o,a),l=vn(o,0);return l.setFullYear(c,0,r),l.setHours(0,0,0,0),Xo(l,a)}function y1(o,a){const n=Gt(o),r=+Xo(n,a)-+v1(n,a);return Math.round(r/hx)+1}function Fe(o,a){const n=o<0?"-":"",r=Math.abs(o).toString().padStart(a,"0");return n+r}const rn={y(o,a){const n=o.getFullYear(),r=n>0?n:1-n;return Fe(a==="yy"?r%100:r,a.length)},M(o,a){const n=o.getMonth();return a==="M"?String(n+1):Fe(n+1,2)},d(o,a){return Fe(o.getDate(),a.length)},a(o,a){const n=o.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(o,a){return Fe(o.getHours()%12||12,a.length)},H(o,a){return Fe(o.getHours(),a.length)},m(o,a){return Fe(o.getMinutes(),a.length)},s(o,a){return Fe(o.getSeconds(),a.length)},S(o,a){const n=a.length,r=o.getMilliseconds(),c=Math.trunc(r*Math.pow(10,n-3));return Fe(c,a.length)}},Io={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lu={G:function(o,a,n){const r=o.getFullYear()>0?1:0;switch(a){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(o,a,n){if(a==="yo"){const r=o.getFullYear(),c=r>0?r:1-r;return n.ordinalNumber(c,{unit:"year"})}return rn.y(o,a)},Y:function(o,a,n,r){const c=yx(o,r),l=c>0?c:1-c;if(a==="YY"){const p=l%100;return Fe(p,2)}return a==="Yo"?n.ordinalNumber(l,{unit:"year"}):Fe(l,a.length)},R:function(o,a){const n=vx(o);return Fe(n,a.length)},u:function(o,a){const n=o.getFullYear();return Fe(n,a.length)},Q:function(o,a,n){const r=Math.ceil((o.getMonth()+1)/3);switch(a){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(o,a,n){const r=Math.ceil((o.getMonth()+1)/3);switch(a){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(o,a,n){const r=o.getMonth();switch(a){case"M":case"MM":return rn.M(o,a);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(o,a,n){const r=o.getMonth();switch(a){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(o,a,n,r){const c=y1(o,r);return a==="wo"?n.ordinalNumber(c,{unit:"week"}):Fe(c,a.length)},I:function(o,a,n){const r=g1(o);return a==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,a.length)},d:function(o,a,n){return a==="do"?n.ordinalNumber(o.getDate(),{unit:"date"}):rn.d(o,a)},D:function(o,a,n){const r=f1(o);return a==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,a.length)},E:function(o,a,n){const r=o.getDay();switch(a){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(o,a,n,r){const c=o.getDay(),l=(c-r.weekStartsOn+8)%7||7;switch(a){case"e":return String(l);case"ee":return Fe(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(c,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(c,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(c,{width:"short",context:"formatting"});case"eeee":default:return n.day(c,{width:"wide",context:"formatting"})}},c:function(o,a,n,r){const c=o.getDay(),l=(c-r.weekStartsOn+8)%7||7;switch(a){case"c":return String(l);case"cc":return Fe(l,a.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(c,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(c,{width:"narrow",context:"standalone"});case"cccccc":return n.day(c,{width:"short",context:"standalone"});case"cccc":default:return n.day(c,{width:"wide",context:"standalone"})}},i:function(o,a,n){const r=o.getDay(),c=r===0?7:r;switch(a){case"i":return String(c);case"ii":return Fe(c,a.length);case"io":return n.ordinalNumber(c,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(o,a,n){const c=o.getHours()/12>=1?"pm":"am";switch(a){case"a":case"aa":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(c,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(c,{width:"wide",context:"formatting"})}},b:function(o,a,n){const r=o.getHours();let c;switch(r===12?c=Io.noon:r===0?c=Io.midnight:c=r/12>=1?"pm":"am",a){case"b":case"bb":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(c,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(c,{width:"wide",context:"formatting"})}},B:function(o,a,n){const r=o.getHours();let c;switch(r>=17?c=Io.evening:r>=12?c=Io.afternoon:r>=4?c=Io.morning:c=Io.night,a){case"B":case"BB":case"BBB":return n.dayPeriod(c,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(c,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(c,{width:"wide",context:"formatting"})}},h:function(o,a,n){if(a==="ho"){let r=o.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return rn.h(o,a)},H:function(o,a,n){return a==="Ho"?n.ordinalNumber(o.getHours(),{unit:"hour"}):rn.H(o,a)},K:function(o,a,n){const r=o.getHours()%12;return a==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,a.length)},k:function(o,a,n){let r=o.getHours();return r===0&&(r=24),a==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,a.length)},m:function(o,a,n){return a==="mo"?n.ordinalNumber(o.getMinutes(),{unit:"minute"}):rn.m(o,a)},s:function(o,a,n){return a==="so"?n.ordinalNumber(o.getSeconds(),{unit:"second"}):rn.s(o,a)},S:function(o,a){return rn.S(o,a)},X:function(o,a,n){const r=o.getTimezoneOffset();if(r===0)return"Z";switch(a){case"X":return pu(r);case"XXXX":case"XX":return $n(r);case"XXXXX":case"XXX":default:return $n(r,":")}},x:function(o,a,n){const r=o.getTimezoneOffset();switch(a){case"x":return pu(r);case"xxxx":case"xx":return $n(r);case"xxxxx":case"xxx":default:return $n(r,":")}},O:function(o,a,n){const r=o.getTimezoneOffset();switch(a){case"O":case"OO":case"OOO":return"GMT"+mu(r,":");case"OOOO":default:return"GMT"+$n(r,":")}},z:function(o,a,n){const r=o.getTimezoneOffset();switch(a){case"z":case"zz":case"zzz":return"GMT"+mu(r,":");case"zzzz":default:return"GMT"+$n(r,":")}},t:function(o,a,n){const r=Math.trunc(o.getTime()/1e3);return Fe(r,a.length)},T:function(o,a,n){const r=o.getTime();return Fe(r,a.length)}};function mu(o,a=""){const n=o>0?"-":"+",r=Math.abs(o),c=Math.trunc(r/60),l=r%60;return l===0?n+String(c):n+String(c)+a+Fe(l,2)}function pu(o,a){return o%60===0?(o>0?"-":"+")+Fe(Math.abs(o)/60,2):$n(o,a)}function $n(o,a=""){const n=o>0?"-":"+",r=Math.abs(o),c=Fe(Math.trunc(r/60),2),l=Fe(r%60,2);return n+c+a+l}const uu=(o,a)=>{switch(o){case"P":return a.date({width:"short"});case"PP":return a.date({width:"medium"});case"PPP":return a.date({width:"long"});case"PPPP":default:return a.date({width:"full"})}},Px=(o,a)=>{switch(o){case"p":return a.time({width:"short"});case"pp":return a.time({width:"medium"});case"ppp":return a.time({width:"long"});case"pppp":default:return a.time({width:"full"})}},P1=(o,a)=>{const n=o.match(/(P+)(p+)?/)||[],r=n[1],c=n[2];if(!c)return uu(o,a);let l;switch(r){case"P":l=a.dateTime({width:"short"});break;case"PP":l=a.dateTime({width:"medium"});break;case"PPP":l=a.dateTime({width:"long"});break;case"PPPP":default:l=a.dateTime({width:"full"});break}return l.replace("{{date}}",uu(r,a)).replace("{{time}}",Px(c,a))},A1={p:Px,P:P1},w1=/^D+$/,C1=/^Y+$/,b1=["D","DD","YY","YYYY"];function N1(o){return w1.test(o)}function j1(o){return C1.test(o)}function S1(o,a,n){const r=_1(o,a,n);if(console.warn(r),b1.includes(o))throw new RangeError(r)}function _1(o,a,n){const r=o[0]==="Y"?"years":"days of the month";return`Use \`${o.toLowerCase()}\` instead of \`${o}\` (in \`${a}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const D1=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,B1=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k1=/^'([^]*?)'?$/,T1=/''/g,E1=/[a-zA-Z]/;function je(o,a,n){var y,f,C,j;const r=Xi(),c=r.locale??h1,l=r.firstWeekContainsDate??((f=(y=r.locale)==null?void 0:y.options)==null?void 0:f.firstWeekContainsDate)??1,p=r.weekStartsOn??((j=(C=r.locale)==null?void 0:C.options)==null?void 0:j.weekStartsOn)??0,x=Gt(o);if(!Ry(x))throw new RangeError("Invalid time value");let h=a.match(B1).map(N=>{const B=N[0];if(B==="p"||B==="P"){const P=A1[B];return P(N,c.formatLong)}return N}).join("").match(D1).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const B=N[0];if(B==="'")return{isToken:!1,value:M1(N)};if(lu[B])return{isToken:!0,value:N};if(B.match(E1))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");return{isToken:!1,value:N}});c.localize.preprocessor&&(h=c.localize.preprocessor(x,h));const g={firstWeekContainsDate:l,weekStartsOn:p,locale:c};return h.map(N=>{if(!N.isToken)return N.value;const B=N.value;(j1(B)||N1(B))&&S1(B,a,String(o));const P=lu[B[0]];return P(x,B,c.localize,g)}).join("")}function M1(o){const a=o.match(k1);return a?a[1].replace(T1,"'"):o}function _t(o,a){const r=O1(o);let c;if(r.date){const h=F1(r.date,2);c=U1(h.restDateString,h.year)}if(!c||isNaN(c.getTime()))return new Date(NaN);const l=c.getTime();let p=0,x;if(r.time&&(p=H1(r.time),isNaN(p)))return new Date(NaN);if(r.timezone){if(x=$1(r.timezone),isNaN(x))return new Date(NaN)}else{const h=new Date(l+p),g=new Date(0);return g.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),g.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),g}return new Date(l+p+x)}const Ii={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},R1=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,I1=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,L1=/^([+-])(\d{2})(?::?(\d{2}))?$/;function O1(o){const a={},n=o.split(Ii.dateTimeDelimiter);let r;if(n.length>2)return a;if(/:/.test(n[0])?r=n[0]:(a.date=n[0],r=n[1],Ii.timeZoneDelimiter.test(a.date)&&(a.date=o.split(Ii.timeZoneDelimiter)[0],r=o.substr(a.date.length,o.length))),r){const c=Ii.timezone.exec(r);c?(a.time=r.replace(c[1],""),a.timezone=c[1]):a.time=r}return a}function F1(o,a){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),r=o.match(n);if(!r)return{year:NaN,restDateString:""};const c=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?c:l*100,restDateString:o.slice((r[1]||r[2]).length)}}function U1(o,a){if(a===null)return new Date(NaN);const n=o.match(R1);if(!n)return new Date(NaN);const r=!!n[4],c=Js(n[1]),l=Js(n[2])-1,p=Js(n[3]),x=Js(n[4]),h=Js(n[5])-1;if(r)return Q1(a,x,h)?z1(a,x,h):new Date(NaN);{const g=new Date(0);return!W1(a,l,p)||!q1(a,c)?new Date(NaN):(g.setUTCFullYear(a,l,Math.max(c,p)),g)}}function Js(o){return o?parseInt(o):1}function H1(o){const a=o.match(I1);if(!a)return NaN;const n=Yd(a[1]),r=Yd(a[2]),c=Yd(a[3]);return K1(n,r,c)?n*gx+r*fx+c*1e3:NaN}function Yd(o){return o&&parseFloat(o.replace(",","."))||0}function $1(o){if(o==="Z")return 0;const a=o.match(L1);if(!a)return 0;const n=a[1]==="+"?-1:1,r=parseInt(a[2]),c=a[3]&&parseInt(a[3])||0;return G1(r,c)?n*(r*gx+c*fx):NaN}function z1(o,a,n){const r=new Date(0);r.setUTCFullYear(o,0,4);const c=r.getUTCDay()||7,l=(a-1)*7+n+1-c;return r.setUTCDate(r.getUTCDate()+l),r}const V1=[31,null,31,30,31,30,31,31,30,31,30,31];function Ax(o){return o%400===0||o%4===0&&o%100!==0}function W1(o,a,n){return a>=0&&a<=11&&n>=1&&n<=(V1[a]||(Ax(o)?29:28))}function q1(o,a){return a>=1&&a<=(Ax(o)?366:365)}function Q1(o,a,n){return a>=1&&a<=53&&n>=0&&n<=6}function K1(o,a,n){return o===24?a===0&&n===0:n>=0&&n<60&&a>=0&&a<60&&o>=0&&o<25}function G1(o,a){return a>=0&&a<=59}function J1({isOpen:o,onClose:a,onSave:n,projects:r,date:c,editingProject:l,smartDefaults:p}){const[x,h]=_.useState({project_id:"",location:"remote",man_days:1,description:"",travel_chargeable:!1,office:"",city:"",country:""}),[g,y]=_.useState({});_.useEffect(()=>{h(l?{project_id:l.project_id,location:l.location,man_days:l.man_days,description:l.description||"",travel_chargeable:l.travel_chargeable,office:l.office||"",city:l.city||"",country:l.country||""}:{project_id:"",location:"remote",man_days:1,description:"",travel_chargeable:!1,office:"",city:"",country:""}),y({})},[l,o]);const f=(P,F)=>{h(H=>({...H,[P]:F})),g[P]&&y(H=>({...H,[P]:""}))},C=P=>{var H;const F=r.find(A=>A.id===P);if(F){const R=((H=p==null?void 0:p.projectDefaults)==null?void 0:H.get(P))||{location:F.billing_type==="fixed_price"?"remote":(p==null?void 0:p.lastLocation)||"onsite",travel_chargeable:F.travel_billable||!1,man_days:F.billing_type==="fixed_price"?1:.5};h($=>({...$,project_id:P,location:R.location,travel_chargeable:R.travel_chargeable,man_days:R.man_days})),g.project_id&&y($=>({...$,project_id:""}))}else f("project_id",P)},j=()=>{const P={};return x.project_id||(P.project_id="Please select a project"),x.man_days<=0&&(P.man_days="Man-days must be greater than 0"),y(P),Object.keys(P).length===0},N=()=>{j()&&n(x)},B=r.find(P=>P.id===x.project_id);return o?i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/components/ProjectModal.tsx:144:4","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"144","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:i.jsxs("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto","data-matrix-id":"src/components/ProjectModal.tsx:145:6","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"145","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-xl%20shadow-xl%20w-full%20max-w-2xl%20max-h-%5B90vh%5D%20overflow-y-auto%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border","data-matrix-id":"src/components/ProjectModal.tsx:146:8","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"146","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-6%20border-b%20border-border%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/components/ProjectModal.tsx:147:10","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"147","data-component-file":"ProjectModal.tsx","data-component-name":"div",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/components/ProjectModal.tsx:148:12","data-matrix-name":"h3","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"148","data-component-file":"ProjectModal.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:l?"Edit Project Entry":"Add Project Entry"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ProjectModal.tsx:151:12","data-matrix-name":"p","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"151","data-component-file":"ProjectModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:je(new Date(c),"EEEE, MMMM d, yyyy")})]}),i.jsx(le,{variant:"ghost",size:"sm",onClick:a,className:"min-h-[44px] min-w-[44px] flex items-center justify-center","data-matrix-id":"src/components/ProjectModal.tsx:155:10","data-matrix-name":"Button","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"155","data-component-file":"ProjectModal.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22min-h-%5B44px%5D%20min-w-%5B44px%5D%20flex%20items-center%20justify-center%22%7D",children:i.jsx(Yo,{className:"h-5 w-5","data-matrix-id":"src/components/ProjectModal.tsx:161:12","data-matrix-name":"X","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"161","data-component-file":"ProjectModal.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"})})]}),i.jsx("div",{className:"p-6 space-y-6","data-matrix-id":"src/components/ProjectModal.tsx:165:8","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"165","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-6%22%7D",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-matrix-id":"src/components/ProjectModal.tsx:166:10","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"166","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%22%7D",children:[i.jsxs("div",{className:"md:col-span-2","data-matrix-id":"src/components/ProjectModal.tsx:167:12","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"167","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:[i.jsx(Ze,{label:"Project",value:x.project_id,onChange:P=>C(P.target.value),error:g.project_id,variant:"floating",options:[{value:"",label:"Select a project..."},...((p==null?void 0:p.recentProjects)||[]).slice(0,3).map(P=>{const F=r.find(H=>H.id===P);return F?{value:F.id,label:` ${F.name} (${F.code})`}:null}).filter(Boolean),...r.filter(P=>!((p==null?void 0:p.recentProjects)||[]).includes(P.id)).map(P=>({value:P.id,label:`${P.name} (${P.code})`}))],"data-matrix-id":"src/components/ProjectModal.tsx:168:14","data-matrix-name":"Select","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"168","data-component-file":"ProjectModal.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Project%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2Cnull%2Cnull%5D%7D"}),(p==null?void 0:p.recentProjects)&&p.recentProjects.length>0&&i.jsx("div",{className:"mt-3","data-matrix-id":"src/components/ProjectModal.tsx:195:16","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"195","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-3%22%7D",children:i.jsxs("div",{className:"bg-muted/30 rounded-lg p-3","data-matrix-id":"src/components/ProjectModal.tsx:196:18","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"196","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-3%22%7D",children:[i.jsx("h4",{className:"text-sm font-medium text-foreground mb-2","data-matrix-id":"src/components/ProjectModal.tsx:197:20","data-matrix-name":"h4","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"197","data-component-file":"ProjectModal.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:"Recently Used Projects"}),i.jsx("div",{className:"flex flex-wrap gap-2","data-matrix-id":"src/components/ProjectModal.tsx:198:20","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"198","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-2%22%7D",children:p.recentProjects.slice(0,3).map(P=>{const F=r.find(H=>H.id===P);return F?i.jsxs("button",{type:"button",onClick:()=>C(P),className:"px-3 py-1 text-sm bg-primary/10 text-primary rounded hover:bg-primary/20 transition-colors","data-matrix-id":"src/components/ProjectModal.tsx:203:26","data-matrix-name":"button","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"203","data-component-file":"ProjectModal.tsx","data-component-name":"button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22px-3%20py-1%20text-sm%20bg-primary%2F10%20text-primary%20rounded%20hover%3Abg-primary%2F20%20transition-colors%22%7D",children:[F.name," (",F.code,")"]},P):null})})]})}),B&&i.jsx("div",{className:"md:col-span-2","data-matrix-id":"src/components/ProjectModal.tsx:218:16","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"218","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:i.jsxs("div",{className:"bg-muted/30 rounded-lg p-3","data-matrix-id":"src/components/ProjectModal.tsx:219:18","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"219","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-3%22%7D",children:[i.jsx("h4",{className:"text-sm font-medium text-foreground mb-2","data-matrix-id":"src/components/ProjectModal.tsx:220:20","data-matrix-name":"h4","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"220","data-component-file":"ProjectModal.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:"Project Details"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs","data-matrix-id":"src/components/ProjectModal.tsx:221:20","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"221","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-2%20gap-3%20text-xs%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/components/ProjectModal.tsx:222:22","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"222","data-component-file":"ProjectModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/components/ProjectModal.tsx:223:24","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"223","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Billing Type:"}),i.jsx("span",{className:"ml-2 font-medium capitalize","data-matrix-id":"src/components/ProjectModal.tsx:224:24","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"224","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20font-medium%20capitalize%22%7D",children:B.billing_type.replace("_"," ")})]}),i.jsxs("div",{"data-matrix-id":"src/components/ProjectModal.tsx:228:22","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"228","data-component-file":"ProjectModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/components/ProjectModal.tsx:229:24","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"229","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Hourly Rate:"}),i.jsxs("span",{className:"ml-2 font-medium","data-matrix-id":"src/components/ProjectModal.tsx:230:24","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"230","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20font-medium%22%7D",children:["$",B.hourly_rate]})]}),B.budget_days>0&&i.jsxs("div",{"data-matrix-id":"src/components/ProjectModal.tsx:233:24","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"233","data-component-file":"ProjectModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/components/ProjectModal.tsx:234:26","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"234","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Budget Days:"}),i.jsx("span",{className:"ml-2 font-medium","data-matrix-id":"src/components/ProjectModal.tsx:235:26","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"235","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20font-medium%22%7D",children:B.budget_days})]}),i.jsxs("div",{"data-matrix-id":"src/components/ProjectModal.tsx:238:22","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"238","data-component-file":"ProjectModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/components/ProjectModal.tsx:239:24","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"239","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Travel Billable:"}),i.jsx("span",{className:"ml-2 font-medium","data-matrix-id":"src/components/ProjectModal.tsx:240:24","data-matrix-name":"span","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"240","data-component-file":"ProjectModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22ml-2%20font-medium%22%7D",children:B.travel_billable?"Yes":"No"})]})]})]})})]}),i.jsx(Ze,{label:"Work Location",value:x.location,onChange:P=>f("location",P.target.value),variant:"floating",options:[{value:"remote",label:"Remote"},{value:"onsite",label:"On-site"}],"data-matrix-id":"src/components/ProjectModal.tsx:250:12","data-matrix-name":"Select","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"250","data-component-file":"ProjectModal.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Work%20Location%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"}),i.jsx(Dy,{label:"Time Allocation",value:x.man_days,onChange:P=>f("man_days",P),error:g.man_days,variant:"floating",helperText:"Select from common fractions or enter a custom value","data-matrix-id":"src/components/ProjectModal.tsx:261:12","data-matrix-name":"TimeAllocationInput","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"261","data-component-file":"ProjectModal.tsx","data-component-name":"TimeAllocationInput","data-component-content":"%7B%22label%22%3A%22Time%20Allocation%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22helperText%22%3A%22Select%20from%20common%20fractions%20or%20enter%20a%20custom%20value%22%7D"}),i.jsxs("div",{className:"md:col-span-2","data-matrix-id":"src/components/ProjectModal.tsx:270:12","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"270","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:[i.jsx("textarea",{className:"modern-input w-full h-24 resize-none",placeholder:"Description of work performed...",value:x.description,onChange:P=>f("description",P.target.value),"data-matrix-id":"src/components/ProjectModal.tsx:271:14","data-matrix-name":"textarea","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"271","data-component-file":"ProjectModal.tsx","data-component-name":"textarea","data-component-content":"%7B%22className%22%3A%22modern-input%20w-full%20h-24%20resize-none%22%2C%22placeholder%22%3A%22Description%20of%20work%20performed...%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),i.jsx("label",{className:"floating-label","data-matrix-id":"src/components/ProjectModal.tsx:277:14","data-matrix-name":"label","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"277","data-component-file":"ProjectModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22floating-label%22%7D",children:"Description (Optional)"})]}),i.jsxs("div",{className:"md:col-span-2","data-matrix-id":"src/components/ProjectModal.tsx:280:12","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"280","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/components/ProjectModal.tsx:281:14","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"281","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[i.jsx("input",{type:"checkbox",id:"travel_chargeable",checked:x.travel_chargeable,onChange:P=>f("travel_chargeable",P.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-border rounded","data-matrix-id":"src/components/ProjectModal.tsx:282:16","data-matrix-name":"input","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"282","data-component-file":"ProjectModal.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22id%22%3A%22travel_chargeable%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22h-4%20w-4%20text-primary%20focus%3Aring-primary%20border-border%20rounded%22%7D"}),i.jsx("label",{htmlFor:"travel_chargeable",className:"text-sm font-medium text-foreground","data-matrix-id":"src/components/ProjectModal.tsx:289:16","data-matrix-name":"label","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"289","data-component-file":"ProjectModal.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22travel_chargeable%22%2C%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:"Travel is chargeable for this project"})]}),(B==null?void 0:B.travel_billable)&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-matrix-id":"src/components/ProjectModal.tsx:294:16","data-matrix-name":"p","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"294","data-component-file":"ProjectModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mt-1%22%7D",children:"This project allows billable travel expenses"})]}),x.travel_chargeable&&i.jsx("div",{className:"md:col-span-2","data-matrix-id":"src/components/ProjectModal.tsx:302:14","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"302","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:i.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 space-y-4","data-matrix-id":"src/components/ProjectModal.tsx:303:16","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"303","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-4%20space-y-4%22%7D",children:[i.jsxs("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center","data-matrix-id":"src/components/ProjectModal.tsx:304:18","data-matrix-name":"h4","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"304","data-component-file":"ProjectModal.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20mb-3%20flex%20items-center%22%7D",children:[i.jsxs("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","data-matrix-id":"src/components/ProjectModal.tsx:305:20","data-matrix-name":"svg","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"305","data-component-file":"ProjectModal.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20mr-2%22%2C%22fill%22%3A%22none%22%2C%22viewBox%22%3A%220%200%2024%2024%22%2C%22stroke%22%3A%22currentColor%22%7D",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z","data-matrix-id":"src/components/ProjectModal.tsx:306:22","data-matrix-name":"path","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"306","data-component-file":"ProjectModal.tsx","data-component-name":"path","data-component-content":"%7B%22strokeLinecap%22%3A%22round%22%2C%22strokeLinejoin%22%3A%22round%22%2C%22strokeWidth%22%3A2%2C%22d%22%3A%22M17.657%2016.657L13.414%2020.9a1.998%201.998%200%2001-2.827%200l-4.244-4.243a8%208%200%201111.314%200z%22%7D"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z","data-matrix-id":"src/components/ProjectModal.tsx:307:22","data-matrix-name":"path","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"307","data-component-file":"ProjectModal.tsx","data-component-name":"path","data-component-content":"%7B%22strokeLinecap%22%3A%22round%22%2C%22strokeLinejoin%22%3A%22round%22%2C%22strokeWidth%22%3A2%2C%22d%22%3A%22M15%2011a3%203%200%2011-6%200%203%203%200%20016%200z%22%7D"})]}),"Travel Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-matrix-id":"src/components/ProjectModal.tsx:311:18","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"311","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-4%22%7D",children:[i.jsx(Te,{type:"text",label:"Office",value:x.office,onChange:P=>f("office",P.target.value),variant:"floating",placeholder:"e.g., Main Office, Client Site","data-matrix-id":"src/components/ProjectModal.tsx:312:20","data-matrix-name":"Input","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"312","data-component-file":"ProjectModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22label%22%3A%22Office%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22placeholder%22%3A%22e.g.%2C%20Main%20Office%2C%20Client%20Site%22%7D"}),i.jsx(Te,{type:"text",label:"City",value:x.city,onChange:P=>f("city",P.target.value),variant:"floating",placeholder:"e.g., New York, London","data-matrix-id":"src/components/ProjectModal.tsx:320:20","data-matrix-name":"Input","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"320","data-component-file":"ProjectModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22label%22%3A%22City%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22placeholder%22%3A%22e.g.%2C%20New%20York%2C%20London%22%7D"}),i.jsx(Te,{type:"text",label:"Country",value:x.country,onChange:P=>f("country",P.target.value),variant:"floating",placeholder:"e.g., USA, UK, Germany","data-matrix-id":"src/components/ProjectModal.tsx:328:20","data-matrix-name":"Input","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"328","data-component-file":"ProjectModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22label%22%3A%22Country%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22placeholder%22%3A%22e.g.%2C%20USA%2C%20UK%2C%20Germany%22%7D"})]}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/components/ProjectModal.tsx:337:18","data-matrix-name":"p","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"337","data-component-file":"ProjectModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Specify travel destination details for this project work"})]})})]})}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border","data-matrix-id":"src/components/ProjectModal.tsx:346:8","data-matrix-name":"div","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"346","data-component-file":"ProjectModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-3%20p-6%20border-t%20border-border%22%7D",children:[i.jsx(le,{variant:"ghost",onClick:a,className:"min-h-[44px]","data-matrix-id":"src/components/ProjectModal.tsx:347:10","data-matrix-name":"Button","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"347","data-component-file":"ProjectModal.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22min-h-%5B44px%5D%22%7D",children:"Cancel"}),i.jsx(le,{variant:"primary",onClick:N,className:"min-h-[44px]","data-matrix-id":"src/components/ProjectModal.tsx:354:10","data-matrix-name":"Button","data-component-path":"src/components/ProjectModal.tsx","data-component-line":"354","data-component-file":"ProjectModal.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22primary%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22min-h-%5B44px%5D%22%7D",children:l?"Update Project":"Add Project"})]})]})}):null}const Y1=[{value:"train",label:"Train"},{value:"taxi",label:"Taxi"},{value:"flight",label:"Flight"},{value:"rental_car",label:"Rental Car"},{value:"fuel",label:"Fuel"},{value:"parking",label:"Parking"},{value:"onpv",label:"NPV"},{value:"hospitality",label:"Hospitality"},{value:"hotel",label:"Hotel"},{value:"car",label:"Car (Mileage)"},{value:"others",label:"Others"}],X1=[{value:.7,label:"0.70 per km"},{value:.5,label:"0.50 per km"},{value:.3,label:"0.30 per km"}];function Z1({isOpen:o,onClose:a,onSave:n,projects:r,date:c,editingExpense:l}){const{formatCurrency:p}=kl(),[x,h]=_.useState({}),[g,y]=_.useState(!0),[f,C]=_.useState({project_id:"",expense_type:"",date:c,description:"",gross_amount:"",vat_percentage:"20",distance_km:"",rate_per_km:"0.7"}),[j,N]=_.useState({}),[B,P]=_.useState({grossAmount:0,vatAmount:0,netAmount:0});_.useEffect(()=>{F()},[]);const F=async()=>{try{const{data:I,error:E}=await de.functions.invoke("get-vat-settings");if(E){console.error("Error loading VAT config:",E),h(H());return}I.success?h(I.data):(console.error("VAT config load failed:",I.error),h(H()))}catch(I){console.error("Error loading VAT configuration:",I),h(H())}finally{y(!1)}},H=()=>({train:{defaultVat:20,availableRates:[20],isConfigurable:!0},taxi:{defaultVat:20,availableRates:[20],isConfigurable:!0},flight:{defaultVat:20,availableRates:[20],isConfigurable:!0},rental_car:{defaultVat:20,availableRates:[20],isConfigurable:!0},fuel:{defaultVat:20,availableRates:[20],isConfigurable:!0},parking:{defaultVat:20,availableRates:[20],isConfigurable:!0},onpv:{defaultVat:20,availableRates:[20],isConfigurable:!0},hospitality:{defaultVat:20,availableRates:[20],isConfigurable:!0},others:{defaultVat:20,availableRates:[20],isConfigurable:!0},hotel:{defaultVat:19,availableRates:[19,7,0],isConfigurable:!0},car:{defaultVat:0,availableRates:[0],isConfigurable:!1}});_.useEffect(()=>{var I,E;C(l?{project_id:l.project_id,expense_type:l.expense_type,date:l.date,description:l.description||"",gross_amount:l.gross_amount.toString(),vat_percentage:l.vat_percentage.toString(),distance_km:((I=l.distance_km)==null?void 0:I.toString())||"",rate_per_km:((E=l.rate_per_km)==null?void 0:E.toString())||"0.7"}:{project_id:"",expense_type:"",date:c,description:"",gross_amount:"",vat_percentage:"20",distance_km:"",rate_per_km:"0.7"}),N({})},[l,o,c]),_.useEffect(()=>{const I=x[f.expense_type];let E=0;if(I&&f.expense_type==="car"){const we=parseFloat(f.distance_km)||0,Ce=parseFloat(f.rate_per_km)||0;E=we*Ce}else E=parseFloat(f.gross_amount)||0;const U=parseFloat(f.vat_percentage)||0,Z=E/(1+U/100),ye=E-Z;P({grossAmount:Math.round(E*100)/100,vatAmount:Math.round(ye*100)/100,netAmount:Math.round(Z*100)/100})},[f.expense_type,f.gross_amount,f.vat_percentage,f.distance_km,f.rate_per_km,x]);const A=(I,E)=>{C(U=>({...U,[I]:E})),j[I]&&N(U=>({...U,[I]:""}))},R=I=>{const E=x[I];E&&C(U=>({...U,expense_type:I,vat_percentage:E.defaultVat.toString(),gross_amount:I==="car"?"":U.gross_amount,distance_km:I==="car"?U.distance_km:"",rate_per_km:I==="car"?U.rate_per_km:""})),j.expense_type&&N(U=>({...U,expense_type:""}))},$=()=>{const I={};return f.project_id||(I.project_id="Please select a project"),f.expense_type||(I.expense_type="Please select an expense type"),f.date||(I.date="Please select a date"),x[f.expense_type]&&f.expense_type==="car"?((!f.distance_km||parseFloat(f.distance_km)<=0)&&(I.distance_km="Distance must be greater than 0"),f.rate_per_km||(I.rate_per_km="Please select a rate per km")):(!f.gross_amount||parseFloat(f.gross_amount)<=0)&&(I.gross_amount="Gross amount must be greater than 0"),(!f.vat_percentage||parseFloat(f.vat_percentage)<0)&&(I.vat_percentage="Please enter a valid VAT percentage"),N(I),Object.keys(I).length===0},J=()=>{if($()){const I=x[f.expense_type],E={project_id:f.project_id,expense_type:f.expense_type,date:f.date,description:f.description||void 0,gross_amount:I&&f.expense_type==="car"?B.grossAmount:parseFloat(f.gross_amount),vat_percentage:parseFloat(f.vat_percentage),distance_km:I&&f.expense_type==="car"?parseFloat(f.distance_km):void 0,rate_per_km:I&&f.expense_type==="car"?parseFloat(f.rate_per_km):void 0};n(E)}},S=x[f.expense_type];return r.find(I=>I.id===f.project_id),o?g?i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/components/ExpenseModal.tsx:270:6","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"270","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:i.jsx("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-md p-6","data-matrix-id":"src/components/ExpenseModal.tsx:271:8","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"271","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-xl%20shadow-xl%20w-full%20max-w-md%20p-6%22%7D",children:i.jsx("div",{className:"text-center","data-matrix-id":"src/components/ExpenseModal.tsx:272:10","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"272","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:i.jsxs("div",{className:"inline-flex items-center space-x-3","data-matrix-id":"src/components/ExpenseModal.tsx:273:12","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"273","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary border-t-transparent","data-matrix-id":"src/components/ExpenseModal.tsx:274:14","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"274","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-6%20w-6%20border-2%20border-primary%20border-t-transparent%22%7D"}),i.jsx("p",{className:"text-muted-foreground font-medium","data-matrix-id":"src/components/ExpenseModal.tsx:275:14","data-matrix-name":"p","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"275","data-component-file":"ExpenseModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20font-medium%22%7D",children:"Loading expense settings..."})]})})})}):i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/components/ExpenseModal.tsx:284:4","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"284","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:i.jsxs("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto","data-matrix-id":"src/components/ExpenseModal.tsx:285:6","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"285","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-xl%20shadow-xl%20w-full%20max-w-3xl%20max-h-%5B90vh%5D%20overflow-y-auto%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border","data-matrix-id":"src/components/ExpenseModal.tsx:286:8","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"286","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-6%20border-b%20border-border%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/components/ExpenseModal.tsx:287:10","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"287","data-component-file":"ExpenseModal.tsx","data-component-name":"div",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/components/ExpenseModal.tsx:288:12","data-matrix-name":"h3","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"288","data-component-file":"ExpenseModal.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:l?"Edit Expense Entry":"Add Expense Entry"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/components/ExpenseModal.tsx:291:12","data-matrix-name":"p","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"291","data-component-file":"ExpenseModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:je(new Date(f.date),"EEEE, MMMM d, yyyy")})]}),i.jsx(le,{variant:"ghost",size:"sm",onClick:a,className:"min-h-[44px] min-w-[44px] flex items-center justify-center","data-matrix-id":"src/components/ExpenseModal.tsx:295:10","data-matrix-name":"Button","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"295","data-component-file":"ExpenseModal.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22min-h-%5B44px%5D%20min-w-%5B44px%5D%20flex%20items-center%20justify-center%22%7D",children:i.jsx(Yo,{className:"h-5 w-5","data-matrix-id":"src/components/ExpenseModal.tsx:301:12","data-matrix-name":"X","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"301","data-component-file":"ExpenseModal.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"})})]}),i.jsx("div",{className:"p-6 space-y-6","data-matrix-id":"src/components/ExpenseModal.tsx:305:8","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"305","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%20space-y-6%22%7D",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6","data-matrix-id":"src/components/ExpenseModal.tsx:306:10","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"306","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-2%20gap-6%22%7D",children:[i.jsx("div",{className:"md:col-span-2","data-matrix-id":"src/components/ExpenseModal.tsx:308:12","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"308","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:i.jsx(Ze,{label:"Project *",value:f.project_id,onChange:I=>A("project_id",I.target.value),error:j.project_id,variant:"floating",options:[{value:"",label:"Select a project..."},...r.map(I=>({value:I.id,label:`${I.name} (${I.code})`}))],"data-matrix-id":"src/components/ExpenseModal.tsx:309:14","data-matrix-name":"Select","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"309","data-component-file":"ExpenseModal.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Project%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2Cnull%5D%7D"})}),i.jsx(Ze,{label:"Expense Type *",value:f.expense_type,onChange:I=>R(I.target.value),error:j.expense_type,variant:"floating",options:[{value:"",label:"Select expense type..."},...Y1.map(I=>({value:I.value,label:I.label}))],"data-matrix-id":"src/components/ExpenseModal.tsx:326:12","data-matrix-name":"Select","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"326","data-component-file":"ExpenseModal.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Expense%20Type%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2Cnull%5D%7D"}),i.jsx(Te,{type:"date",label:"Date *",value:f.date,onChange:I=>A("date",I.target.value),error:j.date,variant:"floating","data-matrix-id":"src/components/ExpenseModal.tsx:342:12","data-matrix-name":"Input","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"342","data-component-file":"ExpenseModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22date%22%2C%22label%22%3A%22Date%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%7D"}),i.jsxs("div",{className:"md:col-span-2","data-matrix-id":"src/components/ExpenseModal.tsx:352:12","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"352","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:[i.jsx("textarea",{className:"modern-input w-full h-24 resize-none",placeholder:"Optional description...",value:f.description,onChange:I=>A("description",I.target.value),"data-matrix-id":"src/components/ExpenseModal.tsx:353:14","data-matrix-name":"textarea","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"353","data-component-file":"ExpenseModal.tsx","data-component-name":"textarea","data-component-content":"%7B%22className%22%3A%22modern-input%20w-full%20h-24%20resize-none%22%2C%22placeholder%22%3A%22Optional%20description...%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),i.jsx("label",{className:"floating-label","data-matrix-id":"src/components/ExpenseModal.tsx:359:14","data-matrix-name":"label","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"359","data-component-file":"ExpenseModal.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22floating-label%22%7D",children:"Description (Optional)"})]}),S&&f.expense_type==="car"&&i.jsxs(i.Fragment,{children:[i.jsx(Te,{type:"number",label:"Distance (km) *",value:f.distance_km,onChange:I=>A("distance_km",I.target.value),error:j.distance_km,variant:"floating",min:"0",step:"0.1",placeholder:"0.0","data-matrix-id":"src/components/ExpenseModal.tsx:365:16","data-matrix-name":"Input","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"365","data-component-file":"ExpenseModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22label%22%3A%22Distance%20(km)%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22min%22%3A%220%22%2C%22step%22%3A%220.1%22%2C%22placeholder%22%3A%220.0%22%7D"}),i.jsx(Ze,{label:"Rate per km *",value:f.rate_per_km,onChange:I=>A("rate_per_km",I.target.value),error:j.rate_per_km,variant:"floating",options:X1.map(I=>({value:I.value.toString(),label:I.label})),"data-matrix-id":"src/components/ExpenseModal.tsx:377:16","data-matrix-name":"Select","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"377","data-component-file":"ExpenseModal.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Rate%20per%20km%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22options%22%3A%22%5BCallExpression%5D%22%7D"}),i.jsx("div",{className:"md:col-span-2","data-matrix-id":"src/components/ExpenseModal.tsx:390:16","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"390","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:i.jsxs("div",{className:"bg-muted/30 rounded-lg p-4","data-matrix-id":"src/components/ExpenseModal.tsx:391:18","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"391","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-4%22%7D",children:[i.jsxs("h4",{className:"text-sm font-medium text-foreground mb-2 flex items-center","data-matrix-id":"src/components/ExpenseModal.tsx:392:20","data-matrix-name":"h4","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"392","data-component-file":"ExpenseModal.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20mb-2%20flex%20items-center%22%7D",children:[i.jsx(cx,{className:"h-4 w-4 mr-2","data-matrix-id":"src/components/ExpenseModal.tsx:393:22","data-matrix-name":"Calculator","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"393","data-component-file":"ExpenseModal.tsx","data-component-name":"Calculator","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20mr-2%22%7D"}),"Calculated Amount"]}),i.jsx("div",{className:"text-lg font-bold text-primary","data-matrix-id":"src/components/ExpenseModal.tsx:396:20","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"396","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-primary%22%7D",children:p(B.grossAmount)}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1","data-matrix-id":"src/components/ExpenseModal.tsx:399:20","data-matrix-name":"p","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"399","data-component-file":"ExpenseModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mt-1%22%7D",children:[f.distance_km," km  ",p(parseFloat(f.rate_per_km||"0")),"/km"]})]})})]}),S&&f.expense_type!=="car"&&i.jsx(Te,{type:"number",label:"Gross Amount *",value:f.gross_amount,onChange:I=>A("gross_amount",I.target.value),error:j.gross_amount,variant:"floating",min:"0",step:"0.01",placeholder:"0.00","data-matrix-id":"src/components/ExpenseModal.tsx:409:14","data-matrix-name":"Input","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"409","data-component-file":"ExpenseModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22label%22%3A%22Gross%20Amount%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22min%22%3A%220%22%2C%22step%22%3A%220.01%22%2C%22placeholder%22%3A%220.00%22%7D"}),S!=null&&S.availableRates&&S.availableRates.length>1?i.jsx(Ze,{label:"VAT Rate *",value:f.vat_percentage,onChange:I=>A("vat_percentage",I.target.value),error:j.vat_percentage,variant:"floating",options:S.availableRates.map(I=>({value:I.toString(),label:`${I}%`})),"data-matrix-id":"src/components/ExpenseModal.tsx:424:14","data-matrix-name":"Select","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"424","data-component-file":"ExpenseModal.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22VAT%20Rate%20*%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22options%22%3A%22%5BCallExpression%5D%22%7D"}):i.jsx(Te,{type:"number",label:f.expense_type==="car"?"VAT Rate (Fixed)":"VAT Rate",value:f.vat_percentage,onChange:I=>A("vat_percentage",I.target.value),error:j.vat_percentage,variant:"floating",min:"0",step:"0.1",placeholder:"20",disabled:!(S!=null&&S.isConfigurable),className:S!=null&&S.isConfigurable?"":"opacity-50","data-matrix-id":"src/components/ExpenseModal.tsx:436:14","data-matrix-name":"Input","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"436","data-component-file":"ExpenseModal.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22error%22%3A%22%5BMemberExpression%5D%22%2C%22variant%22%3A%22floating%22%2C%22min%22%3A%220%22%2C%22step%22%3A%220.1%22%2C%22placeholder%22%3A%2220%22%2C%22disabled%22%3A%22%5BUnaryExpression%5D%22%2C%22className%22%3A%22%5BConditionalExpression%5D%22%7D"}),B.grossAmount>0&&i.jsx("div",{className:"md:col-span-2","data-matrix-id":"src/components/ExpenseModal.tsx:453:14","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"453","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22md%3Acol-span-2%22%7D",children:i.jsxs("div",{className:"bg-muted/30 rounded-lg p-4","data-matrix-id":"src/components/ExpenseModal.tsx:454:16","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"454","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-4%22%7D",children:[i.jsxs("h4",{className:"text-sm font-medium text-foreground mb-3 flex items-center","data-matrix-id":"src/components/ExpenseModal.tsx:455:18","data-matrix-name":"h4","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"455","data-component-file":"ExpenseModal.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20mb-3%20flex%20items-center%22%7D",children:[i.jsx(yy,{className:"h-4 w-4 mr-2","data-matrix-id":"src/components/ExpenseModal.tsx:456:20","data-matrix-name":"Receipt","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"456","data-component-file":"ExpenseModal.tsx","data-component-name":"Receipt","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20mr-2%22%7D"}),"Amount Breakdown"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm","data-matrix-id":"src/components/ExpenseModal.tsx:459:18","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"459","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-3%20gap-4%20text-sm%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/components/ExpenseModal.tsx:460:20","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"460","data-component-file":"ExpenseModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground block","data-matrix-id":"src/components/ExpenseModal.tsx:461:22","data-matrix-name":"span","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"461","data-component-file":"ExpenseModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20block%22%7D",children:"Net Amount:"}),i.jsx("span",{className:"font-semibold text-foreground","data-matrix-id":"src/components/ExpenseModal.tsx:462:22","data-matrix-name":"span","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"462","data-component-file":"ExpenseModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:p(B.netAmount)})]}),i.jsxs("div",{"data-matrix-id":"src/components/ExpenseModal.tsx:464:20","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"464","data-component-file":"ExpenseModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground block","data-matrix-id":"src/components/ExpenseModal.tsx:465:22","data-matrix-name":"span","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"465","data-component-file":"ExpenseModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20block%22%7D",children:"VAT Amount:"}),i.jsx("span",{className:"font-semibold text-foreground","data-matrix-id":"src/components/ExpenseModal.tsx:466:22","data-matrix-name":"span","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"466","data-component-file":"ExpenseModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:p(B.vatAmount)})]}),i.jsxs("div",{"data-matrix-id":"src/components/ExpenseModal.tsx:468:20","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"468","data-component-file":"ExpenseModal.tsx","data-component-name":"div",children:[i.jsx("span",{className:"text-muted-foreground block","data-matrix-id":"src/components/ExpenseModal.tsx:469:22","data-matrix-name":"span","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"469","data-component-file":"ExpenseModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20block%22%7D",children:"Gross Amount:"}),i.jsx("span",{className:"font-bold text-primary","data-matrix-id":"src/components/ExpenseModal.tsx:470:22","data-matrix-name":"span","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"470","data-component-file":"ExpenseModal.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-bold%20text-primary%22%7D",children:p(B.grossAmount)})]})]}),f.expense_type==="car"&&i.jsx("p",{className:"text-xs text-muted-foreground mt-2","data-matrix-id":"src/components/ExpenseModal.tsx:474:20","data-matrix-name":"p","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"474","data-component-file":"ExpenseModal.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%20mt-2%22%7D",children:"Car expenses are VAT-exempt (0% VAT)"})]})})]})}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border","data-matrix-id":"src/components/ExpenseModal.tsx:484:8","data-matrix-name":"div","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"484","data-component-file":"ExpenseModal.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-3%20p-6%20border-t%20border-border%22%7D",children:[i.jsx(le,{variant:"ghost",onClick:a,className:"min-h-[44px]","data-matrix-id":"src/components/ExpenseModal.tsx:485:10","data-matrix-name":"Button","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"485","data-component-file":"ExpenseModal.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22min-h-%5B44px%5D%22%7D",children:"Cancel"}),i.jsx(le,{variant:"primary",onClick:J,className:"min-h-[44px]","data-matrix-id":"src/components/ExpenseModal.tsx:492:10","data-matrix-name":"Button","data-component-path":"src/components/ExpenseModal.tsx","data-component-line":"492","data-component-file":"ExpenseModal.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22primary%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22min-h-%5B44px%5D%22%7D",children:l?"Update Expense":"Add Expense"})]})]})}):null}const eP=[{value:"main_office",label:"Main Office"},{value:"branch_office",label:"Branch Office"},{value:"client_site",label:"Client Site"},{value:"home_office",label:"Home Office"},{value:"coworking_space",label:"Coworking Space"},{value:"other",label:"Other"}];function tP({dateStr:o,office:a,city:n,country:r,countries:c,citySuggestions:l,isMobile:p,isReadOnly:x,onChange:h}){return i.jsxs("div",{className:ne("bg-muted/20 rounded-lg p-3 space-y-3 mt-3","border border-muted"),"data-matrix-id":"src/components/TravelFields.tsx:48:4","data-matrix-name":"div","data-component-path":"src/components/TravelFields.tsx","data-component-line":"48","data-component-file":"TravelFields.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsxs("h4",{className:"text-sm font-medium text-foreground flex items-center","data-matrix-id":"src/components/TravelFields.tsx:52:6","data-matrix-name":"h4","data-component-path":"src/components/TravelFields.tsx","data-component-line":"52","data-component-file":"TravelFields.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%20flex%20items-center%22%7D",children:[i.jsxs("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","data-matrix-id":"src/components/TravelFields.tsx:53:8","data-matrix-name":"svg","data-component-path":"src/components/TravelFields.tsx","data-component-line":"53","data-component-file":"TravelFields.tsx","data-component-name":"svg","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20mr-2%22%2C%22fill%22%3A%22none%22%2C%22viewBox%22%3A%220%200%2024%2024%22%2C%22stroke%22%3A%22currentColor%22%7D",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z","data-matrix-id":"src/components/TravelFields.tsx:54:10","data-matrix-name":"path","data-component-path":"src/components/TravelFields.tsx","data-component-line":"54","data-component-file":"TravelFields.tsx","data-component-name":"path","data-component-content":"%7B%22strokeLinecap%22%3A%22round%22%2C%22strokeLinejoin%22%3A%22round%22%2C%22strokeWidth%22%3A2%2C%22d%22%3A%22M17.657%2016.657L13.414%2020.9a1.998%201.998%200%2001-2.827%200l-4.244-4.243a8%208%200%201111.314%200z%22%7D"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z","data-matrix-id":"src/components/TravelFields.tsx:55:10","data-matrix-name":"path","data-component-path":"src/components/TravelFields.tsx","data-component-line":"55","data-component-file":"TravelFields.tsx","data-component-name":"path","data-component-content":"%7B%22strokeLinecap%22%3A%22round%22%2C%22strokeLinejoin%22%3A%22round%22%2C%22strokeWidth%22%3A2%2C%22d%22%3A%22M15%2011a3%203%200%2011-6%200%203%203%200%20016%200z%22%7D"})]}),"Travel Location Details"]}),i.jsxs("div",{className:ne("grid gap-3",{"grid-cols-1":p,"grid-cols-3":!p}),"data-matrix-id":"src/components/TravelFields.tsx:59:6","data-matrix-name":"div","data-component-path":"src/components/TravelFields.tsx","data-component-line":"59","data-component-file":"TravelFields.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx(Ze,{value:a||"",onChange:g=>h("office",g.target.value),className:ne("premium-focus",{"w-full":p}),disabled:x,onClick:g=>g.stopPropagation(),options:[{value:"",label:"Select office..."},...eP],label:p?"Office Location":void 0,variant:p?"floating":"default","data-matrix-id":"src/components/TravelFields.tsx:66:8","data-matrix-name":"Select","data-component-path":"src/components/TravelFields.tsx","data-component-line":"66","data-component-file":"TravelFields.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2Cnull%5D%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22variant%22%3A%22%5BConditionalExpression%5D%22%7D"}),i.jsxs("div",{className:"relative","data-matrix-id":"src/components/TravelFields.tsx:84:8","data-matrix-name":"div","data-component-path":"src/components/TravelFields.tsx","data-component-line":"84","data-component-file":"TravelFields.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22relative%22%7D",children:[i.jsx(Te,{type:"text",label:p?"City":void 0,placeholder:"Enter city",value:n||"",onChange:g=>h("city",g.target.value),disabled:x,onClick:g=>g.stopPropagation(),variant:p?"floating":"default",list:`city-suggestions-${o}`,"data-matrix-id":"src/components/TravelFields.tsx:85:10","data-matrix-name":"Input","data-component-path":"src/components/TravelFields.tsx","data-component-line":"85","data-component-file":"TravelFields.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22text%22%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22placeholder%22%3A%22Enter%20city%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22variant%22%3A%22%5BConditionalExpression%5D%22%2C%22list%22%3A%22%5BTemplateLiteral%5D%22%7D"}),i.jsx("datalist",{id:`city-suggestions-${o}`,"data-matrix-id":"src/components/TravelFields.tsx:96:10","data-matrix-name":"datalist","data-component-path":"src/components/TravelFields.tsx","data-component-line":"96","data-component-file":"TravelFields.tsx","data-component-name":"datalist","data-component-content":"%7B%22id%22%3A%22%5BTemplateLiteral%5D%22%7D",children:l.map((g,y)=>i.jsx("option",{value:g,"data-matrix-id":"src/components/TravelFields.tsx:98:14","data-matrix-name":"option","data-component-path":"src/components/TravelFields.tsx","data-component-line":"98","data-component-file":"TravelFields.tsx","data-component-name":"option","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%7D"},y))})]}),i.jsx(Ze,{value:r||"",onChange:g=>h("country",g.target.value),className:ne("premium-focus",{"w-full":p}),disabled:x,onClick:g=>g.stopPropagation(),options:[{value:"",label:"Select country..."},...c.map(g=>({value:g.name,label:`${g.name} (${g.code})`}))],label:p?"Country":void 0,variant:p?"floating":"default","data-matrix-id":"src/components/TravelFields.tsx:102:8","data-matrix-name":"Select","data-component-path":"src/components/TravelFields.tsx","data-component-line":"102","data-component-file":"TravelFields.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2Cnull%5D%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22variant%22%3A%22%5BConditionalExpression%5D%22%7D"})]}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/components/TravelFields.tsx:124:6","data-matrix-name":"p","data-component-path":"src/components/TravelFields.tsx","data-component-line":"124","data-component-file":"TravelFields.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Specify travel destination for allowance calculations"})]})}function aP(){var La,vr,ds,ls,yr,to;const{user:o,refreshSessionIfNeeded:a}=Ra(),n=xx(),[r,c]=_.useState(Xo(new Date,{weekStartsOn:1})),[l,p]=_.useState({week:null,dayEntries:{},projectEntries:{},costEntries:{},expenseEntries:{}}),[x,h]=_.useState([]),[g,y]=_.useState([]),[f,C]=_.useState([]),[j,N]=_.useState({}),[B,P]=_.useState("EUR"),[F,H]=_.useState(!1),[A,R]=_.useState(!1),[$,J]=_.useState({}),[S,I]=_.useState(!0),[E,U]=_.useState(!1),[Z,ye]=_.useState(!1),[we,Ce]=_.useState(""),[ot,et]=_.useState(null),[Ee,ee]=_.useState(null),[oe,te]=_.useState({lastLocation:"remote",lastCity:"",lastCountry:"",recentProjects:[],recentExpenseTypes:[],projectDefaults:new Map}),[k,W]=_.useState(!1),pe=Array.from({length:7},(z,O)=>Ro(r,O)),ve=je(r,"yyyy-MM-dd"),he=((La=l.week)==null?void 0:La.status)==="submitted"||((vr=l.week)==null?void 0:vr.status)==="approved"||((ds=l.week)==null?void 0:ds.status)==="rejected";_.useEffect(()=>{be(),Ue(),Le(),$e(),Ct()},[]),_.useEffect(()=>{const z=localStorage.getItem("timesheet-smart-defaults");if(z)try{const O=JSON.parse(z);te(K=>({...K,...O,projectDefaults:new Map(O.projectDefaults||[])}))}catch(O){console.warn("Failed to parse saved smart defaults:",O)}},[]),_.useEffect(()=>{const z={...oe,projectDefaults:Array.from(oe.projectDefaults.entries())};localStorage.setItem("timesheet-smart-defaults",JSON.stringify(z))},[oe]),_.useEffect(()=>{o&&Ht()},[r,o]),_.useEffect(()=>{if(S&&!he&&!F&&(Object.keys(l.dayEntries).length>0||Object.values(l.dayEntries).some(O=>O.time_in||O.time_out))){const O=setTimeout(()=>{Ia()},3e3);return()=>clearTimeout(O)}},[l,S,he,F]);const be=async()=>{const{data:z,error:O}=await de.from("projects").select(`
        *,
        clients!projects_client_id_fkey(
          name
        )
      `).eq("active",!0).order("name");O?console.error("Error loading projects:",O):h(z||[])},Ue=async()=>{const{data:z,error:O}=await de.from("countries").select("*").eq("is_active",!0).order("name");O?console.error("Error loading countries:",O):y(z||[])},Le=async()=>{if(!o)return;const{data:z,error:O}=await de.from("day_entries").select("city").not("city","is",null).neq("city","").order("city");if(O)console.error("Error loading city suggestions:",O);else{const K=[...new Set(z==null?void 0:z.map(me=>me.city).filter(Boolean))];C(K.slice(0,10))}},$e=async()=>{const{data:z,error:O}=await de.from("allowance_rates").select("country, full_rate, partial_rate").is("effective_to",null).order("country");if(O)console.error("Error loading allowance rates:",O);else if(z){const K={};z.forEach(me=>{K[me.country]={full_rate:parseFloat(me.full_rate),partial_rate:parseFloat(me.partial_rate)}}),N(K)}},Ct=async()=>{const{data:z,error:O}=await de.from("system_settings").select("key, value").eq("key","default_currency").single();O?console.error("Error loading system settings:",O):z&&P(z.value)},la=z=>{if(z.status!=="travel"||!z.country)return 0;const O=j[z.country];if(!O)return 0;let K=!1;if(z.time_in&&z.time_out){const me=new Date(`2000-01-01 ${z.time_in}`);K=(new Date(`2000-01-01 ${z.time_out}`).getTime()-me.getTime())/(1e3*60*60)>=6}else K=!0;return K?O.full_rate:O.partial_rate},os=z=>({EUR:"",USD:"$",GBP:"",CHF:"CHF"})[z]||z,Ht=async()=>{if(o){H(!0);try{const{data:z}=await de.from("weeks").select("*").eq("user_id",o.id).eq("week_start",ve).maybeSingle();let O=z||{id:null,user_id:o.id,week_start:ve,status:"draft",submitted_at:null,approved_at:null,approved_by:null,rejection_reason:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};const K={},me={},fe={},Me={};if(pe.forEach(Se=>{const Be=je(Se,"yyyy-MM-dd"),He=Se.getDay()===0||Se.getDay()===6;K[Be]={id:"",week_id:O.id||"",date:Be,time_in:null,time_out:null,status:He?"weekend_bank_holiday":"active",allowance_amount:0,office:null,city:null,country:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},me[Be]=[],fe[Be]=[],Me[Be]=[]}),O.id){const{data:Se}=await de.from("day_entries").select("*").eq("week_id",O.id).order("date");if(Se&&Se.length>0)for(const He of Se){K[He.date]=He;const{data:Cn}=await de.from("project_entries").select("*").eq("day_entry_id",He.id);me[He.date]=Cn||[];const{data:bn}=await de.from("cost_entries").select("*").eq("day_entry_id",He.id);fe[He.date]=bn||[]}const{data:Be}=await de.from("expense_entries").select("*").eq("user_id",o.id).gte("date",pe[0].toISOString().split("T")[0]).lte("date",pe[6].toISOString().split("T")[0]);if(Be)for(const He of Be)Me[He.date]||(Me[He.date]=[]),Me[He.date].push(He)}p({week:O,dayEntries:K,projectEntries:me,costEntries:fe,expenseEntries:Me});const X={};let ze=!1;Object.keys(K).forEach(Se=>{X[Se]=!1}),Object.keys(K).forEach(Se=>{const Be=K[Se];!ze&&(Be!=null&&Be.time_in||Be!=null&&Be.time_out||(Be==null?void 0:Be.status)!=="active")&&(X[Se]=!0,ze=!0)}),J(X)}catch(z){console.error("Error loading week data:",z)}finally{H(!1)}}},Ia=async()=>{if(!o||he||F)return;const z=[];if(z.length>0){alert(`Please complete the following required information:

${z.join(`
`)}`);return}R(!0);try{if(!await a())throw new Error("Authentication session expired. Please log in again.");let K=l.week;if(!K){const{data:me,error:fe}=await de.from("weeks").insert({user_id:o.id,week_start:ve,status:"draft"}).select().single();if(fe)throw fe;K=me,p(Me=>({...Me,week:K}))}for(const[me,fe]of Object.entries(l.dayEntries))if(fe.time_in||fe.time_out||fe.status!=="active")if(fe.id){const X=la(fe),{error:ze}=await de.from("day_entries").update({time_in:fe.time_in,time_out:fe.time_out,status:fe.status,allowance_amount:X,office:fe.office,city:fe.city,country:fe.country}).eq("id",fe.id);if(ze)throw ze;p(Se=>({...Se,dayEntries:{...Se.dayEntries,[me]:{...fe,allowance_amount:X}}}))}else{const X=la(fe),{data:ze,error:Se}=await de.from("day_entries").insert({week_id:K.id,date:me,time_in:fe.time_in,time_out:fe.time_out,status:fe.status||"active",allowance_amount:X,office:fe.office,city:fe.city,country:fe.country}).select().single();if(Se)throw Se;p(Be=>({...Be,dayEntries:{...Be.dayEntries,[me]:ze}}))}console.log("Timesheet saved successfully")}catch(O){console.error("Error saving timesheet:",O)}finally{R(!1)}},lt=(z,O,K)=>{p(me=>({...me,dayEntries:{...me.dayEntries,[z]:{...me.dayEntries[z]||{id:"",week_id:"",date:z,time_in:null,time_out:null,status:"active",allowance_amount:0,office:null,city:null,country:null,created_at:"",updated_at:""},[O]:K}}})),O==="status"&&p(K==="day_off"||K==="vacation"||K==="weekend_bank_holiday"?me=>({...me,dayEntries:{...me.dayEntries,[z]:{...me.dayEntries[z],status:K,time_in:null,time_out:null,allowance_amount:0,office:null,city:null,country:null}}}):me=>{var Me;return((Me=me.dayEntries[z])==null?void 0:Me.status)==="travel"&&K!=="travel"?{...me,dayEntries:{...me.dayEntries,[z]:{...me.dayEntries[z],status:K,office:null,city:null,country:null}}}:me})},ss=z=>{J(O=>{if(O[z])return{...O,[z]:!1};{const me={};return pe.forEach(fe=>{const Me=je(fe,"yyyy-MM-dd");me[Me]=!1}),me[z]=!0,me}})},Yn=z=>{c(O=>z==="prev"?Ro(O,-7):Ro(O,7))},Xn=z=>{if(!he){if(z==="weekdays"&&eo(),z==="yesterday"){const O=Ro(r,-1);je(O,"yyyy-MM-dd"),pe.slice(0,5).forEach(K=>{const me=je(K,"yyyy-MM-dd");is(me)})}if(z==="lastWeek"){const O=Ro(r,-7);pe.forEach((K,me)=>{const fe=je(K,"yyyy-MM-dd"),Me=Ro(O,me);je(Me,"yyyy-MM-dd"),lt(fe,"time_in","08:00"),lt(fe,"time_out","18:00"),lt(fe,"status","active"),J(X=>({...X,[fe]:!0}))}),setTimeout(()=>{Ia()},500)}}},Zn=(z,O)=>{Ce(z),et(O||null),U(!0)},ma=(z,O)=>{Ce(z),ee(O||null),ye(!0)},Jt=()=>{U(!1),ye(!1),Ce(""),et(null),ee(null)},rs=async z=>{if(!(!o||!we))try{if(ot){const O=l.dayEntries[we];if(!(O!=null&&O.id))return;const{error:K}=await de.from("project_entries").update(z).eq("id",ot);if(K)throw K}else{const{data:O,error:K}=await de.functions.invoke("create-project-entry",{body:{date:we,projectData:z}});if(K)throw console.error("Edge function error:",K),new Error("Failed to create project entry");if(!O.success)throw console.error("Project creation failed:",O.error),new Error(O.error||"Failed to create project entry")}te(O=>({...O,lastLocation:z.location,recentProjects:[z.project_id,...O.recentProjects.filter(K=>K!==z.project_id)].slice(0,5),projectDefaults:new Map([...O.projectDefaults,[z.project_id,{location:z.location,man_days:z.man_days,travel_chargeable:z.travel_chargeable}]])})),await Ht(),Jt()}catch(O){console.error("Error saving project entry:",O),alert("Failed to save project entry. Please try again.")}},xr=async z=>{if(o)try{if(!await a())throw new Error("Authentication session expired. Please log in again.");if(Ee){const{error:K}=await de.from("expense_entries").update({project_id:z.project_id,expense_type:z.expense_type,date:z.date,description:z.description||null,gross_amount:z.gross_amount,vat_percentage:z.vat_percentage,vat_amount:z.gross_amount-z.gross_amount/(1+z.vat_percentage/100),net_amount:z.gross_amount/(1+z.vat_percentage/100),distance_km:z.distance_km||null,rate_per_km:z.rate_per_km||null}).eq("id",Ee);if(K)throw K}else{const{data:K,error:me}=await de.functions.invoke("create-expense-entry",{body:z});if(me)throw console.error("Edge function error:",me),new Error("Failed to create expense entry");if(!K.success)throw console.error("Expense creation failed:",K.error),new Error(K.error||"Failed to create expense entry")}await Ht(),Jt()}catch(O){console.error("Error saving expense entry:",O),alert(`Failed to save expense entry: ${O.message||"Please try again."}`)}},hr=async z=>{try{const{error:O}=await de.from("project_entries").delete().eq("id",z);if(O)throw O;await Ht()}catch(O){console.error("Error deleting project entry:",O)}},fr=async z=>{try{const{error:O}=await de.from("cost_entries").delete().eq("id",z);if(O)throw O;await Ht()}catch(O){console.error("Error deleting cost entry:",O)}},gr=async z=>{try{const{error:O}=await de.from("expense_entries").delete().eq("id",z);if(O)throw O;await Ht()}catch(O){console.error("Error deleting expense entry:",O)}},is=z=>{const O=new Date(z),K=new Date(O);K.setDate(O.getDate()-1);const me=je(K,"yyyy-MM-dd"),fe=l.dayEntries[me];fe&&(lt(z,"time_in",fe.time_in),lt(z,"time_out",fe.time_out),J(Me=>({...Me,[z]:!0})))},eo=()=>{pe.slice(0,5).forEach(z=>{const O=je(z,"yyyy-MM-dd");lt(O,"time_in","08:00"),lt(O,"time_out","18:00"),lt(O,"status","active"),lt(O,"work_from",oe.lastCity||"Office"),lt(O,"city",oe.lastCity),lt(O,"country",oe.lastCountry),J(K=>({...K,[O]:!0}))}),setTimeout(()=>{Ia()},500)},cs=z=>{const O=l.dayEntries[z];return(O==null?void 0:O.status)==="day_off"||(O==null?void 0:O.status)==="vacation"||(O==null?void 0:O.status)==="weekend_bank_holiday"},wn=async()=>{if(l.week)try{await de.from("weeks").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("id",l.week.id),Ht()}catch(z){console.error("Error submitting week:",z)}};return i.jsx("div",{className:"space-y-8","data-matrix-id":"src/pages/TimesheetPage.tsx:1018:4","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1018","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-8%22%7D",children:i.jsxs("div",{className:"max-w-7xl mx-auto","data-matrix-id":"src/pages/TimesheetPage.tsx:1019:6","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1019","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-7xl%20mx-auto%22%7D",children:[i.jsxs("div",{className:ne("flex items-center justify-between mb-6 sm:mb-8",{"flex-col space-y-4":n,"flex-row":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1021:6","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1021","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsxs("div",{className:ne("flex items-center",{"flex-col space-y-3":n,"space-x-6":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1028:8","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1028","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1035:10","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1035","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Yn("prev"),className:"p-2 hover:bg-accent/50 min-h-[44px] min-w-[44px] flex items-center justify-center","data-matrix-id":"src/pages/TimesheetPage.tsx:1036:12","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1036","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-accent%2F50%20min-h-%5B44px%5D%20min-w-%5B44px%5D%20flex%20items-center%20justify-center%22%7D",children:i.jsx(ly,{className:"h-5 w-5","data-matrix-id":"src/pages/TimesheetPage.tsx:1042:14","data-matrix-name":"ChevronLeft","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1042","data-component-file":"TimesheetPage.tsx","data-component-name":"ChevronLeft","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"})}),i.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/TimesheetPage.tsx:1045:12","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1045","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[i.jsxs("h1",{className:ne("font-bold text-foreground tracking-tight",{"text-2xl":n,"text-3xl":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1046:14","data-matrix-name":"h1","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1046","data-component-file":"TimesheetPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:["Week of ",je(r,"MMM d, yyyy")]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1055:14","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1055","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:[je(r,"yyyy"),"  Week ",je(r,"w")]})]}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Yn("next"),className:"p-2 hover:bg-accent/50 min-h-[44px] min-w-[44px] flex items-center justify-center","data-matrix-id":"src/pages/TimesheetPage.tsx:1060:12","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1060","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22p-2%20hover%3Abg-accent%2F50%20min-h-%5B44px%5D%20min-w-%5B44px%5D%20flex%20items-center%20justify-center%22%7D",children:i.jsx(my,{className:"h-5 w-5","data-matrix-id":"src/pages/TimesheetPage.tsx:1066:14","data-matrix-name":"ChevronRight","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1066","data-component-file":"TimesheetPage.tsx","data-component-name":"ChevronRight","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%22%7D"})})]}),l.week&&i.jsx("div",{className:ne("px-3 py-1.5 text-xs font-semibold rounded-full border-2",{"bg-muted/50 text-muted-foreground border-muted":l.week.status==="draft","bg-info/10 text-info border-info/20":l.week.status==="submitted","bg-success/10 text-success border-success/20":l.week.status==="approved","bg-destructive/10 text-destructive border-destructive/20":l.week.status==="rejected"}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1071:12","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1071","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:l.week.status.charAt(0).toUpperCase()+l.week.status.slice(1)})]}),i.jsx("div",{className:ne("flex items-center",{"flex-col space-y-3 w-full":n,"space-x-3":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1085:8","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1085","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:!he&&i.jsxs(i.Fragment,{children:[i.jsx(le,{variant:"secondary",size:"sm",onClick:()=>Xn("weekdays"),icon:i.jsx(dr,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1098:22","data-matrix-name":"Clock","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1098","data-component-file":"TimesheetPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:ne("shadow-sm",{"w-full":n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1094:14","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1094","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22secondary%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:"Mon-Fri 8-18"}),i.jsxs(le,{variant:"outline",size:"sm",onClick:()=>W(!k),className:ne("shadow-sm",{"w-full":n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1109:14","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1109","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx(py,{className:"h-4 w-4 mr-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1120:16","data-matrix-name":"Copy","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1120","data-component-file":"TimesheetPage.tsx","data-component-name":"Copy","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20mr-1%22%7D"}),"Quick Fill"]}),k&&i.jsxs("div",{className:ne("flex",{"flex-col space-y-2 w-full":n,"space-x-2":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1125:16","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1125","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Xn("yesterday"),className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1132:18","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1132","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Copy Yesterday"}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>Xn("lastWeek"),className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1140:18","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1140","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Copy Last Week"})]}),i.jsx(le,{variant:"primary",onClick:Ia,loading:A,disabled:he||F,icon:i.jsx(Ji,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1156:22","data-matrix-name":"Save","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1156","data-component-file":"TimesheetPage.tsx","data-component-name":"Save","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:ne("shadow-lg",{"w-full":n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1151:14","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1151","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22primary%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:A?"Saving...":"Save"}),((ls=l.week)==null?void 0:ls.status)==="draft"&&i.jsx(le,{variant:"success",onClick:wn,className:ne("shadow-lg",{"w-full":n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1168:16","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1168","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22success%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:"Submit Week"})]})})]}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/TimesheetPage.tsx:1187:6","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1187","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:i.jsx("div",{className:"p-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1188:8","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1188","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-4%22%7D",children:F?i.jsx("div",{className:"text-center py-12","data-matrix-id":"src/pages/TimesheetPage.tsx:1190:12","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1190","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%20py-12%22%7D",children:i.jsxs("div",{className:"inline-flex items-center space-x-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1191:14","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1191","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent","data-matrix-id":"src/pages/TimesheetPage.tsx:1192:16","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1192","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%22%7D"}),i.jsx("p",{className:"text-muted-foreground font-medium","data-matrix-id":"src/pages/TimesheetPage.tsx:1193:16","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1193","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20font-medium%22%7D",children:"Loading timesheet..."})]})}):i.jsx("div",{className:"space-y-2","data-matrix-id":"src/pages/TimesheetPage.tsx:1197:12","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1197","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:pe.map(z=>{const O=je(z,"yyyy-MM-dd"),K=l.dayEntries[O],me=$[O],fe=K&&(K.time_in||K.time_out),Me=z.getDay()===0||z.getDay()===6;return i.jsxs("div",{className:ne("border rounded-lg overflow-hidden transition-all duration-200",{"border-border bg-card":!Me,"border-muted bg-muted/30":Me,"shadow-md":me,"hover:shadow-sm":!me}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1206:18","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1206","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx("div",{className:"px-3 py-2 cursor-pointer hover:bg-accent/30 transition-colors duration-200 active:bg-accent/50 interactive",onClick:()=>ss(O),role:"button",tabIndex:0,onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),ss(O))},"data-matrix-id":"src/pages/TimesheetPage.tsx:1215:20","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1215","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-3%20py-2%20cursor-pointer%20hover%3Abg-accent%2F30%20transition-colors%20duration-200%20active%3Abg-accent%2F50%20interactive%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22role%22%3A%22button%22%2C%22tabIndex%22%3A0%2C%22onKeyDown%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:i.jsxs("div",{className:ne("flex items-center",{"flex-col space-y-2":n,"justify-between":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1227:22","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1227","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsxs("div",{className:ne("flex items-center",{"flex-col space-y-2 w-full":n,"space-x-4":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1234:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1234","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsxs("div",{className:ne("flex-shrink-0",{"text-center":n,"w-16":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1241:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1241","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx("div",{className:ne("font-semibold text-sm",{"text-foreground":!Me,"text-muted-foreground":Me}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1248:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1248","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:je(z,"EEE")}),i.jsx("div",{className:ne("text-xs",{"text-muted-foreground":!Me,"text-muted-foreground/70":Me}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1257:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1257","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:je(z,"MMM d")})]}),i.jsx("div",{className:ne("flex items-center",{"flex-col space-y-2 w-full":n,"space-x-3":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1268:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1268","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:i.jsxs("div",{className:ne("flex items-center",{"flex-col space-y-1 w-full":n,"space-x-3":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1275:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1275","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsxs("div",{className:ne("flex items-center",{"space-x-2 w-full justify-center":n,"space-x-2":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1282:30","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1282","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx(Te,{type:"time",value:(K==null?void 0:K.time_in)||"",onChange:X=>{lt(O,"time_in",X.target.value),X.target.value&&!me&&J(ze=>{const Se={};return pe.forEach(Be=>{const He=je(Be,"yyyy-MM-dd");Se[He]=He===O}),Se})},className:ne("premium-focus",{"flex-1":n,"w-20":!n}),disabled:he||cs(O),onClick:X=>X.stopPropagation(),label:n?"Start":void 0,variant:n?"floating":"default","data-matrix-id":"src/pages/TimesheetPage.tsx:1289:32","data-matrix-name":"Input","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1289","data-component-file":"TimesheetPage.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22time%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22variant%22%3A%22%5BConditionalExpression%5D%22%7D"}),i.jsx("span",{className:"text-muted-foreground font-medium text-sm","data-matrix-id":"src/pages/TimesheetPage.tsx:1318:32","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1318","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20font-medium%20text-sm%22%7D",children:"to"}),i.jsx(Te,{type:"time",value:(K==null?void 0:K.time_out)||"",onChange:X=>{lt(O,"time_out",X.target.value),X.target.value&&!me&&J(ze=>{const Se={};return pe.forEach(Be=>{const He=je(Be,"yyyy-MM-dd");Se[He]=He===O}),Se})},className:ne("premium-focus",{"flex-1":n,"w-20":!n}),disabled:he||cs(O),onClick:X=>X.stopPropagation(),label:n?"End":void 0,variant:n?"floating":"default","data-matrix-id":"src/pages/TimesheetPage.tsx:1319:32","data-matrix-name":"Input","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1319","data-component-file":"TimesheetPage.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22time%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BLogicalExpression%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22variant%22%3A%22%5BConditionalExpression%5D%22%7D"})]}),i.jsx(Ze,{value:(K==null?void 0:K.status)||"active",onChange:X=>{lt(O,"status",X.target.value),me||J(ze=>{const Se={};return pe.forEach(Be=>{const He=je(Be,"yyyy-MM-dd");Se[He]=He===O}),Se})},className:ne("premium-focus",{"w-full":n,"w-32":!n}),disabled:he,onClick:X=>X.stopPropagation(),options:[{value:"active",label:"Active"},{value:"day_off",label:"Day Off"},{value:"vacation",label:"Vacation"},{value:"travel",label:"Travel"},{value:"weekend_bank_holiday",label:"Weekend / Bank Holiday"}],label:n?"Status":void 0,variant:n?"floating":"default","data-matrix-id":"src/pages/TimesheetPage.tsx:1350:30","data-matrix-name":"Select","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1350","data-component-file":"TimesheetPage.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%2C%22label%22%3A%22%5BConditionalExpression%5D%22%2C%22variant%22%3A%22%5BConditionalExpression%5D%22%7D"})]})})]}),(K==null?void 0:K.status)==="travel"&&i.jsx(tP,{dateStr:O,office:K==null?void 0:K.office,city:K==null?void 0:K.city,country:K==null?void 0:K.country,countries:g,citySuggestions:f,isMobile:n,isReadOnly:he,onChange:(X,ze)=>lt(O,X,ze),"data-matrix-id":"src/pages/TimesheetPage.tsx:1391:26","data-matrix-name":"TravelFields","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1391","data-component-file":"TimesheetPage.tsx","data-component-name":"TravelFields","data-component-content":"%7B%22dateStr%22%3A%22%5BIdentifier%5D%22%2C%22office%22%3A%22%5BOptionalMemberExpression%5D%22%2C%22city%22%3A%22%5BOptionalMemberExpression%5D%22%2C%22country%22%3A%22%5BOptionalMemberExpression%5D%22%2C%22countries%22%3A%22%5BIdentifier%5D%22%2C%22citySuggestions%22%3A%22%5BIdentifier%5D%22%2C%22isMobile%22%3A%22%5BIdentifier%5D%22%2C%22isReadOnly%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%7D"}),i.jsxs("div",{className:ne("flex items-center",{"justify-center space-x-3 mt-1":n,"space-x-3":!n}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1404:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1404","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[fe&&i.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/TimesheetPage.tsx:1412:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1412","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[i.jsx("span",{className:"text-xs font-semibold text-primary","data-matrix-id":"src/pages/TimesheetPage.tsx:1413:30","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1413","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%20font-semibold%20text-primary%22%7D",children:((ze,Se)=>{if(!ze||!Se)return"0h";try{const Be=Pr=>{if(typeof Pr!="string")return"00:00";const pa=Pr.trim();return pa.match(/^\d{1,2}:\d{2}$/)?pa:pa.match(/^\d{1,2}:\d{2}:\d{2}$/)?pa.slice(0,5):"00:00"},He=Be(ze),Cn=Be(Se),bn=new Date(`1970-01-01T${He}:00`),Oa=new Date(`1970-01-01T${Cn}:00`);if(isNaN(bn.getTime())||isNaN(Oa.getTime()))return"0h";let Nn=Oa.getTime()-bn.getTime();Nn<0&&(Nn+=864e5);const Fa=Nn/(1e3*60*60);return Fa>0?`${Fa.toFixed(1)}h`:"0h"}catch(Be){return console.error("Error calculating hours:",Be),"0h"}})(K==null?void 0:K.time_in,K==null?void 0:K.time_out)}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1459:30","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1459","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"hours"})]}),i.jsx("div",{className:ne("transition-transform duration-200 min-h-[32px] min-w-[32px] flex items-center justify-center",{"rotate-180":me}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1462:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1462","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:i.jsx(cr,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1468:28","data-matrix-name":"ChevronDown","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1468","data-component-file":"TimesheetPage.tsx","data-component-name":"ChevronDown","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"})})]})]})}),me&&i.jsxs("div",{className:"border-t border-border/50 bg-card/50 p-4 space-y-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1476:22","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1476","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-t%20border-border%2F50%20bg-card%2F50%20p-4%20space-y-4%22%7D",children:[i.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1478:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1478","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/TimesheetPage.tsx:1479:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1479","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetPage.tsx:1480:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1480","data-component-file":"TimesheetPage.tsx","data-component-name":"div",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1481:30","data-matrix-name":"h4","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1481","data-component-file":"TimesheetPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-foreground%22%7D",children:"Project Work"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1482:30","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1482","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Track your project activities for this day"})]}),!he&&i.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/TimesheetPage.tsx:1485:30","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1485","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[i.jsxs(le,{size:"sm",variant:"outline",className:"interactive h-8 px-3 text-xs",onClick:()=>Zn(O),"data-matrix-id":"src/pages/TimesheetPage.tsx:1486:32","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1486","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22className%22%3A%22interactive%20h-8%20px-3%20text-xs%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1492:34","data-matrix-name":"Plus","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1492","data-component-file":"TimesheetPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Add Project"]}),i.jsxs(le,{size:"sm",variant:"outline",className:"interactive h-8 px-3 text-xs",onClick:()=>ma(O),"data-matrix-id":"src/pages/TimesheetPage.tsx:1495:32","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1495","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22className%22%3A%22interactive%20h-8%20px-3%20text-xs%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1501:34","data-matrix-name":"Plus","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1501","data-component-file":"TimesheetPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Add Expense"]})]})]}),l.projectEntries[O]&&l.projectEntries[O].length>0?i.jsx("div",{className:"space-y-2","data-matrix-id":"src/pages/TimesheetPage.tsx:1510:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1510","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:l.projectEntries[O].map(X=>{const ze=x.find(Se=>Se.id===X.project_id);return i.jsx("div",{className:"bg-card border border-border rounded-lg p-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1514:34","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1514","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border%20border-border%20rounded-lg%20p-3%22%7D",children:i.jsxs("div",{className:"flex items-start justify-between","data-matrix-id":"src/pages/TimesheetPage.tsx:1515:36","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1515","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%22%7D",children:[i.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1516:38","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1516","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1517:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1517","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20mb-1%22%7D",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1518:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1518","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-foreground%22%7D",children:(ze==null?void 0:ze.name)||"Unknown Project"}),i.jsx("span",{className:ne("px-2 py-1 text-xs rounded-full font-medium",{"bg-blue-100 text-blue-800":X.location==="remote","bg-orange-100 text-orange-800":X.location==="onsite"}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1521:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1521","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:X.location==="remote"?"Remote":"On-site"}),X.travel_chargeable&&i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium","data-matrix-id":"src/pages/TimesheetPage.tsx:1531:44","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1531","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-2%20py-1%20text-xs%20rounded-full%20bg-green-100%20text-green-800%20font-medium%22%7D",children:"Travel Billable"})]}),i.jsx("div",{className:"text-sm text-muted-foreground mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1536:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1536","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mb-1%22%7D",children:i.jsxs("span",{className:"font-medium","data-matrix-id":"src/pages/TimesheetPage.tsx:1537:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1537","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:[X.man_days," man-days"]})}),X.description&&i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1540:42","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1540","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:X.description})]}),!he&&i.jsxs("div",{className:"flex items-center space-x-2 ml-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1544:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1544","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20ml-4%22%7D",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>Zn(O,X.id),className:"text-muted-foreground hover:text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1545:42","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1545","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-foreground%22%7D",children:"Edit"}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>hr(X.id),className:"text-muted-foreground hover:text-destructive","data-matrix-id":"src/pages/TimesheetPage.tsx:1553:42","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1553","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-destructive%22%7D",children:i.jsx(tr,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1559:44","data-matrix-name":"Trash2","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1559","data-component-file":"TimesheetPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})})]})]})},X.id)})}):i.jsx("div",{className:"bg-muted/30 rounded-lg p-6 text-center border border-dashed border-muted","data-matrix-id":"src/pages/TimesheetPage.tsx:1569:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1569","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-6%20text-center%20border%20border-dashed%20border-muted%22%7D",children:i.jsxs("div",{className:"text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1570:30","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1570","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:[i.jsx(Hi,{className:"h-8 w-8 mx-auto mb-2 opacity-50","data-matrix-id":"src/pages/TimesheetPage.tsx:1571:32","data-matrix-name":"BarChart3","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1571","data-component-file":"TimesheetPage.tsx","data-component-name":"BarChart3","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20mx-auto%20mb-2%20opacity-50%22%7D"}),i.jsx("p",{className:"text-sm font-medium mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1572:32","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1572","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20mb-1%22%7D",children:"No project entries yet"}),i.jsx("p",{className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1573:32","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1573","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:'Click "Add Project" to start tracking your work'})]})})]}),i.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1580:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1580","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/TimesheetPage.tsx:1581:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1581","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetPage.tsx:1582:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1582","data-component-file":"TimesheetPage.tsx","data-component-name":"div",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1583:30","data-matrix-name":"h4","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1583","data-component-file":"TimesheetPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-foreground%22%7D",children:"Travel & Expenses"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1584:30","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1584","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Log your business expenses for this day"})]}),!he&&i.jsxs(le,{size:"sm",variant:"outline",className:"interactive h-8 px-3 text-xs",onClick:()=>ma(O),"data-matrix-id":"src/pages/TimesheetPage.tsx:1587:30","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1587","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22className%22%3A%22interactive%20h-8%20px-3%20text-xs%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:[i.jsx(Gn,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1593:32","data-matrix-name":"Plus","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1593","data-component-file":"TimesheetPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Add Expense"]})]}),l.costEntries[O]&&l.costEntries[O].length>0?i.jsx("div",{className:"space-y-2","data-matrix-id":"src/pages/TimesheetPage.tsx:1601:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1601","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:l.costEntries[O].map(X=>i.jsx("div",{className:"bg-card border border-border rounded-lg p-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1603:32","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1603","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border%20border-border%20rounded-lg%20p-3%22%7D",children:i.jsxs("div",{className:"flex items-start justify-between","data-matrix-id":"src/pages/TimesheetPage.tsx:1604:34","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1604","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%22%7D",children:[i.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1605:36","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1605","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1606:38","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1606","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20mb-1%22%7D",children:[i.jsx("span",{className:ne("px-2 py-1 text-xs rounded-full font-medium capitalize",{"bg-blue-100 text-blue-800":X.type==="car"||X.type==="taxi","bg-purple-100 text-purple-800":X.type==="hotel","bg-green-100 text-green-800":X.type==="meal","bg-gray-100 text-gray-800":X.type==="other"}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1607:40","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1607","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:X.type}),X.chargeable&&i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium","data-matrix-id":"src/pages/TimesheetPage.tsx:1619:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1619","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22px-2%20py-1%20text-xs%20rounded-full%20bg-green-100%20text-green-800%20font-medium%22%7D",children:"Chargeable"})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1624:38","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1624","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%20text-sm%20text-muted-foreground%20mb-1%22%7D",children:[i.jsxs("span",{className:"font-medium","data-matrix-id":"src/pages/TimesheetPage.tsx:1625:40","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1625","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:["$",X.gross_amount.toFixed(2),i.jsxs("span",{className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1627:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1627","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:["(incl. ",X.vat_percentage,"% VAT)"]})]}),X.distance_km&&i.jsxs("span",{"data-matrix-id":"src/pages/TimesheetPage.tsx:1630:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1630","data-component-file":"TimesheetPage.tsx","data-component-name":"span",children:[X.distance_km," km"]})]}),X.notes&&i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1634:40","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1634","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:X.notes})]}),!he&&i.jsxs("div",{className:"flex items-center space-x-2 ml-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1638:38","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1638","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20ml-4%22%7D",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>ma(O,X.id),className:"text-muted-foreground hover:text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1639:40","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1639","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-foreground%22%7D",children:"Edit"}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>fr(X.id),className:"text-muted-foreground hover:text-destructive","data-matrix-id":"src/pages/TimesheetPage.tsx:1647:40","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1647","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-destructive%22%7D",children:i.jsx(tr,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1653:42","data-matrix-name":"Trash2","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1653","data-component-file":"TimesheetPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})})]})]})},X.id))}):i.jsx("div",{className:"bg-muted/30 rounded-lg p-6 text-center border border-dashed border-muted","data-matrix-id":"src/pages/TimesheetPage.tsx:1662:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1662","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-6%20text-center%20border%20border-dashed%20border-muted%22%7D",children:i.jsxs("div",{className:"text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1663:30","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1663","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:[i.jsx(dr,{className:"h-8 w-8 mx-auto mb-2 opacity-50","data-matrix-id":"src/pages/TimesheetPage.tsx:1664:32","data-matrix-name":"Clock","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1664","data-component-file":"TimesheetPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20mx-auto%20mb-2%20opacity-50%22%7D"}),i.jsx("p",{className:"text-sm font-medium mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1665:32","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1665","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20mb-1%22%7D",children:"No expenses recorded"}),i.jsx("p",{className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1666:32","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1666","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:"Add travel costs, meals, or other business expenses"})]})})]}),i.jsxs("div",{className:"space-y-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1673:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1673","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:[i.jsx("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/TimesheetPage.tsx:1674:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1674","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetPage.tsx:1675:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1675","data-component-file":"TimesheetPage.tsx","data-component-name":"div",children:[i.jsx("h4",{className:"text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1676:30","data-matrix-name":"h4","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1676","data-component-file":"TimesheetPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-foreground%22%7D",children:"Expense Entries"}),i.jsx("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1677:30","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1677","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:"Project-specific expenses with intelligent VAT handling"})]})}),l.expenseEntries[O]&&l.expenseEntries[O].length>0?i.jsx("div",{className:"space-y-2","data-matrix-id":"src/pages/TimesheetPage.tsx:1683:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1683","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:l.expenseEntries[O].map(X=>{const ze=x.find(Se=>Se.id===X.project_id);return i.jsx("div",{className:"bg-card border border-border rounded-lg p-3","data-matrix-id":"src/pages/TimesheetPage.tsx:1687:34","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1687","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20border%20border-border%20rounded-lg%20p-3%22%7D",children:i.jsxs("div",{className:"flex items-start justify-between","data-matrix-id":"src/pages/TimesheetPage.tsx:1688:36","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1688","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20justify-between%22%7D",children:[i.jsxs("div",{className:"flex-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1689:38","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1689","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1690:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1690","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20mb-1%22%7D",children:[i.jsx("span",{className:"text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1691:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1691","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%20text-foreground%22%7D",children:(ze==null?void 0:ze.name)||"Unknown Project"}),i.jsx("span",{className:ne("px-2 py-1 text-xs rounded-full font-medium capitalize",{"bg-blue-100 text-blue-800":X.expense_type==="car"||X.expense_type==="taxi","bg-purple-100 text-purple-800":X.expense_type==="hotel","bg-green-100 text-green-800":X.expense_type==="train"||X.expense_type==="onpv","bg-orange-100 text-orange-800":X.expense_type==="flight","bg-gray-100 text-gray-800":["fuel","parking","hospitality","others"].includes(X.expense_type),"bg-yellow-100 text-yellow-800":X.expense_type==="rental_car"}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1694:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1694","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:X.expense_type.replace("_"," ")})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1708:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1708","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%20text-sm%20text-muted-foreground%20mb-1%22%7D",children:[i.jsxs("span",{className:"font-medium","data-matrix-id":"src/pages/TimesheetPage.tsx:1709:42","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1709","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:["",X.gross_amount.toFixed(2),i.jsxs("span",{className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1711:44","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1711","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:["(incl. ",X.vat_percentage,"% VAT)"]})]}),X.distance_km&&i.jsxs("span",{"data-matrix-id":"src/pages/TimesheetPage.tsx:1714:44","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1714","data-component-file":"TimesheetPage.tsx","data-component-name":"span",children:[X.distance_km," km  ",X.rate_per_km,"/km"]})]}),X.description&&i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1718:42","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1718","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:X.description}),i.jsxs("div",{className:"mt-2 text-xs text-muted-foreground bg-muted/30 rounded px-2 py-1 inline-block","data-matrix-id":"src/pages/TimesheetPage.tsx:1720:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1720","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-2%20text-xs%20text-muted-foreground%20bg-muted%2F30%20rounded%20px-2%20py-1%20inline-block%22%7D",children:["Net: ",X.net_amount.toFixed(2)," + VAT: ",X.vat_amount.toFixed(2)]})]}),!he&&i.jsxs("div",{className:"flex items-center space-x-2 ml-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1725:40","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1725","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%20ml-4%22%7D",children:[i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>ma(O,X.id),className:"text-muted-foreground hover:text-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1726:42","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1726","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-foreground%22%7D",children:"Edit"}),i.jsx(le,{size:"sm",variant:"ghost",onClick:()=>gr(X.id),className:"text-muted-foreground hover:text-destructive","data-matrix-id":"src/pages/TimesheetPage.tsx:1734:42","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1734","data-component-file":"TimesheetPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-destructive%22%7D",children:i.jsx(tr,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetPage.tsx:1740:44","data-matrix-name":"Trash2","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1740","data-component-file":"TimesheetPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})})]})]})},X.id)})}):i.jsx("div",{className:"bg-muted/30 rounded-lg p-4 text-center border border-dashed border-muted","data-matrix-id":"src/pages/TimesheetPage.tsx:1750:28","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1750","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%20rounded-lg%20p-4%20text-center%20border%20border-dashed%20border-muted%22%7D",children:i.jsxs("div",{className:"text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1751:30","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1751","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:[i.jsx(Hi,{className:"h-6 w-6 mx-auto mb-2 opacity-50","data-matrix-id":"src/pages/TimesheetPage.tsx:1752:32","data-matrix-name":"BarChart3","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1752","data-component-file":"TimesheetPage.tsx","data-component-name":"BarChart3","data-component-content":"%7B%22className%22%3A%22h-6%20w-6%20mx-auto%20mb-2%20opacity-50%22%7D"}),i.jsx("p",{className:"text-xs font-medium mb-1","data-matrix-id":"src/pages/TimesheetPage.tsx:1753:32","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1753","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20font-medium%20mb-1%22%7D",children:"No project expenses"}),i.jsx("p",{className:"text-xs","data-matrix-id":"src/pages/TimesheetPage.tsx:1754:32","data-matrix-name":"p","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1754","data-component-file":"TimesheetPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:"Add project-specific expenses with smart VAT calculations"})]})})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border/30","data-matrix-id":"src/pages/TimesheetPage.tsx:1761:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1761","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20justify-between%20items-center%20pt-4%20border-t%20border-border%2F30%22%7D",children:[i.jsxs("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1762:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1762","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Daily summary for ",je(z,"EEEE, MMMM d")]}),i.jsxs("div",{className:"text-sm font-semibold","data-matrix-id":"src/pages/TimesheetPage.tsx:1765:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1765","data-component-file":"TimesheetPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20font-semibold%22%7D",children:[i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/pages/TimesheetPage.tsx:1766:28","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1766","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Daily Allowance: "}),i.jsx("span",{className:ne("font-bold",{"text-success":K&&la(K)>0,"text-muted-foreground":!K||la(K)===0}),"data-matrix-id":"src/pages/TimesheetPage.tsx:1767:28","data-matrix-name":"span","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1767","data-component-file":"TimesheetPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:K?`${os(B)}${la(K).toFixed(2)}`:`${os(B)}0.00`})]})]})]})]},O)})})})}),E&&i.jsx(J1,{isOpen:E,onClose:Jt,onSave:rs,projects:x,date:we,editingProject:ot?(yr=l.projectEntries[we])==null?void 0:yr.find(z=>z.id===ot):void 0,smartDefaults:oe,"data-matrix-id":"src/pages/TimesheetPage.tsx:1790:8","data-matrix-name":"ProjectModal","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1790","data-component-file":"TimesheetPage.tsx","data-component-name":"ProjectModal","data-component-content":"%7B%22isOpen%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22onSave%22%3A%22%5BIdentifier%5D%22%2C%22projects%22%3A%22%5BIdentifier%5D%22%2C%22date%22%3A%22%5BIdentifier%5D%22%2C%22editingProject%22%3A%22%5BConditionalExpression%5D%22%2C%22smartDefaults%22%3A%22%5BIdentifier%5D%22%7D"}),Z&&i.jsx(Z1,{isOpen:Z,onClose:Jt,onSave:xr,projects:x,date:we,editingExpense:Ee?(to=l.expenseEntries[we])==null?void 0:to.find(z=>z.id===Ee):void 0,"data-matrix-id":"src/pages/TimesheetPage.tsx:1803:8","data-matrix-name":"ExpenseModal","data-component-path":"src/pages/TimesheetPage.tsx","data-component-line":"1803","data-component-file":"TimesheetPage.tsx","data-component-name":"ExpenseModal","data-component-content":"%7B%22isOpen%22%3A%22%5BIdentifier%5D%22%2C%22onClose%22%3A%22%5BIdentifier%5D%22%2C%22onSave%22%3A%22%5BIdentifier%5D%22%2C%22projects%22%3A%22%5BIdentifier%5D%22%2C%22date%22%3A%22%5BIdentifier%5D%22%2C%22editingExpense%22%3A%22%5BConditionalExpression%5D%22%7D"})]})})}function nP(){var J;const{user:o}=Ra(),[a,n]=_.useState([]),[r,c]=_.useState(!0),[l,p]=_.useState(""),[x,h]=_.useState("all"),[g,y]=_.useState("all"),[f,C]=_.useState(null),[j,N]=_.useState(!1),[B,P]=_.useState(null);_.useEffect(()=>{o&&F()},[o]);const F=async()=>{if(o){c(!0);try{const{data:S,error:I}=await de.from("weeks").select("*").eq("user_id",o.id).order("week_start",{ascending:!1});if(I)throw I;const E=await Promise.all((S||[]).map(async U=>{const{data:Z}=await de.from("day_entries").select("*").eq("week_id",U.id);let ye=0,we=0;return Z&&Z.forEach(Ce=>{if(Ce.time_in&&Ce.time_out){const et=((Ee,ee)=>{try{const oe=he=>{if(typeof he!="string")return"00:00";const be=he.trim();return be.match(/^\d{1,2}:\d{2}$/)?be:be.match(/^\d{1,2}:\d{2}:\d{2}$/)?be.slice(0,5):"00:00"},te=oe(Ee),k=oe(ee),W=new Date(`1970-01-01T${te}:00`),pe=new Date(`1970-01-01T${k}:00`);if(isNaN(W.getTime())||isNaN(pe.getTime()))return 0;let ve=pe.getTime()-W.getTime();return ve<0&&(ve+=864e5),ve/36e5}catch(oe){return console.error("Error calculating hours:",oe),0}})(Ce.time_in,Ce.time_out);ye+=et,we+=1}}),{...U,total_hours:ye,total_days:we}}));n(E)}catch(S){console.error("Error loading timesheet history:",S)}finally{c(!1)}}},H=async S=>{try{const{data:I}=await de.from("day_entries").select(`
          *,
          project_entries (*),
          cost_entries (*)
        `).eq("week_id",S.id).order("date");P(I),C(S),N(!0)}catch(I){console.error("Error loading week details:",I)}},A=S=>{switch(S){case"draft":return i.jsx(Jo,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:143:15","data-matrix-name":"AlertCircle","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"143","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"});case"submitted":return i.jsx(dr,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:145:15","data-matrix-name":"Clock","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"145","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"});case"approved":return i.jsx(Sl,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:147:15","data-matrix-name":"CheckCircle","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"147","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"});case"rejected":return i.jsx($i,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:149:15","data-matrix-name":"XCircle","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"149","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"XCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"});default:return i.jsx(Jo,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:151:15","data-matrix-name":"AlertCircle","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"151","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"})}},R=S=>{switch(S){case"draft":return"bg-muted/50 text-muted-foreground border-muted";case"submitted":return"bg-info/10 text-info border-info/20";case"approved":return"bg-success/10 text-success border-success/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground border-muted"}},$=a.filter(S=>{const I=je(_t(S.week_start),"MMM d, yyyy").toLowerCase().includes(l.toLowerCase()),E=x==="all"||S.status===x;let U=!0;if(g!=="all"){const Z=_t(S.week_start),ye=new Date;switch(g){case"current_month":U=Z.getMonth()===ye.getMonth()&&Z.getFullYear()===ye.getFullYear();break;case"last_month":const we=new Date(ye.getFullYear(),ye.getMonth()-1);U=Z.getMonth()===we.getMonth()&&Z.getFullYear()===we.getFullYear();break;case"last_3_months":const Ce=new Date(ye.getFullYear(),ye.getMonth()-3);U=Z>=Ce;break}}return I&&E&&U});return i.jsxs("div",{className:"space-y-8","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:198:4","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"198","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-8%22%7D",children:[i.jsx("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:200:6","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"200","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:201:8","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"201","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:202:10","data-matrix-name":"h1","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"202","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20tracking-tight%22%7D",children:"Timesheet History"}),i.jsx("p",{className:"text-muted-foreground mt-1","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:205:10","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"205","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-1%22%7D",children:"View your submitted timesheets and their approval status"})]})}),i.jsx("div",{className:"modern-card glass-card p-6","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:212:6","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"212","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20p-6%22%7D",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:213:8","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"213","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20md%3Agrid-cols-3%20gap-4%22%7D",children:[i.jsx(Te,{placeholder:"Search by week...",value:l,onChange:S=>p(S.target.value),icon:i.jsx(Yi,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:218:18","data-matrix-name":"Search","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"218","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:214:10","data-matrix-name":"Input","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"214","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20by%20week...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ze,{value:x,onChange:S=>h(S.target.value),options:[{value:"all",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"submitted",label:"Submitted"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:221:10","data-matrix-name":"Select","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"221","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"}),i.jsx(Ze,{value:g,onChange:S=>y(S.target.value),options:[{value:"all",label:"All Time"},{value:"current_month",label:"Current Month"},{value:"last_month",label:"Last Month"},{value:"last_3_months",label:"Last 3 Months"}],"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:233:10","data-matrix-name":"Select","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"233","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"})]})}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:247:6","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"247","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:r?i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:249:10","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"249","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:250:12","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"250","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%20mx-auto%22%7D"}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:251:12","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"251","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Loading timesheet history..."})]}):i.jsxs("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:254:10","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"254","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:[i.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:255:12","data-matrix-name":"table","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"255","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[i.jsx("thead",{className:"bg-accent/50","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:256:14","data-matrix-name":"thead","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"256","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-accent%2F50%22%7D",children:i.jsxs("tr",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:257:16","data-matrix-name":"tr","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"257","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"tr",children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:258:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"258","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Week"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:259:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"259","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Total Hours"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:260:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"260","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Days Worked"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:261:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"261","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:262:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"262","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Submitted"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:263:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"263","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Comments"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:264:18","data-matrix-name":"th","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"264","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:267:14","data-matrix-name":"tbody","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"267","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-border%22%7D",children:$.map(S=>{var I;return i.jsxs("tr",{className:"hover:bg-accent/20 transition-colors","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:269:18","data-matrix-name":"tr","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"269","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22hover%3Abg-accent%2F20%20transition-colors%22%7D",children:[i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:270:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"270","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:271:22","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"271","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[i.jsx(ru,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:272:24","data-matrix-name":"Calendar","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"272","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Calendar","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"}),i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:273:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"273","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:274:26","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"274","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:je(_t(S.week_start),"MMM d, yyyy")}),i.jsxs("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:277:26","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"277","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Week ",je(_t(S.week_start),"w")]})]})]})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:283:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"283","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("span",{className:"font-medium text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:284:22","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"284","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:[((I=S.total_hours)==null?void 0:I.toFixed(1))||"0"," hours"]})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:288:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"288","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("span",{className:"text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:289:22","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"289","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-foreground%22%7D",children:[S.total_days||0," days"]})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:293:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"293","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:294:22","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"294","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:i.jsxs("span",{className:ne("flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border-2",R(S.status)),"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:295:24","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"295","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[A(S.status),i.jsx("span",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:300:26","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"300","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span",children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})]})})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:304:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"304","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:S.submitted_at?i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:306:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"306","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:307:26","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"307","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-foreground%22%7D",children:je(_t(S.submitted_at),"MMM d, yyyy")}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:310:26","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"310","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:je(_t(S.submitted_at),"h:mm a")})]}):i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:315:24","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"315","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Not submitted"})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:318:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"318","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:S.rejection_reason?i.jsx("div",{className:"max-w-xs","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:320:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"320","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22max-w-xs%22%7D",children:i.jsx("p",{className:"text-sm text-destructive truncate",title:S.rejection_reason,"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:321:26","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"321","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%20truncate%22%2C%22title%22%3A%22%5BMemberExpression%5D%22%7D",children:S.rejection_reason})}):i.jsx("span",{className:"text-muted-foreground text-sm","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:326:24","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"326","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%22%7D",children:"No comments"})}),i.jsx("td",{className:"px-6 py-4 text-right","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:329:20","data-matrix-name":"td","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"329","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%22%7D",children:i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>H(S),icon:i.jsx(uy,{className:"h-4 w-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:334:30","data-matrix-name":"Eye","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"334","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Eye","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:330:22","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"330","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"View Details"})})]},S.id)})})]}),$.length===0&&i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:344:14","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"344","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx(ru,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:345:16","data-matrix-name":"Calendar","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"345","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Calendar","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20text-muted-foreground%20mx-auto%20mb-4%22%7D"}),i.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:346:16","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"346","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:a.length===0?"No timesheets found":"No timesheets match the current filters"})]})]})}),j&&f&&B&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:357:8","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"357","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:i.jsx("div",{className:"modern-card glass-card w-full max-w-4xl max-h-[80vh] overflow-y-auto","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:358:10","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"358","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20w-full%20max-w-4xl%20max-h-%5B80vh%5D%20overflow-y-auto%22%7D",children:i.jsxs("div",{className:"p-6","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:359:12","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"359","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:360:14","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"360","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20mb-6%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:361:16","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"361","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div",children:[i.jsxs("h2",{className:"text-2xl font-bold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:362:18","data-matrix-name":"h2","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"362","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-2xl%20font-bold%20text-foreground%22%7D",children:["Week of ",je(_t(f.week_start),"MMM d, yyyy")]}),i.jsxs("div",{className:"flex items-center space-x-4 mt-2","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:365:18","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"365","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%20mt-2%22%7D",children:[i.jsxs("span",{className:ne("flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border-2",R(f.status)),"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:366:20","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"366","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[A(f.status),i.jsx("span",{"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:371:22","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"371","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span",children:f.status.charAt(0).toUpperCase()+f.status.slice(1)})]}),i.jsxs("span",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:373:20","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"373","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Total: ",(J=f.total_hours)==null?void 0:J.toFixed(1)," hours"]})]})]}),i.jsx(le,{variant:"ghost",onClick:()=>{N(!1),C(null),P(null)},className:"text-muted-foreground hover:text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:378:16","data-matrix-name":"Button","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"378","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-muted-foreground%20hover%3Atext-foreground%22%7D",children:""})]}),i.jsx("div",{className:"space-y-3","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:392:14","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"392","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%22%7D",children:B.map(S=>{const I=_t(S.date),E=(()=>{if(!S.time_in||!S.time_out)return"0";const Z=((ye,we)=>{try{const Ce=te=>{if(typeof te!="string")return"00:00";const k=te.trim();return k.match(/^\d{1,2}:\d{2}$/)?k:k.match(/^\d{1,2}:\d{2}:\d{2}$/)?k.slice(0,5):"00:00"},ot=Ce(ye),et=Ce(we),Ee=new Date(`1970-01-01T${ot}:00`),ee=new Date(`1970-01-01T${et}:00`);if(isNaN(Ee.getTime())||isNaN(ee.getTime()))return 0;let oe=ee.getTime()-Ee.getTime();return oe<0&&(oe+=24*60*60*1e3),oe/(1e3*60*60)}catch(Ce){return console.error("Error calculating hours:",Ce),0}})(S.time_in,S.time_out);return Z>0?Z.toFixed(1):"0"})();return i.jsx("div",{className:"border border-border rounded-lg p-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:440:20","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"440","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border%20border-border%20rounded-lg%20p-4%22%7D",children:i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:441:22","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"441","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:442:24","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"442","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[i.jsxs("div",{className:"w-20","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:443:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"443","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22w-20%22%7D",children:[i.jsx("p",{className:"font-semibold text-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:444:28","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"444","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-foreground%22%7D",children:je(I,"EEE")}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:445:28","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"445","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:je(I,"MMM d")})]}),i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:447:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"447","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[i.jsxs("span",{className:"text-sm","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:448:28","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"448","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%22%7D",children:[S.time_in||"--:--"," to ",S.time_out||"--:--"]}),i.jsxs("span",{className:"font-medium","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:451:28","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"451","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%22%7D",children:[E," hours"]}),i.jsx("span",{className:ne("px-2 py-1 rounded text-xs",{"bg-success/10 text-success":S.status==="active","bg-info/10 text-info":S.status==="travel","bg-orange-100 text-orange-700":S.status==="vacation","bg-muted text-muted-foreground":S.status==="day_off"}),"data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:452:28","data-matrix-name":"span","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"452","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:S.status.replace("_"," ").toUpperCase()})]})]}),(S.work_from||S.city||S.country)&&i.jsxs("div",{className:"text-right","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:467:26","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"467","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-right%22%7D",children:[i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:468:28","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"468","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:S.work_from&&`Work from: ${S.work_from}`}),(S.city||S.country)&&i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:472:30","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"472","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:[S.city,S.country].filter(Boolean).join(", ")})]})]})},S.id)})}),f.rejection_reason&&i.jsxs("div",{className:"mt-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:486:16","data-matrix-name":"div","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"486","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22mt-6%20p-4%20bg-destructive%2F10%20border%20border-destructive%2F20%20rounded-lg%22%7D",children:[i.jsx("h4",{className:"font-semibold text-destructive mb-2","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:487:18","data-matrix-name":"h4","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"487","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"h4","data-component-content":"%7B%22className%22%3A%22font-semibold%20text-destructive%20mb-2%22%7D",children:"Rejection Comments"}),i.jsx("p",{className:"text-sm text-destructive","data-matrix-id":"src/pages/TimesheetHistoryPage.tsx:488:18","data-matrix-name":"p","data-component-path":"src/pages/TimesheetHistoryPage.tsx","data-component-line":"488","data-component-file":"TimesheetHistoryPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%22%7D",children:f.rejection_reason})]})]})})})]})}function oP(){const[o,a]=_.useState([]),[n,r]=_.useState([]),[c,l]=_.useState(!0),[p,x]=_.useState(""),[h,g]=_.useState("all"),[y,f]=_.useState(!1),[C,j]=_.useState(null),[N,B]=_.useState({name:"",code:"",client_id:"",billing_type:"TNM",hourly_rate:"",budget:"",description:"",active:!0});_.useEffect(()=>{P(),F()},[]);const P=async()=>{l(!0);try{const{data:S,error:I}=await de.from("projects").select(`
          *,
          clients!projects_client_id_fkey(
            id,
            name
          )
        `).order("name");if(I)throw I;a(S||[])}catch(S){console.error("Error loading projects:",S)}finally{l(!1)}},F=async()=>{try{const{data:S,error:I}=await de.from("clients").select("*").eq("active",!0).order("name");if(I)throw I;r(S||[])}catch(S){console.error("Error loading clients:",S)}},H=async S=>{S.preventDefault();try{const I={name:N.name,code:N.code,client_id:N.client_id,billing_type:N.billing_type,hourly_rate:N.hourly_rate?parseFloat(N.hourly_rate):null,budget:N.budget?parseFloat(N.budget):null,description:N.description||null,active:N.active};if(C){const{error:E}=await de.from("projects").update(I).eq("id",C.id);if(E)throw E}else{const{error:E}=await de.from("projects").insert(I);if(E)throw E}$(),P()}catch(I){console.error("Error saving project:",I),alert(I.message||"Error saving project")}},A=S=>{var I,E;j(S),B({name:S.name,code:S.code,client_id:S.client_id||"",billing_type:S.billing_type||"time_and_material",hourly_rate:((I=S.hourly_rate)==null?void 0:I.toString())||"",budget:((E=S.budget_amount)==null?void 0:E.toString())||"",description:"",active:S.active}),f(!0)},R=async S=>{if(confirm(`Are you sure you want to delete project "${S.name}"?`))try{const{error:I}=await de.from("projects").delete().eq("id",S.id);if(I)throw I;P()}catch(I){console.error("Error deleting project:",I),alert(I.message||"Error deleting project")}},$=()=>{B({name:"",code:"",client_id:"",billing_type:"time_and_material",hourly_rate:"",budget:"",description:"",active:!0}),j(null),f(!1)},J=o.filter(S=>{const I=S.name.toLowerCase().includes(p.toLowerCase())||S.code.toLowerCase().includes(p.toLowerCase()),E=h==="all"||h==="active"&&S.active||h==="inactive"&&!S.active;return I&&E});return i.jsxs("div",{className:"space-y-8","data-matrix-id":"src/pages/ProjectsPage.tsx:168:4","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"168","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-8%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/ProjectsPage.tsx:170:6","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"170","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/ProjectsPage.tsx:171:8","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"171","data-component-file":"ProjectsPage.tsx","data-component-name":"div",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight","data-matrix-id":"src/pages/ProjectsPage.tsx:172:10","data-matrix-name":"h1","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"172","data-component-file":"ProjectsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20tracking-tight%22%7D",children:"Projects Management"}),i.jsx("p",{className:"text-muted-foreground mt-1","data-matrix-id":"src/pages/ProjectsPage.tsx:175:10","data-matrix-name":"p","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"175","data-component-file":"ProjectsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-1%22%7D",children:"Manage project codes, billing types, and rates"})]}),i.jsx(le,{onClick:()=>f(!0),icon:i.jsx(Gn,{className:"h-4 w-4","data-matrix-id":"src/pages/ProjectsPage.tsx:181:16","data-matrix-name":"Plus","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"181","data-component-file":"ProjectsPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),variant:"primary",className:"shadow-lg","data-matrix-id":"src/pages/ProjectsPage.tsx:179:8","data-matrix-name":"Button","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"179","data-component-file":"ProjectsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22variant%22%3A%22primary%22%2C%22className%22%3A%22shadow-lg%22%7D",children:"New Project"})]}),i.jsx("div",{className:"modern-card glass-card p-6","data-matrix-id":"src/pages/ProjectsPage.tsx:190:6","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"190","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20p-6%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/ProjectsPage.tsx:191:8","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"191","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[i.jsx("div",{className:"flex-1","data-matrix-id":"src/pages/ProjectsPage.tsx:192:10","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"192","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:i.jsx(Te,{placeholder:"Search projects...",value:p,onChange:S=>x(S.target.value),icon:i.jsx(Yi,{className:"h-4 w-4","data-matrix-id":"src/pages/ProjectsPage.tsx:197:20","data-matrix-name":"Search","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"197","data-component-file":"ProjectsPage.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"max-w-sm","data-matrix-id":"src/pages/ProjectsPage.tsx:193:12","data-matrix-name":"Input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"193","data-component-file":"ProjectsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20projects...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22max-w-sm%22%7D"})}),i.jsx(Ze,{value:h,onChange:S=>g(S.target.value),options:[{value:"all",label:"All Projects"},{value:"active",label:"Active Only"},{value:"inactive",label:"Inactive Only"}],className:"w-40","data-matrix-id":"src/pages/ProjectsPage.tsx:201:10","data-matrix-name":"Select","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"201","data-component-file":"ProjectsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%2C%22className%22%3A%22w-40%22%7D"})]})}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/ProjectsPage.tsx:215:6","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"215","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:c?i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/ProjectsPage.tsx:217:10","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"217","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto","data-matrix-id":"src/pages/ProjectsPage.tsx:218:12","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"218","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%20mx-auto%22%7D"}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/ProjectsPage.tsx:219:12","data-matrix-name":"p","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"219","data-component-file":"ProjectsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Loading projects..."})]}):i.jsxs("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/ProjectsPage.tsx:222:10","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"222","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:[i.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/ProjectsPage.tsx:223:12","data-matrix-name":"table","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"223","data-component-file":"ProjectsPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[i.jsx("thead",{className:"bg-accent/50","data-matrix-id":"src/pages/ProjectsPage.tsx:224:14","data-matrix-name":"thead","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"224","data-component-file":"ProjectsPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-accent%2F50%22%7D",children:i.jsxs("tr",{"data-matrix-id":"src/pages/ProjectsPage.tsx:225:16","data-matrix-name":"tr","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"225","data-component-file":"ProjectsPage.tsx","data-component-name":"tr",children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:226:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"226","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Project"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:227:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"227","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Code"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:228:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"228","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Client"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:229:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"229","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Billing"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:230:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"230","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Rate"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:231:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"231","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:232:18","data-matrix-name":"th","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"232","data-component-file":"ProjectsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border","data-matrix-id":"src/pages/ProjectsPage.tsx:235:14","data-matrix-name":"tbody","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"235","data-component-file":"ProjectsPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-border%22%7D",children:J.map(S=>{var I;return i.jsxs("tr",{className:"hover:bg-accent/20 transition-colors","data-matrix-id":"src/pages/ProjectsPage.tsx:237:18","data-matrix-name":"tr","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"237","data-component-file":"ProjectsPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22hover%3Abg-accent%2F20%20transition-colors%22%7D",children:[i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ProjectsPage.tsx:238:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"238","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("div",{"data-matrix-id":"src/pages/ProjectsPage.tsx:239:22","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"239","data-component-file":"ProjectsPage.tsx","data-component-name":"div",children:i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:240:24","data-matrix-name":"p","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"240","data-component-file":"ProjectsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:S.name})})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ProjectsPage.tsx:243:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"243","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("code",{className:"bg-accent/50 px-2 py-1 rounded text-sm font-mono","data-matrix-id":"src/pages/ProjectsPage.tsx:244:22","data-matrix-name":"code","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"244","data-component-file":"ProjectsPage.tsx","data-component-name":"code","data-component-content":"%7B%22className%22%3A%22bg-accent%2F50%20px-2%20py-1%20rounded%20text-sm%20font-mono%22%7D",children:S.code})}),i.jsx("td",{className:"px-6 py-4 text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:248:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"248","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-foreground%22%7D",children:((I=S.clients)==null?void 0:I.name)||"No Client"}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ProjectsPage.tsx:251:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"251","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("span",{className:ne("px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-700":S.billing_type==="time_and_material","bg-green-100 text-green-700":S.billing_type==="fixed_price"}),"data-matrix-id":"src/pages/ProjectsPage.tsx:252:22","data-matrix-name":"span","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"252","data-component-file":"ProjectsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:S.billing_type==="time_and_material"?"Time & Material":"Fixed Price"})}),i.jsx("td",{className:"px-6 py-4 text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:262:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"262","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-foreground%22%7D",children:S.hourly_rate?`$${S.hourly_rate}/hr`:"Not set"}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ProjectsPage.tsx:265:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"265","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("span",{className:ne("px-2 py-1 rounded-full text-xs font-medium",{"bg-success/10 text-success":S.active,"bg-muted text-muted-foreground":!S.active}),"data-matrix-id":"src/pages/ProjectsPage.tsx:266:22","data-matrix-name":"span","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"266","data-component-file":"ProjectsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:S.active?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 text-right","data-matrix-id":"src/pages/ProjectsPage.tsx:276:20","data-matrix-name":"td","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"276","data-component-file":"ProjectsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%22%7D",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2","data-matrix-id":"src/pages/ProjectsPage.tsx:277:22","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"277","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-2%22%7D",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>A(S),icon:i.jsx(_l,{className:"h-4 w-4","data-matrix-id":"src/pages/ProjectsPage.tsx:282:32","data-matrix-name":"Edit2","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"282","data-component-file":"ProjectsPage.tsx","data-component-name":"Edit2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/ProjectsPage.tsx:278:24","data-matrix-name":"Button","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"278","data-component-file":"ProjectsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"Edit"}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>R(S),icon:i.jsx(tr,{className:"h-4 w-4","data-matrix-id":"src/pages/ProjectsPage.tsx:290:32","data-matrix-name":"Trash2","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"290","data-component-file":"ProjectsPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"text-destructive hover:text-destructive","data-matrix-id":"src/pages/ProjectsPage.tsx:286:24","data-matrix-name":"Button","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"286","data-component-file":"ProjectsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22text-destructive%20hover%3Atext-destructive%22%7D",children:"Delete"})]})})]},S.id)})})]}),J.length===0&&i.jsx("div",{className:"p-8 text-center","data-matrix-id":"src/pages/ProjectsPage.tsx:302:14","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"302","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:i.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:303:16","data-matrix-name":"p","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"303","data-component-file":"ProjectsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"No projects found"})})]})}),y&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/ProjectsPage.tsx:312:8","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"312","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:i.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6","data-matrix-id":"src/pages/ProjectsPage.tsx:313:10","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"313","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20w-full%20max-w-md%20p-6%22%7D",children:[i.jsx("h2",{className:"text-xl font-bold text-foreground mb-6","data-matrix-id":"src/pages/ProjectsPage.tsx:314:12","data-matrix-name":"h2","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"314","data-component-file":"ProjectsPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-6%22%7D",children:C?"Edit Project":"Create New Project"}),i.jsxs("form",{onSubmit:H,className:"space-y-4","data-matrix-id":"src/pages/ProjectsPage.tsx:318:12","data-matrix-name":"form","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"318","data-component-file":"ProjectsPage.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-4%22%7D",children:[i.jsx(Te,{label:"Project Name",value:N.name,onChange:S=>B({...N,name:S.target.value}),required:!0,"data-matrix-id":"src/pages/ProjectsPage.tsx:319:14","data-matrix-name":"Input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"319","data-component-file":"ProjectsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Project%20Name%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%7D"}),i.jsx(Te,{label:"Project Code",value:N.code,onChange:S=>B({...N,code:S.target.value}),required:!0,placeholder:" ","data-matrix-id":"src/pages/ProjectsPage.tsx:326:14","data-matrix-name":"Input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"326","data-component-file":"ProjectsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Project%20Code%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%2C%22placeholder%22%3A%22%20%22%7D"}),i.jsx(Ze,{label:"Client",value:N.client_id,onChange:S=>B({...N,client_id:S.target.value}),options:[{value:"",label:"Select Client"},...n.map(S=>({value:S.id,label:S.name}))],"data-matrix-id":"src/pages/ProjectsPage.tsx:334:14","data-matrix-name":"Select","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"334","data-component-file":"ProjectsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Client%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2Cnull%5D%7D"}),i.jsx(Ze,{label:"Billing Type",value:N.billing_type,onChange:S=>B({...N,billing_type:S.target.value}),options:[{value:"time_and_material",label:"Time & Materials"},{value:"fixed_price",label:"Fixed Price"}],"data-matrix-id":"src/pages/ProjectsPage.tsx:347:14","data-matrix-name":"Select","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"347","data-component-file":"ProjectsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Billing%20Type%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"}),i.jsx(Te,{label:"Hourly Rate",type:"number",step:"0.01",value:N.hourly_rate,onChange:S=>B({...N,hourly_rate:S.target.value}),placeholder:" ","data-matrix-id":"src/pages/ProjectsPage.tsx:357:14","data-matrix-name":"Input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"357","data-component-file":"ProjectsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Hourly%20Rate%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%20%22%7D"}),i.jsx(Te,{label:"Budget",type:"number",step:"0.01",value:N.budget,onChange:S=>B({...N,budget:S.target.value}),placeholder:" ","data-matrix-id":"src/pages/ProjectsPage.tsx:366:14","data-matrix-name":"Input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"366","data-component-file":"ProjectsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Budget%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%20%22%7D"}),i.jsx(Te,{label:"Description",value:N.description,onChange:S=>B({...N,description:S.target.value}),placeholder:" ","data-matrix-id":"src/pages/ProjectsPage.tsx:375:14","data-matrix-name":"Input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"375","data-component-file":"ProjectsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Description%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22%20%22%7D"}),i.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/ProjectsPage.tsx:382:14","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"382","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[i.jsx("input",{type:"checkbox",id:"active",checked:N.active,onChange:S=>B({...N,active:S.target.checked}),className:"rounded border-border","data-matrix-id":"src/pages/ProjectsPage.tsx:383:16","data-matrix-name":"input","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"383","data-component-file":"ProjectsPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22id%22%3A%22active%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22rounded%20border-border%22%7D"}),i.jsx("label",{htmlFor:"active",className:"text-sm text-foreground","data-matrix-id":"src/pages/ProjectsPage.tsx:390:16","data-matrix-name":"label","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"390","data-component-file":"ProjectsPage.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22active%22%2C%22className%22%3A%22text-sm%20text-foreground%22%7D",children:"Active Project"})]}),i.jsxs("div",{className:"flex space-x-3 pt-4","data-matrix-id":"src/pages/ProjectsPage.tsx:395:14","data-matrix-name":"div","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"395","data-component-file":"ProjectsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-3%20pt-4%22%7D",children:[i.jsx(le,{type:"button",variant:"ghost",onClick:$,className:"flex-1","data-matrix-id":"src/pages/ProjectsPage.tsx:396:16","data-matrix-name":"Button","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"396","data-component-file":"ProjectsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%22%7D",children:"Cancel"}),i.jsx(le,{type:"submit",variant:"primary",className:"flex-1","data-matrix-id":"src/pages/ProjectsPage.tsx:404:16","data-matrix-name":"Button","data-component-path":"src/pages/ProjectsPage.tsx","data-component-line":"404","data-component-file":"ProjectsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22variant%22%3A%22primary%22%2C%22className%22%3A%22flex-1%22%7D",children:C?"Update":"Create"})]})]})]})})]})}function sP(){const[o,a]=_.useState([]),[n,r]=_.useState(!0),[c,l]=_.useState(""),[p,x]=_.useState("submitted"),[h,g]=_.useState(!1),[y,f]=_.useState(null),[C,j]=_.useState("");_.useEffect(()=>{N()},[p]);const N=async()=>{r(!0);try{const $=de.from("weeks").select(`
          *,
          users!weeks_user_id_fkey(
            id,
            full_name,
            email
          )
        `).order("submitted_at",{ascending:!1});p!=="all"&&$.eq("status",p);const{data:J,error:S}=await $;if(S)throw S;a(J||[])}catch($){console.error("Error loading weeks:",$)}finally{r(!1)}},B=async $=>{try{const{error:J}=await de.from("weeks").update({status:"approved",approved_at:new Date().toISOString(),rejection_reason:null}).eq("id",$.id);if(J)throw J;N()}catch(J){console.error("Error approving week:",J),alert("Error approving timesheet")}},P=async()=>{if(!y||!C.trim()){alert("Please provide a rejection reason");return}try{const{error:$}=await de.from("weeks").update({status:"rejected",rejection_reason:C.trim()}).eq("id",y.id);if($)throw $;g(!1),f(null),j(""),N()}catch($){console.error("Error rejecting week:",$),alert("Error rejecting timesheet")}},F=$=>{f($),g(!0)},H=()=>{g(!1),f(null),j("")},A=o.filter($=>{const J=c.toLowerCase();return $.users.full_name.toLowerCase().includes(J)||$.users.email.toLowerCase().includes(J)||je(_t($.week_start),"MMM d, yyyy").toLowerCase().includes(J)}),R=$=>{switch($){case"submitted":return"bg-info/10 text-info border-info/20";case"approved":return"bg-success/10 text-success border-success/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground border-muted"}};return i.jsxs("div",{className:"space-y-8","data-matrix-id":"src/pages/ApprovalsPage.tsx:139:4","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"139","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-8%22%7D",children:[i.jsx("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/ApprovalsPage.tsx:141:6","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"141","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:i.jsxs("div",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:142:8","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"142","data-component-file":"ApprovalsPage.tsx","data-component-name":"div",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight","data-matrix-id":"src/pages/ApprovalsPage.tsx:143:10","data-matrix-name":"h1","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"143","data-component-file":"ApprovalsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20tracking-tight%22%7D",children:"Timesheet Approvals"}),i.jsx("p",{className:"text-muted-foreground mt-1","data-matrix-id":"src/pages/ApprovalsPage.tsx:146:10","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"146","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-1%22%7D",children:"Review and approve consultant timesheet submissions"})]})}),i.jsx("div",{className:"modern-card glass-card p-6","data-matrix-id":"src/pages/ApprovalsPage.tsx:153:6","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"153","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20p-6%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:154:8","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"154","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[i.jsx("div",{className:"flex-1","data-matrix-id":"src/pages/ApprovalsPage.tsx:155:10","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"155","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:i.jsx(Te,{placeholder:"Search by consultant name, email, or week...",value:c,onChange:$=>l($.target.value),icon:i.jsx(Yi,{className:"h-4 w-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:160:20","data-matrix-name":"Search","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"160","data-component-file":"ApprovalsPage.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"max-w-sm","data-matrix-id":"src/pages/ApprovalsPage.tsx:156:12","data-matrix-name":"Input","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"156","data-component-file":"ApprovalsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20by%20consultant%20name%2C%20email%2C%20or%20week...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22max-w-sm%22%7D"})}),i.jsx(Ze,{value:p,onChange:$=>x($.target.value),options:[{value:"submitted",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"all",label:"All Statuses"}],className:"w-40","data-matrix-id":"src/pages/ApprovalsPage.tsx:164:10","data-matrix-name":"Select","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"164","data-component-file":"ApprovalsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%2C%22className%22%3A%22w-40%22%7D"})]})}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/ApprovalsPage.tsx:179:6","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"179","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:n?i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/ApprovalsPage.tsx:181:10","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"181","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto","data-matrix-id":"src/pages/ApprovalsPage.tsx:182:12","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"182","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%20mx-auto%22%7D"}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/ApprovalsPage.tsx:183:12","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"183","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Loading timesheets..."})]}):i.jsxs("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/ApprovalsPage.tsx:186:10","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"186","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:[i.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/ApprovalsPage.tsx:187:12","data-matrix-name":"table","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"187","data-component-file":"ApprovalsPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[i.jsx("thead",{className:"bg-accent/50","data-matrix-id":"src/pages/ApprovalsPage.tsx:188:14","data-matrix-name":"thead","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"188","data-component-file":"ApprovalsPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-accent%2F50%22%7D",children:i.jsxs("tr",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:189:16","data-matrix-name":"tr","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"189","data-component-file":"ApprovalsPage.tsx","data-component-name":"tr",children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:190:18","data-matrix-name":"th","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"190","data-component-file":"ApprovalsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Consultant"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:191:18","data-matrix-name":"th","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"191","data-component-file":"ApprovalsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Week"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:192:18","data-matrix-name":"th","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"192","data-component-file":"ApprovalsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Submitted"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:193:18","data-matrix-name":"th","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"193","data-component-file":"ApprovalsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:194:18","data-matrix-name":"th","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"194","data-component-file":"ApprovalsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Comments"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:195:18","data-matrix-name":"th","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"195","data-component-file":"ApprovalsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border","data-matrix-id":"src/pages/ApprovalsPage.tsx:198:14","data-matrix-name":"tbody","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"198","data-component-file":"ApprovalsPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-border%22%7D",children:A.map($=>i.jsxs("tr",{className:"hover:bg-accent/20 transition-colors","data-matrix-id":"src/pages/ApprovalsPage.tsx:200:18","data-matrix-name":"tr","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"200","data-component-file":"ApprovalsPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22hover%3Abg-accent%2F20%20transition-colors%22%7D",children:[i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:201:20","data-matrix-name":"td","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"201","data-component-file":"ApprovalsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("div",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:202:22","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"202","data-component-file":"ApprovalsPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:203:24","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"203","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:$.users.full_name}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:204:24","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"204","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:$.users.email})]})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:207:20","data-matrix-name":"td","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"207","data-component-file":"ApprovalsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("div",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:208:22","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"208","data-component-file":"ApprovalsPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:209:24","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"209","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:je(_t($.week_start),"MMM d, yyyy")}),i.jsxs("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:212:24","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"212","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Week ",je(_t($.week_start),"w")]})]})}),i.jsx("td",{className:"px-6 py-4 text-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:217:20","data-matrix-name":"td","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"217","data-component-file":"ApprovalsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-foreground%22%7D",children:$.submitted_at?i.jsxs("div",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:219:24","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"219","data-component-file":"ApprovalsPage.tsx","data-component-name":"div",children:[i.jsx("p",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:220:26","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"220","data-component-file":"ApprovalsPage.tsx","data-component-name":"p",children:je(_t($.submitted_at),"MMM d, yyyy")}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:221:26","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"221","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:je(_t($.submitted_at),"h:mm a")})]}):"Not submitted"}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:229:20","data-matrix-name":"td","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"229","data-component-file":"ApprovalsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("span",{className:ne("px-3 py-1.5 rounded-full text-xs font-semibold border-2",R($.status)),"data-matrix-id":"src/pages/ApprovalsPage.tsx:230:22","data-matrix-name":"span","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"230","data-component-file":"ApprovalsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:$.status.charAt(0).toUpperCase()+$.status.slice(1)})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:237:20","data-matrix-name":"td","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"237","data-component-file":"ApprovalsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:$.rejection_reason?i.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/ApprovalsPage.tsx:239:24","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"239","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[i.jsx(gy,{className:"h-4 w-4 text-destructive","data-matrix-id":"src/pages/ApprovalsPage.tsx:240:26","data-matrix-name":"MessageCircle","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"240","data-component-file":"ApprovalsPage.tsx","data-component-name":"MessageCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-destructive%22%7D"}),i.jsx("span",{className:"text-sm text-destructive","data-matrix-id":"src/pages/ApprovalsPage.tsx:241:26","data-matrix-name":"span","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"241","data-component-file":"ApprovalsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-sm%20text-destructive%22%7D",children:$.rejection_reason})]}):i.jsx("span",{className:"text-muted-foreground text-sm","data-matrix-id":"src/pages/ApprovalsPage.tsx:244:24","data-matrix-name":"span","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"244","data-component-file":"ApprovalsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%22%7D",children:"No comments"})}),i.jsxs("td",{className:"px-6 py-4 text-right","data-matrix-id":"src/pages/ApprovalsPage.tsx:247:20","data-matrix-name":"td","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"247","data-component-file":"ApprovalsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%22%7D",children:[$.status==="submitted"&&i.jsxs("div",{className:"flex items-center justify-end space-x-2","data-matrix-id":"src/pages/ApprovalsPage.tsx:249:24","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"249","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-2%22%7D",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>B($),icon:i.jsx(Sl,{className:"h-4 w-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:254:34","data-matrix-name":"CheckCircle","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"254","data-component-file":"ApprovalsPage.tsx","data-component-name":"CheckCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"text-success hover:text-success hover:bg-success/10","data-matrix-id":"src/pages/ApprovalsPage.tsx:250:26","data-matrix-name":"Button","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"250","data-component-file":"ApprovalsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22text-success%20hover%3Atext-success%20hover%3Abg-success%2F10%22%7D",children:"Approve"}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>F($),icon:i.jsx($i,{className:"h-4 w-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:263:34","data-matrix-name":"XCircle","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"263","data-component-file":"ApprovalsPage.tsx","data-component-name":"XCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"text-destructive hover:text-destructive hover:bg-destructive/10","data-matrix-id":"src/pages/ApprovalsPage.tsx:259:26","data-matrix-name":"Button","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"259","data-component-file":"ApprovalsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22text-destructive%20hover%3Atext-destructive%20hover%3Abg-destructive%2F10%22%7D",children:"Reject"})]}),$.status==="approved"&&$.approved_at&&i.jsxs("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:271:24","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"271","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Approved ",je(_t($.approved_at),"MMM d, yyyy")]})]})]},$.id))})]}),A.length===0&&i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/ApprovalsPage.tsx:281:14","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"281","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx(dr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:282:16","data-matrix-name":"Clock","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"282","data-component-file":"ApprovalsPage.tsx","data-component-name":"Clock","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20text-muted-foreground%20mx-auto%20mb-4%22%7D"}),i.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/ApprovalsPage.tsx:283:16","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"283","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:p==="submitted"?"No timesheets pending approval":"No timesheets found"})]})]})}),h&&y&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:297:8","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"297","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:i.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6","data-matrix-id":"src/pages/ApprovalsPage.tsx:298:10","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"298","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20w-full%20max-w-md%20p-6%22%7D",children:[i.jsx("h2",{className:"text-xl font-bold text-foreground mb-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:299:12","data-matrix-name":"h2","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"299","data-component-file":"ApprovalsPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-4%22%7D",children:"Reject Timesheet"}),i.jsxs("p",{className:"text-muted-foreground mb-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:302:12","data-matrix-name":"p","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"302","data-component-file":"ApprovalsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-4%22%7D",children:["Rejecting timesheet for ",i.jsx("strong",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:303:38","data-matrix-name":"strong","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"303","data-component-file":"ApprovalsPage.tsx","data-component-name":"strong",children:y.users.full_name})," - Week of ",je(_t(y.week_start),"MMM d, yyyy")]}),i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:307:12","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"307","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/ApprovalsPage.tsx:308:14","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"308","data-component-file":"ApprovalsPage.tsx","data-component-name":"div",children:[i.jsx("label",{className:"block text-sm font-medium text-foreground mb-2","data-matrix-id":"src/pages/ApprovalsPage.tsx:309:16","data-matrix-name":"label","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"309","data-component-file":"ApprovalsPage.tsx","data-component-name":"label","data-component-content":"%7B%22className%22%3A%22block%20text-sm%20font-medium%20text-foreground%20mb-2%22%7D",children:"Rejection Reason *"}),i.jsx("textarea",{value:C,onChange:$=>j($.target.value),placeholder:"Please provide a clear reason for rejection...",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary",rows:4,required:!0,"data-matrix-id":"src/pages/ApprovalsPage.tsx:312:16","data-matrix-name":"textarea","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"312","data-component-file":"ApprovalsPage.tsx","data-component-name":"textarea","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%22Please%20provide%20a%20clear%20reason%20for%20rejection...%22%2C%22className%22%3A%22w-full%20p-3%20border%20border-border%20rounded-lg%20bg-background%20text-foreground%20placeholder-muted-foreground%20focus%3Aring-2%20focus%3Aring-primary%2F20%20focus%3Aborder-primary%22%2C%22rows%22%3A4%2C%22required%22%3Atrue%7D"})]}),i.jsxs("div",{className:"flex space-x-3","data-matrix-id":"src/pages/ApprovalsPage.tsx:322:14","data-matrix-name":"div","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"322","data-component-file":"ApprovalsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-3%22%7D",children:[i.jsx(le,{variant:"ghost",onClick:H,className:"flex-1","data-matrix-id":"src/pages/ApprovalsPage.tsx:323:16","data-matrix-name":"Button","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"323","data-component-file":"ApprovalsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%22%7D",children:"Cancel"}),i.jsx(le,{variant:"danger",onClick:P,disabled:!C.trim(),className:"flex-1",icon:i.jsx($i,{className:"h-4 w-4","data-matrix-id":"src/pages/ApprovalsPage.tsx:335:24","data-matrix-name":"XCircle","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"335","data-component-file":"ApprovalsPage.tsx","data-component-name":"XCircle","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/ApprovalsPage.tsx:330:16","data-matrix-name":"Button","data-component-path":"src/pages/ApprovalsPage.tsx","data-component-line":"330","data-component-file":"ApprovalsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22danger%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BUnaryExpression%5D%22%2C%22className%22%3A%22flex-1%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"Reject"})]})]})]})})]})}function rP(){const[o,a]=_.useState([]),[n,r]=_.useState(!0),[c,l]=_.useState(""),[p,x]=_.useState("all"),[h,g]=_.useState(!1),[y,f]=_.useState(null),[C,j]=_.useState(!1),{success:N,error:B}=ns(),[P,F]=_.useState({email:"",full_name:"",role:"consultant",hourly_rate:"",country_code:"US",is_active:!0,password:""});_.useEffect(()=>{H()},[]);const H=async()=>{r(!0);try{const{data:E,error:U}=await de.from("users").select("*").order("full_name");if(U)throw U;a(E||[])}catch(E){console.error("Error loading users:",E)}finally{r(!1)}},A=async E=>{E.preventDefault(),j(!0);try{const U={email:P.email.trim(),full_name:P.full_name.trim(),role:P.role,hourly_rate:P.hourly_rate?parseFloat(P.hourly_rate):0,country_code:P.country_code,is_active:P.is_active};if(y){const{error:Z}=await de.from("users").update(U).eq("id",y.id);if(Z)throw Z;N("User updated successfully")}else{if(!P.password||P.password.length<8){B("Password must be at least 8 characters"),j(!1);return}const{error:Z,data:ye}=await de.auth.signUp({email:P.email,password:P.password,options:{data:{full_name:P.full_name,role:P.role}}});if(Z)throw Z;if(!ye.user)throw new Error("Failed to create user");const{error:we}=await de.from("users").insert({...U,id:ye.user.id});if(we)throw we;N("User created successfully")}J(),H()}catch(U){console.error("Error saving user:",U),U("Failed to save user",U.message)}finally{j(!1)}},R=E=>{var U;f(E),F({email:E.email,full_name:E.full_name,role:E.role,hourly_rate:((U=E.hourly_rate)==null?void 0:U.toString())||"",country_code:E.country_code||"US",is_active:E.is_active,password:""}),g(!0)},$=async E=>{const U=E.is_active?"deactivate":"activate";if(window.confirm(`Are you sure you want to ${U} ${E.full_name}?`))try{const{error:Z}=await de.from("users").update({is_active:!E.is_active}).eq("id",E.id);if(Z)throw Z;N(`User ${U}d successfully`),H()}catch(Z){console.error("Error updating user status:",Z),Z(`Failed to ${U} user`,Z.message)}},J=()=>{F({email:"",full_name:"",role:"consultant",hourly_rate:"",country_code:"US",is_active:!0,password:""}),f(null),g(!1)},S=o.filter(E=>{const U=E.full_name.toLowerCase().includes(c.toLowerCase())||E.email.toLowerCase().includes(c.toLowerCase()),Z=p==="all"||E.role===p;return U&&Z}),I=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"UK",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"AU",label:"Australia"},{value:"JP",label:"Japan"},{value:"IN",label:"India"}];return i.jsxs("div",{className:"space-y-8","data-matrix-id":"src/pages/UsersPage.tsx:204:4","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"204","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-8%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/UsersPage.tsx:206:6","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"206","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/UsersPage.tsx:207:8","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"207","data-component-file":"UsersPage.tsx","data-component-name":"div",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight","data-matrix-id":"src/pages/UsersPage.tsx:208:10","data-matrix-name":"h1","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"208","data-component-file":"UsersPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20tracking-tight%22%7D",children:"User Management"}),i.jsx("p",{className:"text-muted-foreground mt-1","data-matrix-id":"src/pages/UsersPage.tsx:211:10","data-matrix-name":"p","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"211","data-component-file":"UsersPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-1%22%7D",children:"Manage consultant users and their permissions"})]}),i.jsx(le,{onClick:()=>g(!0),icon:i.jsx(Gn,{className:"h-4 w-4","data-matrix-id":"src/pages/UsersPage.tsx:217:16","data-matrix-name":"Plus","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"217","data-component-file":"UsersPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),variant:"primary",className:"shadow-lg","data-matrix-id":"src/pages/UsersPage.tsx:215:8","data-matrix-name":"Button","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"215","data-component-file":"UsersPage.tsx","data-component-name":"Button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22variant%22%3A%22primary%22%2C%22className%22%3A%22shadow-lg%22%7D",children:"New User"})]}),i.jsx("div",{className:"modern-card glass-card p-6","data-matrix-id":"src/pages/UsersPage.tsx:226:6","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"226","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20p-6%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/UsersPage.tsx:227:8","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"227","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[i.jsx("div",{className:"flex-1","data-matrix-id":"src/pages/UsersPage.tsx:228:10","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"228","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex-1%22%7D",children:i.jsx(Te,{placeholder:"Search users...",value:c,onChange:E=>l(E.target.value),icon:i.jsx(Yi,{className:"h-4 w-4","data-matrix-id":"src/pages/UsersPage.tsx:233:20","data-matrix-name":"Search","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"233","data-component-file":"UsersPage.tsx","data-component-name":"Search","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"max-w-sm","data-matrix-id":"src/pages/UsersPage.tsx:229:12","data-matrix-name":"Input","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"229","data-component-file":"UsersPage.tsx","data-component-name":"Input","data-component-content":"%7B%22placeholder%22%3A%22Search%20users...%22%2C%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22max-w-sm%22%7D"})}),i.jsx(Ze,{value:p,onChange:E=>x(E.target.value),options:[{value:"all",label:"All Roles"},{value:"consultant",label:"Consultants Only"},{value:"super_admin",label:"Admins Only"}],className:"w-40","data-matrix-id":"src/pages/UsersPage.tsx:237:10","data-matrix-name":"Select","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"237","data-component-file":"UsersPage.tsx","data-component-name":"Select","data-component-content":"%7B%22value%22%3A%22%5BIdentifier%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%2C%22className%22%3A%22w-40%22%7D"})]})}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/UsersPage.tsx:251:6","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"251","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:n?i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/UsersPage.tsx:253:10","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"253","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto","data-matrix-id":"src/pages/UsersPage.tsx:254:12","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"254","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%20mx-auto%22%7D"}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/UsersPage.tsx:255:12","data-matrix-name":"p","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"255","data-component-file":"UsersPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Loading users..."})]}):i.jsxs("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/UsersPage.tsx:258:10","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"258","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:[i.jsxs("table",{className:"w-full","data-matrix-id":"src/pages/UsersPage.tsx:259:12","data-matrix-name":"table","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"259","data-component-file":"UsersPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%22%7D",children:[i.jsx("thead",{className:"bg-accent/50","data-matrix-id":"src/pages/UsersPage.tsx:260:14","data-matrix-name":"thead","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"260","data-component-file":"UsersPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-accent%2F50%22%7D",children:i.jsxs("tr",{"data-matrix-id":"src/pages/UsersPage.tsx:261:16","data-matrix-name":"tr","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"261","data-component-file":"UsersPage.tsx","data-component-name":"tr",children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:262:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"262","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:263:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"263","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Role"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:264:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"264","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Hourly Rate"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:265:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"265","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Country"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:266:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"266","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:267:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"267","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-left%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Created"}),i.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:268:18","data-matrix-name":"th","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"268","data-component-file":"UsersPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%20text-sm%20font-semibold%20text-foreground%22%7D",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-border","data-matrix-id":"src/pages/UsersPage.tsx:271:14","data-matrix-name":"tbody","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"271","data-component-file":"UsersPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22divide-y%20divide-border%22%7D",children:S.map(E=>i.jsxs("tr",{className:"hover:bg-accent/20 transition-colors","data-matrix-id":"src/pages/UsersPage.tsx:273:18","data-matrix-name":"tr","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"273","data-component-file":"UsersPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22hover%3Abg-accent%2F20%20transition-colors%22%7D",children:[i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/UsersPage.tsx:274:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"274","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-3","data-matrix-id":"src/pages/UsersPage.tsx:275:22","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"275","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"p-2 rounded-full bg-accent/20","data-matrix-id":"src/pages/UsersPage.tsx:276:24","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"276","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-2%20rounded-full%20bg-accent%2F20%22%7D",children:i.jsx(zi,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/UsersPage.tsx:277:26","data-matrix-name":"User","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"277","data-component-file":"UsersPage.tsx","data-component-name":"User","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"})}),i.jsxs("div",{"data-matrix-id":"src/pages/UsersPage.tsx:279:24","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"279","data-component-file":"UsersPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:280:26","data-matrix-name":"p","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"280","data-component-file":"UsersPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:E.full_name}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/UsersPage.tsx:281:26","data-matrix-name":"p","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"281","data-component-file":"UsersPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:E.email})]})]})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/UsersPage.tsx:285:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"285","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("span",{className:ne("px-2 py-1 rounded-full text-xs font-medium",{"bg-purple-100 text-purple-700":E.role==="super_admin","bg-blue-100 text-blue-700":E.role==="consultant"}),"data-matrix-id":"src/pages/UsersPage.tsx:286:22","data-matrix-name":"span","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"286","data-component-file":"UsersPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:E.role==="super_admin"?"Super Admin":"Consultant"})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/UsersPage.tsx:296:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"296","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-1","data-matrix-id":"src/pages/UsersPage.tsx:297:22","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"297","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",children:[i.jsx(Gi,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/UsersPage.tsx:298:24","data-matrix-name":"DollarSign","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"298","data-component-file":"UsersPage.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"}),i.jsx("span",{className:"text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:299:24","data-matrix-name":"span","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"299","data-component-file":"UsersPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-foreground%22%7D",children:E.hourly_rate?`${E.hourly_rate}/hr`:"Not set"})]})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/UsersPage.tsx:304:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"304","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("span",{className:"text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:305:22","data-matrix-name":"span","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"305","data-component-file":"UsersPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-foreground%22%7D",children:E.country_code})}),i.jsx("td",{className:"px-6 py-4","data-matrix-id":"src/pages/UsersPage.tsx:307:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"307","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%22%7D",children:i.jsx("span",{className:ne("px-2 py-1 rounded-full text-xs font-medium",{"bg-success/10 text-success":E.is_active,"bg-muted text-muted-foreground":!E.is_active}),"data-matrix-id":"src/pages/UsersPage.tsx:308:22","data-matrix-name":"span","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"308","data-component-file":"UsersPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:E.is_active?"Active":"Inactive"})}),i.jsx("td",{className:"px-6 py-4 text-muted-foreground text-sm","data-matrix-id":"src/pages/UsersPage.tsx:318:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"318","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-muted-foreground%20text-sm%22%7D",children:new Date(E.created_at).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 text-right","data-matrix-id":"src/pages/UsersPage.tsx:321:20","data-matrix-name":"td","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"321","data-component-file":"UsersPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20text-right%22%7D",children:i.jsxs("div",{className:"flex items-center justify-end space-x-2","data-matrix-id":"src/pages/UsersPage.tsx:322:22","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"322","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-2%22%7D",children:[i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>R(E),icon:i.jsx(_l,{className:"h-4 w-4","data-matrix-id":"src/pages/UsersPage.tsx:327:32","data-matrix-name":"Edit2","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"327","data-component-file":"UsersPage.tsx","data-component-name":"Edit2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/UsersPage.tsx:323:24","data-matrix-name":"Button","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"323","data-component-file":"UsersPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"Edit"}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>$(E),className:ne({"text-destructive hover:text-destructive":E.is_active,"text-success hover:text-success":!E.is_active}),"data-matrix-id":"src/pages/UsersPage.tsx:331:24","data-matrix-name":"Button","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"331","data-component-file":"UsersPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:E.is_active?"Deactivate":"Activate"})]})})]},E.id))})]}),S.length===0&&i.jsxs("div",{className:"p-8 text-center","data-matrix-id":"src/pages/UsersPage.tsx:349:14","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"349","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-8%20text-center%22%7D",children:[i.jsx(zi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4","data-matrix-id":"src/pages/UsersPage.tsx:350:16","data-matrix-name":"User","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"350","data-component-file":"UsersPage.tsx","data-component-name":"User","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20text-muted-foreground%20mx-auto%20mb-4%22%7D"}),i.jsx("p",{className:"text-muted-foreground","data-matrix-id":"src/pages/UsersPage.tsx:351:16","data-matrix-name":"p","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"351","data-component-file":"UsersPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"No users found"})]})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4","data-matrix-id":"src/pages/UsersPage.tsx:360:8","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"360","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20flex%20items-center%20justify-center%20z-50%20p-4%22%7D",children:i.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6","data-matrix-id":"src/pages/UsersPage.tsx:361:10","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"361","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20w-full%20max-w-md%20p-6%22%7D",children:[i.jsx("h2",{className:"text-xl font-bold text-foreground mb-6","data-matrix-id":"src/pages/UsersPage.tsx:362:12","data-matrix-name":"h2","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"362","data-component-file":"UsersPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-bold%20text-foreground%20mb-6%22%7D",children:y?"Edit User":"Create New User"}),i.jsxs("form",{onSubmit:A,className:"space-y-4","data-matrix-id":"src/pages/UsersPage.tsx:366:12","data-matrix-name":"form","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"366","data-component-file":"UsersPage.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-4%22%7D",children:[i.jsx(Te,{label:"Full Name",value:P.full_name,onChange:E=>F({...P,full_name:E.target.value}),required:!0,"data-matrix-id":"src/pages/UsersPage.tsx:367:14","data-matrix-name":"Input","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"367","data-component-file":"UsersPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Full%20Name%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%7D"}),i.jsx(Te,{label:"Email",type:"email",value:P.email,onChange:E=>F({...P,email:E.target.value}),required:!0,disabled:!!y,"data-matrix-id":"src/pages/UsersPage.tsx:374:14","data-matrix-name":"Input","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"374","data-component-file":"UsersPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Email%22%2C%22type%22%3A%22email%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%2C%22disabled%22%3A%22%5BUnaryExpression%5D%22%7D"}),i.jsx(Ze,{label:"Role",value:P.role,onChange:E=>F({...P,role:E.target.value}),options:[{value:"consultant",label:"Consultant"},{value:"super_admin",label:"Super Admin"}],"data-matrix-id":"src/pages/UsersPage.tsx:383:14","data-matrix-name":"Select","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"383","data-component-file":"UsersPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Role%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"}),i.jsx(Te,{label:"Hourly Rate",type:"number",step:"0.01",value:P.hourly_rate,onChange:E=>F({...P,hourly_rate:E.target.value}),placeholder:"0.00","data-matrix-id":"src/pages/UsersPage.tsx:393:14","data-matrix-name":"Input","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"393","data-component-file":"UsersPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Hourly%20Rate%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%220.00%22%7D"}),i.jsx(Ze,{label:"Country",value:P.country_code,onChange:E=>F({...P,country_code:E.target.value}),options:I,"data-matrix-id":"src/pages/UsersPage.tsx:402:14","data-matrix-name":"Select","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"402","data-component-file":"UsersPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Country%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%22%5BIdentifier%5D%22%7D"}),!y&&i.jsx(Te,{label:"Password",type:"password",value:P.password,onChange:E=>F({...P,password:E.target.value}),required:!y,placeholder:"Minimum 8 characters","data-matrix-id":"src/pages/UsersPage.tsx:410:16","data-matrix-name":"Input","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"410","data-component-file":"UsersPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Password%22%2C%22type%22%3A%22password%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3A%22%5BUnaryExpression%5D%22%2C%22placeholder%22%3A%22Minimum%208%20characters%22%7D"}),i.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/UsersPage.tsx:420:14","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"420","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[i.jsx("input",{type:"checkbox",id:"is_active",checked:P.is_active,onChange:E=>F({...P,is_active:E.target.checked}),className:"rounded border-border","data-matrix-id":"src/pages/UsersPage.tsx:421:16","data-matrix-name":"input","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"421","data-component-file":"UsersPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22id%22%3A%22is_active%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22rounded%20border-border%22%7D"}),i.jsx("label",{htmlFor:"is_active",className:"text-sm text-foreground","data-matrix-id":"src/pages/UsersPage.tsx:428:16","data-matrix-name":"label","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"428","data-component-file":"UsersPage.tsx","data-component-name":"label","data-component-content":"%7B%22htmlFor%22%3A%22is_active%22%2C%22className%22%3A%22text-sm%20text-foreground%22%7D",children:"Active User"})]}),i.jsxs("div",{className:"flex space-x-3 pt-4","data-matrix-id":"src/pages/UsersPage.tsx:433:14","data-matrix-name":"div","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"433","data-component-file":"UsersPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20space-x-3%20pt-4%22%7D",children:[i.jsx(le,{type:"button",variant:"ghost",onClick:J,className:"flex-1","data-matrix-id":"src/pages/UsersPage.tsx:434:16","data-matrix-name":"Button","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"434","data-component-file":"UsersPage.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22button%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22flex-1%22%7D",children:"Cancel"}),i.jsx(le,{type:"submit",variant:"primary",className:"flex-1",loading:C,"data-matrix-id":"src/pages/UsersPage.tsx:442:16","data-matrix-name":"Button","data-component-path":"src/pages/UsersPage.tsx","data-component-line":"442","data-component-file":"UsersPage.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22variant%22%3A%22primary%22%2C%22className%22%3A%22flex-1%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%7D",children:y?"Update":"Create"})]})]})]})})]})}function iP(){const{success:o,error:a}=ns(),[n,r]=_.useState("allowances"),[c,l]=_.useState([]),[p,x]=_.useState([]),[h,g]=_.useState(!0),[y,f]=_.useState(!1),[C,j]=_.useState({country_code:"US",partial_rate:"",full_rate:"",effective_date:new Date().toISOString().split("T")[0]}),[N,B]=_.useState({project_type:"TNM",hourly_rate:""}),[P,F]=_.useState({default_vat_rate:"20",default_currency:"USD",week_start_day:"1",auto_submit_enabled:!1,notification_enabled:!0});_.useEffect(()=>{H(),A(),R()},[]);const H=async()=>{try{const{data:U,error:Z}=await de.from("allowance_rates").select("*").order("country_code",{ascending:!0}).order("effective_date",{ascending:!1});if(Z)throw Z;l(U||[])}catch(U){console.error("Error loading allowance rates:",U)}},A=async()=>{try{const{data:U,error:Z}=await de.from("default_rates").select("*").order("project_type",{ascending:!0});if(Z)throw Z;x(U||[])}catch(U){console.error("Error loading default rates:",U),U("Failed to load default rates",U.message)}},R=async()=>{try{const{data:U,error:Z}=await de.from("system_settings").select("*");if(Z)throw Z;if(U&&U.length>0){const ye=U.reduce((we,Ce)=>{const ot=Ce.key.includes("enabled")?Ce.value==="true":Ce.value;return{...we,[Ce.key]:ot}},{});F({default_vat_rate:ye.default_vat_rate||"20",default_currency:ye.default_currency||"USD",week_start_day:ye.week_start_day||"1",auto_submit_enabled:ye.auto_submit_enabled||!1,notification_enabled:ye.notification_enabled||!0})}}catch(U){console.error("Error loading general settings:",U),U("Failed to load settings",U.message)}finally{g(!1)}},$=async U=>{U.preventDefault(),f(!0);try{const{error:Z}=await de.from("allowance_rates").insert({country_code:C.country_code,partial_rate:parseFloat(C.partial_rate),full_rate:parseFloat(C.full_rate),effective_date:C.effective_date});if(Z)throw Z;o("Allowance rate added successfully"),j({country_code:"US",partial_rate:"",full_rate:"",effective_date:new Date().toISOString().split("T")[0]}),H()}catch(Z){console.error("Error saving allowance rate:",Z),Z("Failed to add allowance rate",Z.message)}finally{f(!1)}},J=async U=>{try{const{error:Z}=await de.from("allowance_rates").delete().eq("id",U);if(Z)throw Z;o("Allowance rate deleted successfully"),H()}catch(Z){console.error("Error deleting allowance rate:",Z),Z("Failed to delete allowance rate",Z.message)}},S=async()=>{f(!0);try{const Z=[{key:"default_vat_rate",value:P.default_vat_rate.toString()},{key:"default_currency",value:P.default_currency},{key:"week_start_day",value:P.week_start_day.toString()},{key:"auto_submit_enabled",value:P.auto_submit_enabled.toString()},{key:"notification_enabled",value:P.notification_enabled.toString()}].map(Ce=>de.from("system_settings").update({value:Ce.value}).eq("key",Ce.key)),we=(await Promise.all(Z)).filter(Ce=>Ce.error);if(we.length>0)throw new Error(`Failed to update ${we.length} settings`);o("Settings saved successfully")}catch(U){console.error("Error saving general settings:",U),U("Failed to save settings",U.message)}finally{f(!1)}},I=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"UK",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"AU",label:"Australia"},{value:"JP",label:"Japan"},{value:"IN",label:"India"}],E=[{id:"allowances",label:"Allowance Rates",icon:Gi},{id:"rates",label:"Default Rates",icon:vy},{id:"general",label:"General Settings",icon:Bl}];return h?i.jsxs("div",{className:"flex items-center justify-center min-h-96","data-matrix-id":"src/pages/SettingsPage.tsx:234:6","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"234","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20min-h-96%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent","data-matrix-id":"src/pages/SettingsPage.tsx:235:8","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"235","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%22%7D"}),i.jsx("p",{className:"text-muted-foreground ml-3","data-matrix-id":"src/pages/SettingsPage.tsx:236:8","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"236","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20ml-3%22%7D",children:"Loading settings..."})]}):i.jsxs("div",{className:"space-y-8","data-matrix-id":"src/pages/SettingsPage.tsx:242:4","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"242","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-8%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/SettingsPage.tsx:244:6","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"244","data-component-file":"SettingsPage.tsx","data-component-name":"div",children:[i.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight","data-matrix-id":"src/pages/SettingsPage.tsx:245:8","data-matrix-name":"h1","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"245","data-component-file":"SettingsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20tracking-tight%22%7D",children:"System Settings"}),i.jsx("p",{className:"text-muted-foreground mt-1","data-matrix-id":"src/pages/SettingsPage.tsx:248:8","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"248","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-1%22%7D",children:"Configure rates, allowances, and system defaults"})]}),i.jsxs("div",{className:"modern-card glass-card","data-matrix-id":"src/pages/SettingsPage.tsx:254:6","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"254","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%22%7D",children:[i.jsx("div",{className:"border-b border-border","data-matrix-id":"src/pages/SettingsPage.tsx:255:8","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"255","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border-b%20border-border%22%7D",children:i.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs","data-matrix-id":"src/pages/SettingsPage.tsx:256:10","data-matrix-name":"nav","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"256","data-component-file":"SettingsPage.tsx","data-component-name":"nav","data-component-content":"%7B%22className%22%3A%22flex%20space-x-8%20px-6%22%7D",children:E.map(U=>{const Z=U.icon,ye=n===U.id;return i.jsxs("button",{onClick:()=>r(U.id),className:ne("flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors",{"border-primary text-primary":ye,"border-transparent text-muted-foreground hover:text-foreground hover:border-muted":!ye}),"data-matrix-id":"src/pages/SettingsPage.tsx:261:16","data-matrix-name":"button","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"261","data-component-file":"SettingsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx(Z,{className:"h-4 w-4","data-matrix-id":"src/pages/SettingsPage.tsx:272:18","data-matrix-name":"Icon","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"272","data-component-file":"SettingsPage.tsx","data-component-name":"Icon","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),i.jsx("span",{"data-matrix-id":"src/pages/SettingsPage.tsx:273:18","data-matrix-name":"span","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"273","data-component-file":"SettingsPage.tsx","data-component-name":"span",children:U.label})]},U.id)})})}),i.jsxs("div",{className:"p-6","data-matrix-id":"src/pages/SettingsPage.tsx:280:8","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"280","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:[n==="allowances"&&i.jsx("div",{className:"space-y-6","data-matrix-id":"src/pages/SettingsPage.tsx:283:12","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"283","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6","data-matrix-id":"src/pages/SettingsPage.tsx:284:14","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"284","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-6%22%7D",children:[i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:286:16","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"286","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:287:18","data-matrix-name":"h3","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"287","data-component-file":"SettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"Add New Allowance Rate"}),i.jsxs("form",{onSubmit:$,className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:290:18","data-matrix-name":"form","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"290","data-component-file":"SettingsPage.tsx","data-component-name":"form","data-component-content":"%7B%22onSubmit%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22space-y-4%22%7D",children:[i.jsx(Ze,{label:"Country",value:C.country_code,onChange:U=>j({...C,country_code:U.target.value}),options:I,"data-matrix-id":"src/pages/SettingsPage.tsx:291:20","data-matrix-name":"Select","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"291","data-component-file":"SettingsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Country%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%22%5BIdentifier%5D%22%7D"}),i.jsx(Te,{label:"Partial Rate (per day)",type:"number",step:"0.01",value:C.partial_rate,onChange:U=>j({...C,partial_rate:U.target.value}),required:!0,placeholder:"0.00","data-matrix-id":"src/pages/SettingsPage.tsx:298:20","data-matrix-name":"Input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"298","data-component-file":"SettingsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Partial%20Rate%20(per%20day)%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%2C%22placeholder%22%3A%220.00%22%7D"}),i.jsx(Te,{label:"Full Rate (per day)",type:"number",step:"0.01",value:C.full_rate,onChange:U=>j({...C,full_rate:U.target.value}),required:!0,placeholder:"0.00","data-matrix-id":"src/pages/SettingsPage.tsx:308:20","data-matrix-name":"Input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"308","data-component-file":"SettingsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Full%20Rate%20(per%20day)%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%2C%22placeholder%22%3A%220.00%22%7D"}),i.jsx(Te,{label:"Effective Date",type:"date",value:C.effective_date,onChange:U=>j({...C,effective_date:U.target.value}),required:!0,"data-matrix-id":"src/pages/SettingsPage.tsx:318:20","data-matrix-name":"Input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"318","data-component-file":"SettingsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Effective%20Date%22%2C%22type%22%3A%22date%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22required%22%3Atrue%7D"}),i.jsx(le,{type:"submit",variant:"primary",loading:y,icon:i.jsx(Gn,{className:"h-4 w-4","data-matrix-id":"src/pages/SettingsPage.tsx:330:28","data-matrix-name":"Plus","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"330","data-component-file":"SettingsPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"w-full","data-matrix-id":"src/pages/SettingsPage.tsx:326:20","data-matrix-name":"Button","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"326","data-component-file":"SettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22type%22%3A%22submit%22%2C%22variant%22%3A%22primary%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22w-full%22%7D",children:"Add Rate"})]})]}),i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:339:16","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"339","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:340:18","data-matrix-name":"h3","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"340","data-component-file":"SettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"Current Allowance Rates"}),i.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto","data-matrix-id":"src/pages/SettingsPage.tsx:343:18","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"343","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-3%20max-h-96%20overflow-y-auto%22%7D",children:[c.map(U=>{var Z;return i.jsx("div",{className:"border border-border rounded-lg p-4","data-matrix-id":"src/pages/SettingsPage.tsx:345:22","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"345","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22border%20border-border%20rounded-lg%20p-4%22%7D",children:i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/SettingsPage.tsx:346:24","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"346","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/SettingsPage.tsx:347:26","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"347","data-component-file":"SettingsPage.tsx","data-component-name":"div",children:[i.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/SettingsPage.tsx:348:28","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"348","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[i.jsx(xl,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:349:30","data-matrix-name":"Globe","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"349","data-component-file":"SettingsPage.tsx","data-component-name":"Globe","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"}),i.jsx("span",{className:"font-medium text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:350:30","data-matrix-name":"span","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"350","data-component-file":"SettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:(Z=I.find(ye=>ye.value===U.country_code))==null?void 0:Z.label})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-1","data-matrix-id":"src/pages/SettingsPage.tsx:354:28","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"354","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%20mt-1%22%7D",children:["Partial: $",U.partial_rate,"  Full: $",U.full_rate]}),i.jsxs("p",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:357:28","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"357","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:["Effective: ",new Date(U.effective_date).toLocaleDateString()]})]}),i.jsx(le,{variant:"ghost",size:"sm",onClick:()=>{window.confirm("Are you sure you want to delete this allowance rate?")&&J(U.id)},icon:i.jsx(tr,{className:"h-4 w-4","data-matrix-id":"src/pages/SettingsPage.tsx:369:34","data-matrix-name":"Trash2","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"369","data-component-file":"SettingsPage.tsx","data-component-name":"Trash2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"text-destructive hover:text-destructive","data-matrix-id":"src/pages/SettingsPage.tsx:361:26","data-matrix-name":"Button","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"361","data-component-file":"SettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22text-destructive%20hover%3Atext-destructive%22%7D"})]})},U.id)}),c.length===0&&i.jsx("p",{className:"text-muted-foreground text-center py-8","data-matrix-id":"src/pages/SettingsPage.tsx:376:22","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"376","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-center%20py-8%22%7D",children:"No allowance rates configured"})]})]})]})}),n==="rates"&&i.jsx("div",{className:"space-y-6","data-matrix-id":"src/pages/SettingsPage.tsx:388:12","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"388","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6","data-matrix-id":"src/pages/SettingsPage.tsx:389:14","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"389","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-6%22%7D",children:[i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:390:16","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"390","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:391:18","data-matrix-name":"h3","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"391","data-component-file":"SettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"Default Hourly Rates"}),i.jsx("p",{className:"text-muted-foreground text-sm","data-matrix-id":"src/pages/SettingsPage.tsx:394:18","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"394","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20text-sm%22%7D",children:"Set default hourly rates for different project types"}),i.jsx("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:398:18","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"398","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:p.map(U=>i.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg","data-matrix-id":"src/pages/SettingsPage.tsx:400:22","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"400","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-4%20border%20border-border%20rounded-lg%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/SettingsPage.tsx:401:24","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"401","data-component-file":"SettingsPage.tsx","data-component-name":"div",children:[i.jsxs("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:402:26","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"402","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:[U.project_type==="time_and_material"?"Time & Material":"Fixed Price"," Projects"]}),i.jsxs("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:405:26","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"405","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["$",U.hourly_rate,"/hour"]})]}),i.jsx(le,{variant:"ghost",size:"sm",icon:i.jsx(_l,{className:"h-4 w-4","data-matrix-id":"src/pages/SettingsPage.tsx:410:32","data-matrix-name":"Edit2","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"410","data-component-file":"SettingsPage.tsx","data-component-name":"Edit2","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),onClick:()=>{B({project_type:U.project_type,hourly_rate:U.hourly_rate.toString()})},"data-matrix-id":"src/pages/SettingsPage.tsx:407:24","data-matrix-name":"Button","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"407","data-component-file":"SettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22size%22%3A%22sm%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%7D",children:"Edit"})]},U.id))})]}),i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:429:16","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"429","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:430:18","data-matrix-name":"h3","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"430","data-component-file":"SettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"Add Default Rate"}),i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:433:18","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"433","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx(Ze,{label:"Project Type",value:N.project_type,onChange:U=>B({...N,project_type:U.target.value}),options:[{value:"TNM",label:"Time & Materials"},{value:"Fixed",label:"Fixed Price"}],"data-matrix-id":"src/pages/SettingsPage.tsx:434:20","data-matrix-name":"Select","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"434","data-component-file":"SettingsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Project%20Type%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"}),i.jsx(Te,{label:"Hourly Rate",type:"number",step:"0.01",value:N.hourly_rate,onChange:U=>B({...N,hourly_rate:U.target.value}),placeholder:"0.00","data-matrix-id":"src/pages/SettingsPage.tsx:444:20","data-matrix-name":"Input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"444","data-component-file":"SettingsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Hourly%20Rate%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%220.00%22%7D"}),i.jsx(le,{variant:"primary",icon:i.jsx(Gn,{className:"h-4 w-4","data-matrix-id":"src/pages/SettingsPage.tsx:455:28","data-matrix-name":"Plus","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"455","data-component-file":"SettingsPage.tsx","data-component-name":"Plus","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"w-full",onClick:async()=>{try{if(!N.hourly_rate){a("Please enter an hourly rate");return}f(!0);const{data:U,error:Z}=await de.from("default_rates").insert({project_type:N.project_type,hourly_rate:parseFloat(N.hourly_rate),description:`Default rate for ${N.project_type==="TNM"?"Time & Materials":"Fixed Price"} projects`}).select();if(Z)throw Z;o("Rate added successfully"),B({project_type:"TNM",hourly_rate:""}),A()}catch(U){console.error("Error adding rate:",U),U("Failed to add rate",U.message)}finally{f(!1)}},loading:y,"data-matrix-id":"src/pages/SettingsPage.tsx:453:20","data-matrix-name":"Button","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"453","data-component-file":"SettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22primary%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22w-full%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%7D",children:"Add Rate"})]})]})]})}),n==="general"&&i.jsx("div",{className:"space-y-6","data-matrix-id":"src/pages/SettingsPage.tsx:501:12","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"501","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-6%22%7D",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6","data-matrix-id":"src/pages/SettingsPage.tsx:502:14","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"502","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22grid%20grid-cols-1%20lg%3Agrid-cols-2%20gap-6%22%7D",children:[i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:503:16","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"503","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:504:18","data-matrix-name":"h3","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"504","data-component-file":"SettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"General Settings"}),i.jsx(Te,{label:"Default VAT Rate (%)",type:"number",step:"0.01",value:P.default_vat_rate,onChange:U=>F({...P,default_vat_rate:U.target.value}),placeholder:"20.00","data-matrix-id":"src/pages/SettingsPage.tsx:508:18","data-matrix-name":"Input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"508","data-component-file":"SettingsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22label%22%3A%22Default%20VAT%20Rate%20(%25)%22%2C%22type%22%3A%22number%22%2C%22step%22%3A%220.01%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22placeholder%22%3A%2220.00%22%7D"}),i.jsx(Ze,{label:"Default Currency",value:P.default_currency,onChange:U=>F({...P,default_currency:U.target.value}),options:[{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"},{value:"GBP",label:"British Pound (GBP)"},{value:"CAD",label:"Canadian Dollar (CAD)"}],"data-matrix-id":"src/pages/SettingsPage.tsx:517:18","data-matrix-name":"Select","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"517","data-component-file":"SettingsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Default%20Currency%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"}),i.jsx(Ze,{label:"Week Start Day",value:P.week_start_day,onChange:U=>F({...P,week_start_day:U.target.value}),options:[{value:"0",label:"Sunday"},{value:"1",label:"Monday"}],"data-matrix-id":"src/pages/SettingsPage.tsx:529:18","data-matrix-name":"Select","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"529","data-component-file":"SettingsPage.tsx","data-component-name":"Select","data-component-content":"%7B%22label%22%3A%22Week%20Start%20Day%22%2C%22value%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22options%22%3A%5B%22%5BObjectExpression%5D%22%2C%22%5BObjectExpression%5D%22%5D%7D"})]}),i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:540:16","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"540","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsx("h3",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:541:18","data-matrix-name":"h3","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"541","data-component-file":"SettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:"System Preferences"}),i.jsxs("div",{className:"space-y-4","data-matrix-id":"src/pages/SettingsPage.tsx:545:18","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"545","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-4%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg","data-matrix-id":"src/pages/SettingsPage.tsx:546:20","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"546","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-4%20border%20border-border%20rounded-lg%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/SettingsPage.tsx:547:22","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"547","data-component-file":"SettingsPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:548:24","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"548","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:"Auto-submit Timesheets"}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:549:24","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"549","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Automatically submit completed weeks"})]}),i.jsx("input",{type:"checkbox",checked:P.auto_submit_enabled,onChange:U=>F({...P,auto_submit_enabled:U.target.checked}),className:"rounded border-border","data-matrix-id":"src/pages/SettingsPage.tsx:551:22","data-matrix-name":"input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"551","data-component-file":"SettingsPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22rounded%20border-border%22%7D"})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg","data-matrix-id":"src/pages/SettingsPage.tsx:559:20","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"559","data-component-file":"SettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%20p-4%20border%20border-border%20rounded-lg%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/SettingsPage.tsx:560:22","data-matrix-name":"div","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"560","data-component-file":"SettingsPage.tsx","data-component-name":"div",children:[i.jsx("p",{className:"font-medium text-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:561:24","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"561","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:"Email Notifications"}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/SettingsPage.tsx:562:24","data-matrix-name":"p","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"562","data-component-file":"SettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Send email notifications for approvals"})]}),i.jsx("input",{type:"checkbox",checked:P.notification_enabled,onChange:U=>F({...P,notification_enabled:U.target.checked}),className:"rounded border-border","data-matrix-id":"src/pages/SettingsPage.tsx:564:22","data-matrix-name":"input","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"564","data-component-file":"SettingsPage.tsx","data-component-name":"input","data-component-content":"%7B%22type%22%3A%22checkbox%22%2C%22checked%22%3A%22%5BMemberExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22rounded%20border-border%22%7D"})]})]}),i.jsx(le,{variant:"primary",onClick:S,loading:y,icon:i.jsx(Ji,{className:"h-4 w-4","data-matrix-id":"src/pages/SettingsPage.tsx:577:26","data-matrix-name":"Save","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"577","data-component-file":"SettingsPage.tsx","data-component-name":"Save","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),className:"w-full","data-matrix-id":"src/pages/SettingsPage.tsx:573:18","data-matrix-name":"Button","data-component-path":"src/pages/SettingsPage.tsx","data-component-line":"573","data-component-file":"SettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22primary%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22w-full%22%7D",children:"Save Settings"})]})]})})]})]})]})}const cP={train:"Train Travel",taxi:"Taxi Services",flight:"Flight Expenses",rental_car:"Rental Car",fuel:"Fuel Expenses",parking:"Parking Fees",onpv:"Public Transport (NPV)",hospitality:"Hospitality",others:"Other Expenses",hotel:"Hotel Accommodation",car:"Car Mileage"};function dP(){const{user:o}=Ra(),{addNotification:a}=ns(),[n,r]=_.useState([]),[c,l]=_.useState(!0),[p,x]=_.useState(null),[h,g]=_.useState(null),[y,f]=_.useState(null);_.useEffect(()=>{C()},[]);const C=async()=>{l(!0);try{const{data:A,error:R}=await de.functions.invoke("get-admin-vat-settings");if(R)throw R;if(!A.success)throw new Error(A.error||"Failed to load VAT settings");r(A.data)}catch(A){console.error("Error loading VAT settings:",A),a({type:"error",title:"Failed to load VAT settings"})}finally{l(!1)}},j=A=>{A.is_configurable&&(g(A.expense_type),f({expense_type:A.expense_type,default_vat_rate:A.default_vat_rate,available_rates:A.available_rates,description:A.description||""}))},N=()=>{g(null),f(null)},B=async()=>{if(!(!y||!h)){x(h);try{if(y.default_vat_rate<0||y.default_vat_rate>100)throw new Error("VAT rate must be between 0 and 100");const{data:A,error:R}=await de.functions.invoke("update-vat-settings",{body:{expense_type:y.expense_type,default_vat_rate:y.default_vat_rate,available_rates:y.available_rates,description:y.description}});if(R)throw R;if(!A.success)throw new Error(A.error||"Failed to update VAT settings");a({type:"success",title:A.message||"VAT settings updated successfully"}),await C(),g(null),f(null)}catch(A){console.error("Error updating VAT setting:",A),a({type:"error",title:A instanceof Error?A.message:"Failed to update VAT settings"})}finally{x(null)}}},P=(A,R)=>{y&&f({...y,[A]:R})},F=()=>{if(!y)return;const A=y.default_vat_rate;y.available_rates.includes(A)||P("available_rates",[...y.available_rates,A])},H=A=>{y&&P("available_rates",y.available_rates.filter(R=>R!==A))};return c?i.jsx("div",{className:"container mx-auto px-4 py-8","data-matrix-id":"src/pages/VatSettingsPage.tsx:178:6","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"178","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-8%22%7D",children:i.jsx("div",{className:"flex items-center justify-center py-12","data-matrix-id":"src/pages/VatSettingsPage.tsx:179:8","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"179","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20py-12%22%7D",children:i.jsxs("div",{className:"inline-flex items-center space-x-3","data-matrix-id":"src/pages/VatSettingsPage.tsx:180:10","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"180","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent","data-matrix-id":"src/pages/VatSettingsPage.tsx:181:12","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"181","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%22%7D"}),i.jsx("p",{className:"text-muted-foreground font-medium","data-matrix-id":"src/pages/VatSettingsPage.tsx:182:12","data-matrix-name":"p","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"182","data-component-file":"VatSettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20font-medium%22%7D",children:"Loading VAT settings..."})]})})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8","data-matrix-id":"src/pages/VatSettingsPage.tsx:190:4","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"190","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-8%20space-y-8%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/VatSettingsPage.tsx:192:6","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"192","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:193:8","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"193","data-component-file":"VatSettingsPage.tsx","data-component-name":"div",children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center","data-matrix-id":"src/pages/VatSettingsPage.tsx:194:10","data-matrix-name":"h1","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"194","data-component-file":"VatSettingsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20flex%20items-center%22%7D",children:[i.jsx(Bl,{className:"h-8 w-8 mr-3 text-primary","data-matrix-id":"src/pages/VatSettingsPage.tsx:195:12","data-matrix-name":"Settings","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"195","data-component-file":"VatSettingsPage.tsx","data-component-name":"Settings","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20mr-3%20text-primary%22%7D"}),"VAT Configuration"]}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/VatSettingsPage.tsx:198:10","data-matrix-name":"p","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"198","data-component-file":"VatSettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Configure VAT rates for different expense types. Changes affect all new expense entries."})]}),i.jsx(le,{variant:"outline",onClick:C,icon:i.jsx(Dl,{className:"h-4 w-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:206:16","data-matrix-name":"RefreshCw","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"206","data-component-file":"VatSettingsPage.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/VatSettingsPage.tsx:203:8","data-matrix-name":"Button","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"203","data-component-file":"VatSettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"Refresh"})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:213:6","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"213","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-blue-50%20border%20border-blue-200%20rounded-lg%20p-4%22%7D",children:i.jsxs("div",{className:"flex items-start space-x-3","data-matrix-id":"src/pages/VatSettingsPage.tsx:214:8","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"214","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20space-x-3%22%7D",children:[i.jsx(dx,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0","data-matrix-id":"src/pages/VatSettingsPage.tsx:215:10","data-matrix-name":"Info","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"215","data-component-file":"VatSettingsPage.tsx","data-component-name":"Info","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-blue-500%20mt-0.5%20flex-shrink-0%22%7D"}),i.jsxs("div",{className:"text-sm text-blue-700","data-matrix-id":"src/pages/VatSettingsPage.tsx:216:10","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"216","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-blue-700%22%7D",children:[i.jsx("p",{className:"font-medium mb-1","data-matrix-id":"src/pages/VatSettingsPage.tsx:217:12","data-matrix-name":"p","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"217","data-component-file":"VatSettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20mb-1%22%7D",children:"VAT Configuration Guidelines:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600","data-matrix-id":"src/pages/VatSettingsPage.tsx:218:12","data-matrix-name":"ul","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"218","data-component-file":"VatSettingsPage.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22list-disc%20list-inside%20space-y-1%20text-blue-600%22%7D",children:[i.jsx("li",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:219:14","data-matrix-name":"li","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"219","data-component-file":"VatSettingsPage.tsx","data-component-name":"li",children:"Car mileage expenses are VAT-exempt and cannot be modified"}),i.jsx("li",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:220:14","data-matrix-name":"li","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"220","data-component-file":"VatSettingsPage.tsx","data-component-name":"li",children:"Hotel accommodation supports multiple VAT rate options"}),i.jsx("li",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:221:14","data-matrix-name":"li","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"221","data-component-file":"VatSettingsPage.tsx","data-component-name":"li",children:"Changes only affect new expense entries, not existing ones"}),i.jsx("li",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:222:14","data-matrix-name":"li","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"222","data-component-file":"VatSettingsPage.tsx","data-component-name":"li",children:"VAT rates must be between 0% and 100%"})]})]})]})}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/VatSettingsPage.tsx:229:6","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"229","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:i.jsx("div",{className:"p-6","data-matrix-id":"src/pages/VatSettingsPage.tsx:230:8","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"230","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:i.jsx("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/VatSettingsPage.tsx:231:10","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"231","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:i.jsxs("table",{className:"w-full border-collapse","data-matrix-id":"src/pages/VatSettingsPage.tsx:232:12","data-matrix-name":"table","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"232","data-component-file":"VatSettingsPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%20border-collapse%22%7D",children:[i.jsx("thead",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:233:14","data-matrix-name":"thead","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"233","data-component-file":"VatSettingsPage.tsx","data-component-name":"thead",children:i.jsxs("tr",{className:"border-b border-border","data-matrix-id":"src/pages/VatSettingsPage.tsx:234:16","data-matrix-name":"tr","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"234","data-component-file":"VatSettingsPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b%20border-border%22%7D",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:235:18","data-matrix-name":"th","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"235","data-component-file":"VatSettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Expense Type"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:236:18","data-matrix-name":"th","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"236","data-component-file":"VatSettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Default VAT"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:237:18","data-matrix-name":"th","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"237","data-component-file":"VatSettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Available Options"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:238:18","data-matrix-name":"th","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"238","data-component-file":"VatSettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Configurable"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:239:18","data-matrix-name":"th","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"239","data-component-file":"VatSettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Last Updated"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:240:18","data-matrix-name":"th","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"240","data-component-file":"VatSettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Actions"})]})}),i.jsx("tbody",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:243:14","data-matrix-name":"tbody","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"243","data-component-file":"VatSettingsPage.tsx","data-component-name":"tbody",children:n.map(A=>{var J,S;const R=h===A.expense_type,$=p===A.expense_type;return i.jsxs("tr",{className:ne("border-b border-border/50 hover:bg-accent/30 transition-colors",{"bg-accent/50":R}),"data-matrix-id":"src/pages/VatSettingsPage.tsx:249:20","data-matrix-name":"tr","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"249","data-component-file":"VatSettingsPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:259:22","data-matrix-name":"td","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"259","data-component-file":"VatSettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsxs("div",{"data-matrix-id":"src/pages/VatSettingsPage.tsx:260:24","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"260","data-component-file":"VatSettingsPage.tsx","data-component-name":"div",children:[i.jsx("div",{className:"font-medium text-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:261:26","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"261","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:cP[A.expense_type]||A.expense_type}),i.jsx("div",{className:"text-xs text-muted-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:264:26","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"264","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%20text-muted-foreground%22%7D",children:A.expense_type})]})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:271:22","data-matrix-name":"td","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"271","data-component-file":"VatSettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:R?i.jsx(Te,{type:"number",value:(y==null?void 0:y.default_vat_rate)||0,onChange:I=>P("default_vat_rate",parseFloat(I.target.value)||0),className:"w-20",min:0,max:100,step:.1,disabled:!A.is_configurable,"data-matrix-id":"src/pages/VatSettingsPage.tsx:273:26","data-matrix-name":"Input","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"273","data-component-file":"VatSettingsPage.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-20%22%2C%22min%22%3A0%2C%22max%22%3A100%2C%22step%22%3A0.1%2C%22disabled%22%3A%22%5BUnaryExpression%5D%22%7D"}):i.jsxs("span",{className:ne("font-medium",{"text-green-600":A.default_vat_rate===0,"text-foreground":A.default_vat_rate>0}),"data-matrix-id":"src/pages/VatSettingsPage.tsx:284:26","data-matrix-name":"span","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"284","data-component-file":"VatSettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[A.default_vat_rate,"%"]})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:297:22","data-matrix-name":"td","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"297","data-component-file":"VatSettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:R?i.jsxs("div",{className:"space-y-2","data-matrix-id":"src/pages/VatSettingsPage.tsx:299:26","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"299","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22space-y-2%22%7D",children:[i.jsx("div",{className:"flex flex-wrap gap-1","data-matrix-id":"src/pages/VatSettingsPage.tsx:300:28","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"300","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-1%22%7D",children:y==null?void 0:y.available_rates.map(I=>i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs bg-primary/10 text-primary","data-matrix-id":"src/pages/VatSettingsPage.tsx:302:32","data-matrix-name":"span","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"302","data-component-file":"VatSettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20px-2%20py-1%20rounded-full%20text-xs%20bg-primary%2F10%20text-primary%22%7D",children:[I,"%",A.is_configurable&&y.available_rates.length>1&&i.jsx("button",{onClick:()=>H(I),className:"ml-1 hover:text-destructive","data-matrix-id":"src/pages/VatSettingsPage.tsx:308:36","data-matrix-name":"button","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"308","data-component-file":"VatSettingsPage.tsx","data-component-name":"button","data-component-content":"%7B%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22ml-1%20hover%3Atext-destructive%22%7D",children:i.jsx(Yo,{className:"h-3 w-3","data-matrix-id":"src/pages/VatSettingsPage.tsx:312:38","data-matrix-name":"X","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"312","data-component-file":"VatSettingsPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%22%7D"})})]},I))}),A.is_configurable&&i.jsx(le,{size:"sm",variant:"outline",onClick:F,className:"text-xs","data-matrix-id":"src/pages/VatSettingsPage.tsx:319:30","data-matrix-name":"Button","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"319","data-component-file":"VatSettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Add Current Rate"})]}):i.jsx("div",{className:"flex flex-wrap gap-1","data-matrix-id":"src/pages/VatSettingsPage.tsx:330:26","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"330","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20flex-wrap%20gap-1%22%7D",children:A.available_rates.map(I=>i.jsxs("span",{className:ne("inline-block px-2 py-1 rounded-full text-xs",{"bg-primary/10 text-primary":I===A.default_vat_rate,"bg-muted text-muted-foreground":I!==A.default_vat_rate}),"data-matrix-id":"src/pages/VatSettingsPage.tsx:332:30","data-matrix-name":"span","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"332","data-component-file":"VatSettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[I,"%"]},I))})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:350:22","data-matrix-name":"td","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"350","data-component-file":"VatSettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsx("div",{className:ne("inline-flex items-center px-2 py-1 rounded-full text-xs font-medium",{"bg-green-100 text-green-800":A.is_configurable,"bg-red-100 text-red-800":!A.is_configurable}),"data-matrix-id":"src/pages/VatSettingsPage.tsx:351:24","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"351","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:A.is_configurable?i.jsxs(i.Fragment,{children:[i.jsx(ir,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/VatSettingsPage.tsx:360:30","data-matrix-name":"Check","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"360","data-component-file":"VatSettingsPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Yes"]}):i.jsxs(i.Fragment,{children:[i.jsx(Yo,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/VatSettingsPage.tsx:365:30","data-matrix-name":"X","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"365","data-component-file":"VatSettingsPage.tsx","data-component-name":"X","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Fixed"]})})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:373:22","data-matrix-name":"td","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"373","data-component-file":"VatSettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsxs("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:374:24","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"374","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:[je(new Date(A.updated_at),"MMM d, yyyy"),((S=(J=A.updated_by_user)==null?void 0:J[0])==null?void 0:S.email)&&i.jsxs("div",{className:"text-xs","data-matrix-id":"src/pages/VatSettingsPage.tsx:377:28","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"377","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-xs%22%7D",children:["by ",A.updated_by_user[0].email]})]})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/VatSettingsPage.tsx:385:22","data-matrix-name":"td","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"385","data-component-file":"VatSettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsx("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/VatSettingsPage.tsx:386:24","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"386","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:R?i.jsxs(i.Fragment,{children:[i.jsx(le,{size:"sm",variant:"success",onClick:B,loading:$,icon:i.jsx(Ji,{className:"h-3 w-3","data-matrix-id":"src/pages/VatSettingsPage.tsx:394:38","data-matrix-name":"Save","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"394","data-component-file":"VatSettingsPage.tsx","data-component-name":"Save","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%22%7D"}),className:"text-xs","data-matrix-id":"src/pages/VatSettingsPage.tsx:389:30","data-matrix-name":"Button","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"389","data-component-file":"VatSettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22success%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Save"}),i.jsx(le,{size:"sm",variant:"ghost",onClick:N,disabled:$,className:"text-xs","data-matrix-id":"src/pages/VatSettingsPage.tsx:399:30","data-matrix-name":"Button","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"399","data-component-file":"VatSettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Cancel"})]}):i.jsx(i.Fragment,{children:A.is_configurable?i.jsx(le,{size:"sm",variant:"outline",onClick:()=>j(A),className:"text-xs","data-matrix-id":"src/pages/VatSettingsPage.tsx:412:32","data-matrix-name":"Button","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"412","data-component-file":"VatSettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Edit"}):i.jsxs("div",{className:"flex items-center text-xs text-muted-foreground","data-matrix-id":"src/pages/VatSettingsPage.tsx:421:32","data-matrix-name":"div","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"421","data-component-file":"VatSettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20text-xs%20text-muted-foreground%22%7D",children:[i.jsx(Ay,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/VatSettingsPage.tsx:422:34","data-matrix-name":"AlertTriangle","data-component-path":"src/pages/VatSettingsPage.tsx","data-component-line":"422","data-component-file":"VatSettingsPage.tsx","data-component-name":"AlertTriangle","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Fixed Rate"]})})})})]},A.expense_type)})})]})})})})]})}function lP(){const{user:o}=Ra(),{addNotification:a}=ns(),{formatCurrency:n}=kl(),[r,c]=_.useState([]),[l,p]=_.useState(!0),[x,h]=_.useState(null),[g,y]=_.useState(null),[f,C]=_.useState(null);_.useEffect(()=>{j()},[]);const j=async()=>{p(!0);try{const{data:H,error:A}=await de.functions.invoke("get-country-rates");if(A)throw console.error("Error loading country rates:",A),A;if(H!=null&&H.error)throw new Error(H.error.message||"Failed to load country rates");H!=null&&H.data&&c(H.data)}catch(H){console.error("Error loading country rates:",H),a({type:"error",title:"Failed to load country rates"})}finally{p(!1)}},N=H=>{y(H.country_code),C({country_name:H.country_name,country_code:H.country_code,rate_a:H.rate_a,rate_b:H.rate_b})},B=()=>{y(null),C(null)},P=async()=>{if(!f||!g)return;const H=r.find(A=>A.country_code===g);if(!H){a({type:"error",title:"Country not found"});return}h(g);try{if(f.rate_a<0||f.rate_b<0)throw new Error("Rates must be positive numbers");const{data:A,error:R}=await de.functions.invoke("update-country-rates",{body:{countryId:H.id,rateA:f.rate_a,rateB:f.rate_b}});if(R)throw console.error("Error updating country rates:",R),R;if(A!=null&&A.error)throw new Error(A.error.message||"Failed to update country rates");a({type:"success",title:`Country rates updated successfully for ${f.country_name}`}),y(null),C(null),await j()}catch(A){console.error("Error updating country rate:",A),a({type:"error",title:A instanceof Error?A.message:"Failed to update country rates"})}finally{h(null)}},F=(H,A)=>{f&&C({...f,[H]:A})};return l?i.jsx("div",{className:"container mx-auto px-4 py-8","data-matrix-id":"src/pages/CountryRatesPage.tsx:158:6","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"158","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-8%22%7D",children:i.jsx("div",{className:"flex items-center justify-center py-12","data-matrix-id":"src/pages/CountryRatesPage.tsx:159:8","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"159","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20py-12%22%7D",children:i.jsxs("div",{className:"inline-flex items-center space-x-3","data-matrix-id":"src/pages/CountryRatesPage.tsx:160:10","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"160","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent","data-matrix-id":"src/pages/CountryRatesPage.tsx:161:12","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"161","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%22%7D"}),i.jsx("p",{className:"text-muted-foreground font-medium","data-matrix-id":"src/pages/CountryRatesPage.tsx:162:12","data-matrix-name":"p","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"162","data-component-file":"CountryRatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20font-medium%22%7D",children:"Loading country rates..."})]})})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8","data-matrix-id":"src/pages/CountryRatesPage.tsx:170:4","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"170","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-8%20space-y-8%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/CountryRatesPage.tsx:172:6","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"172","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:173:8","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"173","data-component-file":"CountryRatesPage.tsx","data-component-name":"div",children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center","data-matrix-id":"src/pages/CountryRatesPage.tsx:174:10","data-matrix-name":"h1","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"174","data-component-file":"CountryRatesPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20flex%20items-center%22%7D",children:[i.jsx(xl,{className:"h-8 w-8 mr-3 text-primary","data-matrix-id":"src/pages/CountryRatesPage.tsx:175:12","data-matrix-name":"Globe","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"175","data-component-file":"CountryRatesPage.tsx","data-component-name":"Globe","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20mr-3%20text-primary%22%7D"}),"Country Daily Rates"]}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/CountryRatesPage.tsx:178:10","data-matrix-name":"p","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"178","data-component-file":"CountryRatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Configure travel daily allowance rates by country. Used for calculating per diems on business trips."})]}),i.jsx("div",{className:"flex items-center space-x-3","data-matrix-id":"src/pages/CountryRatesPage.tsx:183:8","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"183","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:i.jsx(le,{variant:"outline",onClick:j,icon:i.jsx(Dl,{className:"h-4 w-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:187:18","data-matrix-name":"RefreshCw","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"187","data-component-file":"CountryRatesPage.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/CountryRatesPage.tsx:184:10","data-matrix-name":"Button","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"184","data-component-file":"CountryRatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"Refresh"})})]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:195:6","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"195","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-blue-50%20border%20border-blue-200%20rounded-lg%20p-4%22%7D",children:i.jsxs("div",{className:"flex items-start space-x-3","data-matrix-id":"src/pages/CountryRatesPage.tsx:196:8","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"196","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20space-x-3%22%7D",children:[i.jsx(lx,{className:"h-5 w-5 text-blue-500 mt-0.5 flex-shrink-0","data-matrix-id":"src/pages/CountryRatesPage.tsx:197:10","data-matrix-name":"MapPin","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"197","data-component-file":"CountryRatesPage.tsx","data-component-name":"MapPin","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-blue-500%20mt-0.5%20flex-shrink-0%22%7D"}),i.jsxs("div",{className:"text-sm text-blue-700","data-matrix-id":"src/pages/CountryRatesPage.tsx:198:10","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"198","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-blue-700%22%7D",children:[i.jsx("p",{className:"font-medium mb-1","data-matrix-id":"src/pages/CountryRatesPage.tsx:199:12","data-matrix-name":"p","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"199","data-component-file":"CountryRatesPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20mb-1%22%7D",children:"Daily Allowance Rate Guidelines:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-600","data-matrix-id":"src/pages/CountryRatesPage.tsx:200:12","data-matrix-name":"ul","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"200","data-component-file":"CountryRatesPage.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22list-disc%20list-inside%20space-y-1%20text-blue-600%22%7D",children:[i.jsxs("li",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:201:14","data-matrix-name":"li","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"201","data-component-file":"CountryRatesPage.tsx","data-component-name":"li",children:[i.jsx("strong",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:201:18","data-matrix-name":"strong","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"201","data-component-file":"CountryRatesPage.tsx","data-component-name":"strong",children:"Rate A (Partial Day):"})," Applied when travel duration is 8 hours but not a full day"]}),i.jsxs("li",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:202:14","data-matrix-name":"li","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"202","data-component-file":"CountryRatesPage.tsx","data-component-name":"li",children:[i.jsx("strong",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:202:18","data-matrix-name":"strong","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"202","data-component-file":"CountryRatesPage.tsx","data-component-name":"strong",children:"Rate B (Full Day):"})," Applied for each complete 24-hour period away from home"]}),i.jsx("li",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:203:14","data-matrix-name":"li","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"203","data-component-file":"CountryRatesPage.tsx","data-component-name":"li",children:"Rates are typically set annually based on cost of living and tax regulations"}),i.jsx("li",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:204:14","data-matrix-name":"li","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"204","data-component-file":"CountryRatesPage.tsx","data-component-name":"li",children:"Changes affect all new travel expense calculations"})]})]})]})}),i.jsx("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/CountryRatesPage.tsx:213:6","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"213","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:i.jsx("div",{className:"p-6","data-matrix-id":"src/pages/CountryRatesPage.tsx:214:8","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"214","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22p-6%22%7D",children:i.jsx("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/CountryRatesPage.tsx:215:10","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"215","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:i.jsxs("table",{className:"w-full border-collapse","data-matrix-id":"src/pages/CountryRatesPage.tsx:216:12","data-matrix-name":"table","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"216","data-component-file":"CountryRatesPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22w-full%20border-collapse%22%7D",children:[i.jsx("thead",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:217:14","data-matrix-name":"thead","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"217","data-component-file":"CountryRatesPage.tsx","data-component-name":"thead",children:i.jsxs("tr",{className:"border-b border-border","data-matrix-id":"src/pages/CountryRatesPage.tsx:218:16","data-matrix-name":"tr","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"218","data-component-file":"CountryRatesPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22border-b%20border-border%22%7D",children:[i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:219:18","data-matrix-name":"th","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"219","data-component-file":"CountryRatesPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Country"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:220:18","data-matrix-name":"th","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"220","data-component-file":"CountryRatesPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Code"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:221:18","data-matrix-name":"th","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"221","data-component-file":"CountryRatesPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Rate A (Partial)"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:222:18","data-matrix-name":"th","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"222","data-component-file":"CountryRatesPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Rate B (Full Day)"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:223:18","data-matrix-name":"th","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"223","data-component-file":"CountryRatesPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Effective From"}),i.jsx("th",{className:"text-left py-3 px-4 font-semibold text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:224:18","data-matrix-name":"th","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"224","data-component-file":"CountryRatesPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22text-left%20py-3%20px-4%20font-semibold%20text-foreground%22%7D",children:"Actions"})]})}),i.jsx("tbody",{"data-matrix-id":"src/pages/CountryRatesPage.tsx:227:14","data-matrix-name":"tbody","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"227","data-component-file":"CountryRatesPage.tsx","data-component-name":"tbody",children:r.map(H=>{const A=g===H.country_code,R=x===H.country_code;return i.jsxs("tr",{className:ne("border-b border-border/50 hover:bg-accent/30 transition-colors",{"bg-accent/50":A}),"data-matrix-id":"src/pages/CountryRatesPage.tsx:233:20","data-matrix-name":"tr","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"233","data-component-file":"CountryRatesPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22%5BCallExpression%5D%22%7D",children:[i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:243:22","data-matrix-name":"td","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"243","data-component-file":"CountryRatesPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsxs("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/CountryRatesPage.tsx:244:24","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"244","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:[i.jsx(xl,{className:"h-4 w-4 text-muted-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:245:26","data-matrix-name":"Globe","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"245","data-component-file":"CountryRatesPage.tsx","data-component-name":"Globe","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%20text-muted-foreground%22%7D"}),i.jsx("span",{className:"font-medium text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:246:26","data-matrix-name":"span","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"246","data-component-file":"CountryRatesPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:H.country_name})]})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:253:22","data-matrix-name":"td","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"253","data-component-file":"CountryRatesPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsx("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-mono bg-muted text-muted-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:254:24","data-matrix-name":"span","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"254","data-component-file":"CountryRatesPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-block%20px-2%20py-1%20rounded-full%20text-xs%20font-mono%20bg-muted%20text-muted-foreground%22%7D",children:H.country_code})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:260:22","data-matrix-name":"td","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"260","data-component-file":"CountryRatesPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:A?i.jsx("div",{className:"flex items-center space-x-1","data-matrix-id":"src/pages/CountryRatesPage.tsx:262:26","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"262","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",children:i.jsx(Te,{type:"number",value:(f==null?void 0:f.rate_a)||0,onChange:$=>F("rate_a",parseFloat($.target.value)||0),className:"w-20",min:0,step:.5,"data-matrix-id":"src/pages/CountryRatesPage.tsx:263:28","data-matrix-name":"Input","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"263","data-component-file":"CountryRatesPage.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-20%22%2C%22min%22%3A0%2C%22step%22%3A0.5%7D"})}):i.jsx("div",{className:"flex items-center space-x-1","data-matrix-id":"src/pages/CountryRatesPage.tsx:273:26","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"273","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",children:i.jsx("span",{className:"font-medium text-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:274:28","data-matrix-name":"span","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"274","data-component-file":"CountryRatesPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-foreground%22%7D",children:n(H.rate_a)})})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:282:22","data-matrix-name":"td","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"282","data-component-file":"CountryRatesPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:A?i.jsx("div",{className:"flex items-center space-x-1","data-matrix-id":"src/pages/CountryRatesPage.tsx:284:26","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"284","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",children:i.jsx(Te,{type:"number",value:(f==null?void 0:f.rate_b)||0,onChange:$=>F("rate_b",parseFloat($.target.value)||0),className:"w-20",min:0,step:.5,"data-matrix-id":"src/pages/CountryRatesPage.tsx:285:28","data-matrix-name":"Input","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"285","data-component-file":"CountryRatesPage.tsx","data-component-name":"Input","data-component-content":"%7B%22type%22%3A%22number%22%2C%22value%22%3A%22%5BLogicalExpression%5D%22%2C%22onChange%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22w-20%22%2C%22min%22%3A0%2C%22step%22%3A0.5%7D"})}):i.jsx("div",{className:"flex items-center space-x-1","data-matrix-id":"src/pages/CountryRatesPage.tsx:295:26","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"295","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-1%22%7D",children:i.jsx("span",{className:"font-medium text-primary","data-matrix-id":"src/pages/CountryRatesPage.tsx:296:28","data-matrix-name":"span","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"296","data-component-file":"CountryRatesPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22font-medium%20text-primary%22%7D",children:n(H.rate_b)})})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:304:22","data-matrix-name":"td","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"304","data-component-file":"CountryRatesPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsx("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/CountryRatesPage.tsx:305:24","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"305","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:je(new Date(H.effective_from),"MMM d, yyyy")})}),i.jsx("td",{className:"py-4 px-4","data-matrix-id":"src/pages/CountryRatesPage.tsx:311:22","data-matrix-name":"td","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"311","data-component-file":"CountryRatesPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22py-4%20px-4%22%7D",children:i.jsx("div",{className:"flex items-center space-x-2","data-matrix-id":"src/pages/CountryRatesPage.tsx:312:24","data-matrix-name":"div","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"312","data-component-file":"CountryRatesPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-2%22%7D",children:A?i.jsxs(i.Fragment,{children:[i.jsx(le,{size:"sm",variant:"success",onClick:P,loading:R,icon:i.jsx(Ji,{className:"h-3 w-3","data-matrix-id":"src/pages/CountryRatesPage.tsx:320:38","data-matrix-name":"Save","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"320","data-component-file":"CountryRatesPage.tsx","data-component-name":"Save","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%22%7D"}),className:"text-xs","data-matrix-id":"src/pages/CountryRatesPage.tsx:315:30","data-matrix-name":"Button","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"315","data-component-file":"CountryRatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22success%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22loading%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Save"}),i.jsx(le,{size:"sm",variant:"ghost",onClick:B,disabled:R,className:"text-xs","data-matrix-id":"src/pages/CountryRatesPage.tsx:325:30","data-matrix-name":"Button","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"325","data-component-file":"CountryRatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BIdentifier%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Cancel"})]}):i.jsx(le,{size:"sm",variant:"outline",onClick:()=>N(H),className:"text-xs","data-matrix-id":"src/pages/CountryRatesPage.tsx:336:28","data-matrix-name":"Button","data-component-path":"src/pages/CountryRatesPage.tsx","data-component-line":"336","data-component-file":"CountryRatesPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22className%22%3A%22text-xs%22%7D",children:"Edit"})})})]},H.country_code)})})]})})})})]})}function mP(){const{user:o}=Ra(),{currency:a,refreshCurrency:n}=kl(),{addNotification:r}=ns(),[c,l]=_.useState([]),[p,x]=_.useState(!0),[h,g]=_.useState(null),[y,f]=_.useState(!1),[C,j]=_.useState(null);_.useEffect(()=>{N()},[]);const N=async()=>{try{x(!0);const{data:A,error:R}=await de.functions.invoke("get-admin-currency-settings");if(R){console.error("Error loading currencies:",R),r({type:"error",title:"Failed to load currency settings"});return}if(A!=null&&A.error)throw new Error(A.error.message||"Failed to load currency settings");A!=null&&A.data&&l(A.data)}catch(A){console.error("Error loading currencies:",A),r({type:"error",title:"Failed to load currency settings"})}finally{x(!1)}},B=A=>{A.is_active||(j(A),f(!0))},P=async()=>{if(!(!C||!o))try{g(C.currency_code);const{data:A,error:R}=await de.functions.invoke("update-currency-settings",{body:{currency_code:C.currency_code}});if(R)throw console.error("Error updating currency:",R),R;if(A!=null&&A.error)throw new Error(A.error.message||"Failed to update currency settings");r({type:"success",title:`Currency changed to ${C.currency_name} (${C.currency_code}) successfully`}),await Promise.all([n(),N()])}catch(A){console.error("Error updating currency:",A),r({type:"error",title:A instanceof Error?A.message:"Failed to update currency settings"})}finally{g(null),f(!1),j(null)}},F=()=>{f(!1),j(null)},H=A=>new Date(A).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return p?i.jsx("div",{className:"container mx-auto px-4 py-8","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:136:6","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"136","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-8%22%7D",children:i.jsx("div",{className:"flex items-center justify-center py-12","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:137:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"137","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-center%20py-12%22%7D",children:i.jsxs("div",{className:"inline-flex items-center space-x-3","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:138:10","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"138","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20space-x-3%22%7D",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:139:12","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"139","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-2%20border-primary%20border-t-transparent%22%7D"}),i.jsx("p",{className:"text-muted-foreground font-medium","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:140:12","data-matrix-name":"p","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"140","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20font-medium%22%7D",children:"Loading currency settings..."})]})})}):i.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:148:4","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"148","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22container%20mx-auto%20px-4%20py-8%20space-y-8%22%7D",children:[i.jsxs("div",{className:"flex items-center justify-between","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:150:6","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"150","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-between%22%7D",children:[i.jsxs("div",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:151:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"151","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div",children:[i.jsxs("h1",{className:"text-3xl font-bold text-foreground flex items-center","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:152:10","data-matrix-name":"h1","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"152","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"h1","data-component-content":"%7B%22className%22%3A%22text-3xl%20font-bold%20text-foreground%20flex%20items-center%22%7D",children:[i.jsx(Gi,{className:"h-8 w-8 mr-3 text-primary","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:153:12","data-matrix-name":"DollarSign","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"153","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"DollarSign","data-component-content":"%7B%22className%22%3A%22h-8%20w-8%20mr-3%20text-primary%22%7D"}),"Currency Settings"]}),i.jsx("p",{className:"text-muted-foreground mt-2","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:156:10","data-matrix-name":"p","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"156","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mt-2%22%7D",children:"Configure the default currency used throughout the application for all financial displays."})]}),i.jsx("div",{className:"flex items-center space-x-3","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:161:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"161","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-3%22%7D",children:i.jsx(le,{variant:"outline",onClick:N,icon:i.jsx(Dl,{className:"h-4 w-4","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:165:18","data-matrix-name":"RefreshCw","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"165","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"RefreshCw","data-component-content":"%7B%22className%22%3A%22h-4%20w-4%22%7D"}),"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:162:10","data-matrix-name":"Button","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"162","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22icon%22%3A%22%5BJSXElement%5D%22%7D",children:"Refresh"})})]}),i.jsxs("div",{className:"modern-card glass-card p-6","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:173:6","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"173","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20p-6%22%7D",children:[i.jsxs("h2",{className:"text-xl font-semibold text-foreground mb-4 flex items-center","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:174:8","data-matrix-name":"h2","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"174","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-xl%20font-semibold%20text-foreground%20mb-4%20flex%20items-center%22%7D",children:[i.jsx(ir,{className:"h-5 w-5 mr-2 text-green-600","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:175:10","data-matrix-name":"Check","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"175","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20mr-2%20text-green-600%22%7D"}),"Current Active Currency"]}),i.jsxs("div",{className:"flex items-center space-x-4","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:178:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"178","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20space-x-4%22%7D",children:[i.jsx("div",{className:"text-4xl font-bold text-primary","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:179:10","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"179","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-4xl%20font-bold%20text-primary%22%7D",children:a.symbol}),i.jsxs("div",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:182:10","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"182","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div",children:[i.jsxs("div",{className:"text-lg font-semibold text-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:183:12","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"183","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%22%7D",children:[a.name," (",a.code,")"]}),i.jsxs("div",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:186:12","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"186","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:["Decimal places: ",a.decimalPlaces]})]})]})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:194:6","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"194","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-yellow-50%20border%20border-yellow-200%20rounded-lg%20p-4%22%7D",children:i.jsxs("div",{className:"flex items-start space-x-3","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:195:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"195","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-start%20space-x-3%22%7D",children:[i.jsx(Jo,{className:"h-5 w-5 text-yellow-500 mt-0.5 flex-shrink-0","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:196:10","data-matrix-name":"AlertCircle","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"196","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22h-5%20w-5%20text-yellow-500%20mt-0.5%20flex-shrink-0%22%7D"}),i.jsxs("div",{className:"text-sm text-yellow-700","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:197:10","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"197","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-yellow-700%22%7D",children:[i.jsx("p",{className:"font-medium mb-1","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:198:12","data-matrix-name":"p","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"198","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22font-medium%20mb-1%22%7D",children:"Important Notice:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-yellow-600","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:199:12","data-matrix-name":"ul","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"199","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"ul","data-component-content":"%7B%22className%22%3A%22list-disc%20list-inside%20space-y-1%20text-yellow-600%22%7D",children:[i.jsx("li",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:200:14","data-matrix-name":"li","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"200","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"li",children:"Changing the currency will affect all financial displays across the application"}),i.jsx("li",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:201:14","data-matrix-name":"li","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"201","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"li",children:"This includes expense amounts, VAT calculations, daily allowances, and reports"}),i.jsx("li",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:202:14","data-matrix-name":"li","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"202","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"li",children:"Existing data values remain unchanged - only the display format changes"}),i.jsx("li",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:203:14","data-matrix-name":"li","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"203","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"li",children:"All users will see the new currency formatting immediately"})]})]})]})}),i.jsxs("div",{className:"modern-card glass-card overflow-hidden","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:210:6","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"210","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22modern-card%20glass-card%20overflow-hidden%22%7D",children:[i.jsxs("div",{className:"px-6 py-4 border-b border-border","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:211:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"211","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20border-b%20border-border%22%7D",children:[i.jsx("h2",{className:"text-lg font-medium text-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:212:10","data-matrix-name":"h2","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"212","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"h2","data-component-content":"%7B%22className%22%3A%22text-lg%20font-medium%20text-foreground%22%7D",children:"Available Currencies"}),i.jsx("p",{className:"text-sm text-muted-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:213:10","data-matrix-name":"p","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"213","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-sm%20text-muted-foreground%22%7D",children:"Select a currency to set as the new default for the application."})]}),i.jsx("div",{className:"overflow-x-auto","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:218:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"218","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22overflow-x-auto%22%7D",children:i.jsxs("table",{className:"min-w-full divide-y divide-border","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:219:10","data-matrix-name":"table","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"219","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"table","data-component-content":"%7B%22className%22%3A%22min-w-full%20divide-y%20divide-border%22%7D",children:[i.jsx("thead",{className:"bg-muted/30","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:220:12","data-matrix-name":"thead","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"220","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"thead","data-component-content":"%7B%22className%22%3A%22bg-muted%2F30%22%7D",children:i.jsxs("tr",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:221:14","data-matrix-name":"tr","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"221","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"tr",children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:222:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"222","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-left%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Currency"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:225:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"225","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-left%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Symbol"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:228:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"228","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-left%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Code"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:231:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"231","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-left%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Decimal Places"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:234:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"234","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-left%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:237:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"237","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-left%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Last Updated"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-muted-foreground uppercase tracking-wider","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:240:16","data-matrix-name":"th","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"240","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"th","data-component-content":"%7B%22className%22%3A%22px-6%20py-3%20text-right%20text-xs%20font-medium%20text-muted-foreground%20uppercase%20tracking-wider%22%7D",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-card divide-y divide-border","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:245:12","data-matrix-name":"tbody","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"245","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"tbody","data-component-content":"%7B%22className%22%3A%22bg-card%20divide-y%20divide-border%22%7D",children:c.map(A=>i.jsxs("tr",{className:"hover:bg-muted/20","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:247:16","data-matrix-name":"tr","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"247","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"tr","data-component-content":"%7B%22className%22%3A%22hover%3Abg-muted%2F20%22%7D",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:248:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"248","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:i.jsx("div",{className:"text-sm font-medium text-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:249:20","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"249","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20font-medium%20text-foreground%22%7D",children:A.currency_name})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:253:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"253","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:i.jsx("div",{className:"text-lg font-bold text-primary","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:254:20","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"254","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-lg%20font-bold%20text-primary%22%7D",children:A.currency_symbol})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:258:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"258","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:i.jsx("div",{className:"text-sm text-foreground font-mono bg-muted/50 px-2 py-1 rounded","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:259:20","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"259","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-sm%20text-foreground%20font-mono%20bg-muted%2F50%20px-2%20py-1%20rounded%22%7D",children:A.currency_code})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:263:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"263","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%20text-sm%20text-foreground%22%7D",children:A.decimal_places}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:266:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"266","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%22%7D",children:A.is_active?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:268:22","data-matrix-name":"span","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"268","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20px-2.5%20py-0.5%20rounded-full%20text-xs%20font-medium%20bg-green-100%20text-green-800%22%7D",children:[i.jsx(ir,{className:"h-3 w-3 mr-1","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:269:24","data-matrix-name":"Check","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"269","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"Check","data-component-content":"%7B%22className%22%3A%22h-3%20w-3%20mr-1%22%7D"}),"Active"]}):i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:273:22","data-matrix-name":"span","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"273","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22inline-flex%20items-center%20px-2.5%20py-0.5%20rounded-full%20text-xs%20font-medium%20bg-gray-100%20text-gray-800%22%7D",children:"Inactive"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:278:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"278","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%20text-sm%20text-muted-foreground%22%7D",children:H(A.updated_at)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:281:18","data-matrix-name":"td","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"281","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"td","data-component-content":"%7B%22className%22%3A%22px-6%20py-4%20whitespace-nowrap%20text-right%20text-sm%20font-medium%22%7D",children:A.is_active?i.jsx("span",{className:"text-muted-foreground","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:283:22","data-matrix-name":"span","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"283","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"span","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%22%7D",children:"Current"}):i.jsx(le,{size:"sm",variant:"outline",onClick:()=>B(A),disabled:h===A.currency_code,loading:h===A.currency_code,"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:285:22","data-matrix-name":"Button","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"285","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22size%22%3A%22sm%22%2C%22variant%22%3A%22outline%22%2C%22onClick%22%3A%22%5BArrowFunctionExpression%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%2C%22loading%22%3A%22%5BBinaryExpression%5D%22%7D",children:"Set Active"})})]},A.currency_code))})]})})]}),y&&C&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:305:8","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"305","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22fixed%20inset-0%20bg-black%2F50%20z-50%20flex%20items-center%20justify-center%20p-4%22%7D",children:i.jsx("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-md p-6","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:306:10","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"306","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22bg-card%20rounded-xl%20shadow-xl%20w-full%20max-w-md%20p-6%22%7D",children:i.jsxs("div",{className:"text-center","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:307:12","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"307","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22text-center%22%7D",children:[i.jsx(Jo,{className:"h-12 w-12 text-yellow-500 mx-auto mb-4","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:308:14","data-matrix-name":"AlertCircle","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"308","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"AlertCircle","data-component-content":"%7B%22className%22%3A%22h-12%20w-12%20text-yellow-500%20mx-auto%20mb-4%22%7D"}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:309:14","data-matrix-name":"h3","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"309","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"h3","data-component-content":"%7B%22className%22%3A%22text-lg%20font-semibold%20text-foreground%20mb-2%22%7D",children:"Confirm Currency Change"}),i.jsxs("p",{className:"text-muted-foreground mb-6","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:312:14","data-matrix-name":"p","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"312","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"p","data-component-content":"%7B%22className%22%3A%22text-muted-foreground%20mb-6%22%7D",children:["Are you sure you want to change the default currency to ",i.jsxs("strong",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:313:72","data-matrix-name":"strong","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"313","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"strong",children:[C.currency_name," (",C.currency_code,")"]}),"?",i.jsx("br",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:314:16","data-matrix-name":"br","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"314","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"br"}),i.jsx("br",{"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:314:22","data-matrix-name":"br","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"314","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"br"}),"This will immediately affect all financial displays across the entire application for all users."]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3","data-matrix-id":"src/pages/CurrencySettingsPage.tsx:317:14","data-matrix-name":"div","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"317","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22flex%20items-center%20justify-end%20space-x-3%22%7D",children:[i.jsx(le,{variant:"ghost",onClick:F,disabled:h!==null,"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:318:16","data-matrix-name":"Button","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"318","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22ghost%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22disabled%22%3A%22%5BBinaryExpression%5D%22%7D",children:"Cancel"}),i.jsx(le,{variant:"primary",onClick:P,loading:h!==null,"data-matrix-id":"src/pages/CurrencySettingsPage.tsx:325:16","data-matrix-name":"Button","data-component-path":"src/pages/CurrencySettingsPage.tsx","data-component-line":"325","data-component-file":"CurrencySettingsPage.tsx","data-component-name":"Button","data-component-content":"%7B%22variant%22%3A%22primary%22%2C%22onClick%22%3A%22%5BIdentifier%5D%22%2C%22loading%22%3A%22%5BBinaryExpression%5D%22%7D",children:"Confirm Change"})]})]})})})]})}const pP=new Xg;function Ba({children:o,requireAdmin:a=!1,requireConsultant:n=!1}){const{user:r,loading:c,isAdmin:l,isConsultant:p}=Ra();return c?i.jsx("div",{className:"min-h-screen flex items-center justify-center","data-matrix-id":"src/App.tsx:30:6","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"30","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22min-h-screen%20flex%20items-center%20justify-center%22%7D",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600","data-matrix-id":"src/App.tsx:31:8","data-matrix-name":"div","data-component-path":"src/App.tsx","data-component-line":"31","data-component-file":"App.tsx","data-component-name":"div","data-component-content":"%7B%22className%22%3A%22animate-spin%20rounded-full%20h-8%20w-8%20border-b-2%20border-blue-600%22%7D"})}):r?a&&!l?i.jsx(sa,{to:"/consultant/timesheets",replace:!0,"data-matrix-id":"src/App.tsx:42:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"42","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fconsultant%2Ftimesheets%22%2C%22replace%22%3Atrue%7D"}):n&&!p?i.jsx(sa,{to:"/admin/projects",replace:!0,"data-matrix-id":"src/App.tsx:46:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"46","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fadmin%2Fprojects%22%2C%22replace%22%3Atrue%7D"}):i.jsx(Sy,{"data-matrix-id":"src/App.tsx:49:9","data-matrix-name":"Layout","data-component-path":"src/App.tsx","data-component-line":"49","data-component-file":"App.tsx","data-component-name":"Layout",children:o}):i.jsx(sa,{to:"/login",replace:!0,"data-matrix-id":"src/App.tsx:37:11","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"37","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Flogin%22%2C%22replace%22%3Atrue%7D"})}function uP(){const{user:o,isAdmin:a,isConsultant:n}=Ra();return i.jsxs(yg,{"data-matrix-id":"src/App.tsx:56:4","data-matrix-name":"Routes","data-component-path":"src/App.tsx","data-component-line":"56","data-component-file":"App.tsx","data-component-name":"Routes",children:[i.jsx(Ut,{path:"/login",element:o?a?i.jsx(sa,{to:"/admin/projects",replace:!0,"data-matrix-id":"src/App.tsx:60:20","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"60","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fadmin%2Fprojects%22%2C%22replace%22%3Atrue%7D"}):i.jsx(sa,{to:"/consultant/timesheets",replace:!0,"data-matrix-id":"src/App.tsx:60:64","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"60","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fconsultant%2Ftimesheets%22%2C%22replace%22%3Atrue%7D"}):i.jsx(_y,{"data-matrix-id":"src/App.tsx:61:12","data-matrix-name":"LoginPage","data-component-path":"src/App.tsx","data-component-line":"61","data-component-file":"App.tsx","data-component-name":"LoginPage"}),"data-matrix-id":"src/App.tsx:57:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"57","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Flogin%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"}),i.jsx(Ut,{path:"/consultant/timesheets",element:i.jsx(Ba,{requireConsultant:!0,"data-matrix-id":"src/App.tsx:66:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"66","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireConsultant%22%3Atrue%7D",children:i.jsx(aP,{"data-matrix-id":"src/App.tsx:67:10","data-matrix-name":"TimesheetPage","data-component-path":"src/App.tsx","data-component-line":"67","data-component-file":"App.tsx","data-component-name":"TimesheetPage"})}),"data-matrix-id":"src/App.tsx:65:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"65","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fconsultant%2Ftimesheets%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/consultant/history",element:i.jsx(Ba,{requireConsultant:!0,"data-matrix-id":"src/App.tsx:72:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"72","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireConsultant%22%3Atrue%7D",children:i.jsx(nP,{"data-matrix-id":"src/App.tsx:73:10","data-matrix-name":"TimesheetHistoryPage","data-component-path":"src/App.tsx","data-component-line":"73","data-component-file":"App.tsx","data-component-name":"TimesheetHistoryPage"})}),"data-matrix-id":"src/App.tsx:71:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"71","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fconsultant%2Fhistory%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/projects",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:79:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"79","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(oP,{"data-matrix-id":"src/App.tsx:80:10","data-matrix-name":"ProjectsPage","data-component-path":"src/App.tsx","data-component-line":"80","data-component-file":"App.tsx","data-component-name":"ProjectsPage"})}),"data-matrix-id":"src/App.tsx:78:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"78","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fprojects%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/approvals",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:85:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"85","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(sP,{"data-matrix-id":"src/App.tsx:86:10","data-matrix-name":"ApprovalsPage","data-component-path":"src/App.tsx","data-component-line":"86","data-component-file":"App.tsx","data-component-name":"ApprovalsPage"})}),"data-matrix-id":"src/App.tsx:84:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"84","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fapprovals%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/users",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:91:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"91","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(rP,{"data-matrix-id":"src/App.tsx:92:10","data-matrix-name":"UsersPage","data-component-path":"src/App.tsx","data-component-line":"92","data-component-file":"App.tsx","data-component-name":"UsersPage"})}),"data-matrix-id":"src/App.tsx:90:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"90","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fusers%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/settings",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:97:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"97","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(iP,{"data-matrix-id":"src/App.tsx:98:10","data-matrix-name":"SettingsPage","data-component-path":"src/App.tsx","data-component-line":"98","data-component-file":"App.tsx","data-component-name":"SettingsPage"})}),"data-matrix-id":"src/App.tsx:96:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"96","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fsettings%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/vat-settings",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:103:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"103","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(dP,{"data-matrix-id":"src/App.tsx:104:10","data-matrix-name":"VatSettingsPage","data-component-path":"src/App.tsx","data-component-line":"104","data-component-file":"App.tsx","data-component-name":"VatSettingsPage"})}),"data-matrix-id":"src/App.tsx:102:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"102","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fvat-settings%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/country-rates",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:109:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"109","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(lP,{"data-matrix-id":"src/App.tsx:110:10","data-matrix-name":"CountryRatesPage","data-component-path":"src/App.tsx","data-component-line":"110","data-component-file":"App.tsx","data-component-name":"CountryRatesPage"})}),"data-matrix-id":"src/App.tsx:108:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"108","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fcountry-rates%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/admin/currency-settings",element:i.jsx(Ba,{requireAdmin:!0,"data-matrix-id":"src/App.tsx:115:8","data-matrix-name":"ProtectedRoute","data-component-path":"src/App.tsx","data-component-line":"115","data-component-file":"App.tsx","data-component-name":"ProtectedRoute","data-component-content":"%7B%22requireAdmin%22%3Atrue%7D",children:i.jsx(mP,{"data-matrix-id":"src/App.tsx:116:10","data-matrix-name":"CurrencySettingsPage","data-component-path":"src/App.tsx","data-component-line":"116","data-component-file":"App.tsx","data-component-name":"CurrencySettingsPage"})}),"data-matrix-id":"src/App.tsx:114:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"114","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2Fadmin%2Fcurrency-settings%22%2C%22element%22%3A%22%5BJSXElement%5D%22%7D"}),i.jsx(Ut,{path:"/",element:o?a?i.jsx(sa,{to:"/admin/projects",replace:!0,"data-matrix-id":"src/App.tsx:123:20","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"123","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fadmin%2Fprojects%22%2C%22replace%22%3Atrue%7D"}):i.jsx(sa,{to:"/consultant/timesheets",replace:!0,"data-matrix-id":"src/App.tsx:123:64","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"123","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fconsultant%2Ftimesheets%22%2C%22replace%22%3Atrue%7D"}):i.jsx(sa,{to:"/login",replace:!0,"data-matrix-id":"src/App.tsx:124:12","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"124","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Flogin%22%2C%22replace%22%3Atrue%7D"}),"data-matrix-id":"src/App.tsx:121:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"121","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22%2F%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"}),i.jsx(Ut,{path:"*",element:o?a?i.jsx(sa,{to:"/admin/projects",replace:!0,"data-matrix-id":"src/App.tsx:130:20","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"130","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fadmin%2Fprojects%22%2C%22replace%22%3Atrue%7D"}):i.jsx(sa,{to:"/consultant/timesheets",replace:!0,"data-matrix-id":"src/App.tsx:130:64","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"130","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Fconsultant%2Ftimesheets%22%2C%22replace%22%3Atrue%7D"}):i.jsx(sa,{to:"/login",replace:!0,"data-matrix-id":"src/App.tsx:131:12","data-matrix-name":"Navigate","data-component-path":"src/App.tsx","data-component-line":"131","data-component-file":"App.tsx","data-component-name":"Navigate","data-component-content":"%7B%22to%22%3A%22%2Flogin%22%2C%22replace%22%3Atrue%7D"}),"data-matrix-id":"src/App.tsx:128:6","data-matrix-name":"Route","data-component-path":"src/App.tsx","data-component-line":"128","data-component-file":"App.tsx","data-component-name":"Route","data-component-content":"%7B%22path%22%3A%22*%22%2C%22element%22%3A%22%5BConditionalExpression%5D%22%7D"})]})}function xP(){return i.jsx(e0,{client:pP,"data-matrix-id":"src/App.tsx:139:4","data-matrix-name":"QueryClientProvider","data-component-path":"src/App.tsx","data-component-line":"139","data-component-file":"App.tsx","data-component-name":"QueryClientProvider","data-component-content":"%7B%22client%22%3A%22%5BIdentifier%5D%22%7D",children:i.jsx(iy,{"data-matrix-id":"src/App.tsx:140:6","data-matrix-name":"AuthProvider","data-component-path":"src/App.tsx","data-component-line":"140","data-component-file":"App.tsx","data-component-name":"AuthProvider",children:i.jsx(jy,{"data-matrix-id":"src/App.tsx:141:8","data-matrix-name":"CurrencyProvider","data-component-path":"src/App.tsx","data-component-line":"141","data-component-file":"App.tsx","data-component-name":"CurrencyProvider",children:i.jsx(Cy,{"data-matrix-id":"src/App.tsx:142:10","data-matrix-name":"NotificationProvider","data-component-path":"src/App.tsx","data-component-line":"142","data-component-file":"App.tsx","data-component-name":"NotificationProvider",children:i.jsx(jg,{"data-matrix-id":"src/App.tsx:143:12","data-matrix-name":"Router","data-component-path":"src/App.tsx","data-component-line":"143","data-component-file":"App.tsx","data-component-name":"Router",children:i.jsx(uP,{"data-matrix-id":"src/App.tsx:144:14","data-matrix-name":"AppContent","data-component-path":"src/App.tsx","data-component-line":"144","data-component-file":"App.tsx","data-component-name":"AppContent"})})})})})})}jf.createRoot(document.getElementById("root")).render(i.jsx(_.StrictMode,{"data-matrix-id":"src/main.tsx:8:2","data-matrix-name":"StrictMode","data-component-path":"src/main.tsx","data-component-line":"8","data-component-file":"main.tsx","data-component-name":"StrictMode",children:i.jsx(_f,{"data-matrix-id":"src/main.tsx:9:4","data-matrix-name":"ErrorBoundary","data-component-path":"src/main.tsx","data-component-line":"9","data-component-file":"main.tsx","data-component-name":"ErrorBoundary",children:i.jsx(xP,{"data-matrix-id":"src/main.tsx:10:6","data-matrix-name":"App","data-component-path":"src/main.tsx","data-component-line":"10","data-component-file":"main.tsx","data-component-name":"App"})})}));

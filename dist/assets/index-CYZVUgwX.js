var Xh=s=>{throw TypeError(s)};var pu=(s,r,n)=>r.has(s)||Xh("Cannot "+n);var z=(s,r,n)=>(pu(s,r,"read from private field"),n?n.call(s):r.get(s)),Oe=(s,r,n)=>r.has(s)?Xh("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(s):r.set(s,n),me=(s,r,n,a)=>(pu(s,r,"write to private field"),a?a.call(s,n):r.set(s,n),n),yt=(s,r,n)=>(pu(s,r,"access private method"),n);var to=(s,r,n,a)=>({set _(o){me(s,r,o,n)},get _(){return z(s,r,a)}});function av(s,r){for(var n=0;n<r.length;n++){const a=r[n];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function ov(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var r=s.default;if(typeof r=="function"){var n=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(a){var o=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return s[a]}})}),n}var gu={exports:{}},Ni={},vu={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function lv(){if(Zh)return je;Zh=1;var s=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,P={};function _(N,B,pe){this.props=N,this.context=B,this.refs=P,this.updater=pe||C}_.prototype.isReactComponent={},_.prototype.setState=function(N,B){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,B,"setState")},_.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function M(){}M.prototype=_.prototype;function G(N,B,pe){this.props=N,this.context=B,this.refs=P,this.updater=pe||C}var D=G.prototype=new M;D.constructor=G,j(D,_.prototype),D.isPureReactComponent=!0;var F=Array.isArray,U=Object.prototype.hasOwnProperty,J={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function re(N,B,pe){var xe,Se={},Ne=null,Ae=null;if(B!=null)for(xe in B.ref!==void 0&&(Ae=B.ref),B.key!==void 0&&(Ne=""+B.key),B)U.call(B,xe)&&!E.hasOwnProperty(xe)&&(Se[xe]=B[xe]);var Me=arguments.length-2;if(Me===1)Se.children=pe;else if(1<Me){for(var Fe=Array(Me),xt=0;xt<Me;xt++)Fe[xt]=arguments[xt+2];Se.children=Fe}if(N&&N.defaultProps)for(xe in Me=N.defaultProps,Me)Se[xe]===void 0&&(Se[xe]=Me[xe]);return{$$typeof:s,type:N,key:Ne,ref:Ae,props:Se,_owner:J.current}}function W(N,B){return{$$typeof:s,type:N.type,key:B,ref:N.ref,props:N.props,_owner:N._owner}}function I(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function Y(N){var B={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(pe){return B[pe]})}var fe=/\/+/g;function Ee(N,B){return typeof N=="object"&&N!==null&&N.key!=null?Y(""+N.key):B.toString(36)}function Pe(N,B,pe,xe,Se){var Ne=typeof N;(Ne==="undefined"||Ne==="boolean")&&(N=null);var Ae=!1;if(N===null)Ae=!0;else switch(Ne){case"string":case"number":Ae=!0;break;case"object":switch(N.$$typeof){case s:case r:Ae=!0}}if(Ae)return Ae=N,Se=Se(Ae),N=xe===""?"."+Ee(Ae,0):xe,F(Se)?(pe="",N!=null&&(pe=N.replace(fe,"$&/")+"/"),Pe(Se,B,pe,"",function(xt){return xt})):Se!=null&&(I(Se)&&(Se=W(Se,pe+(!Se.key||Ae&&Ae.key===Se.key?"":(""+Se.key).replace(fe,"$&/")+"/")+N)),B.push(Se)),1;if(Ae=0,xe=xe===""?".":xe+":",F(N))for(var Me=0;Me<N.length;Me++){Ne=N[Me];var Fe=xe+Ee(Ne,Me);Ae+=Pe(Ne,B,pe,Fe,Se)}else if(Fe=k(N),typeof Fe=="function")for(N=Fe.call(N),Me=0;!(Ne=N.next()).done;)Ne=Ne.value,Fe=xe+Ee(Ne,Me++),Ae+=Pe(Ne,B,pe,Fe,Se);else if(Ne==="object")throw B=String(N),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.");return Ae}function Xe(N,B,pe){if(N==null)return N;var xe=[],Se=0;return Pe(N,xe,"","",function(Ne){return B.call(pe,Ne,Se++)}),xe}function tt(N){if(N._status===-1){var B=N._result;B=B(),B.then(function(pe){(N._status===0||N._status===-1)&&(N._status=1,N._result=pe)},function(pe){(N._status===0||N._status===-1)&&(N._status=2,N._result=pe)}),N._status===-1&&(N._status=0,N._result=B)}if(N._status===1)return N._result.default;throw N._result}var ye={current:null},Z={transition:null},oe={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:Z,ReactCurrentOwner:J};function ee(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:Xe,forEach:function(N,B,pe){Xe(N,function(){B.apply(this,arguments)},pe)},count:function(N){var B=0;return Xe(N,function(){B++}),B},toArray:function(N){return Xe(N,function(B){return B})||[]},only:function(N){if(!I(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},je.Component=_,je.Fragment=n,je.Profiler=o,je.PureComponent=G,je.StrictMode=a,je.Suspense=p,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,je.act=ee,je.cloneElement=function(N,B,pe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var xe=j({},N.props),Se=N.key,Ne=N.ref,Ae=N._owner;if(B!=null){if(B.ref!==void 0&&(Ne=B.ref,Ae=J.current),B.key!==void 0&&(Se=""+B.key),N.type&&N.type.defaultProps)var Me=N.type.defaultProps;for(Fe in B)U.call(B,Fe)&&!E.hasOwnProperty(Fe)&&(xe[Fe]=B[Fe]===void 0&&Me!==void 0?Me[Fe]:B[Fe])}var Fe=arguments.length-2;if(Fe===1)xe.children=pe;else if(1<Fe){Me=Array(Fe);for(var xt=0;xt<Fe;xt++)Me[xt]=arguments[xt+2];xe.children=Me}return{$$typeof:s,type:N.type,key:Se,ref:Ne,props:xe,_owner:Ae}},je.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:u,_context:N},N.Consumer=N},je.createElement=re,je.createFactory=function(N){var B=re.bind(null,N);return B.type=N,B},je.createRef=function(){return{current:null}},je.forwardRef=function(N){return{$$typeof:m,render:N}},je.isValidElement=I,je.lazy=function(N){return{$$typeof:x,_payload:{_status:-1,_result:N},_init:tt}},je.memo=function(N,B){return{$$typeof:v,type:N,compare:B===void 0?null:B}},je.startTransition=function(N){var B=Z.transition;Z.transition={};try{N()}finally{Z.transition=B}},je.unstable_act=ee,je.useCallback=function(N,B){return ye.current.useCallback(N,B)},je.useContext=function(N){return ye.current.useContext(N)},je.useDebugValue=function(){},je.useDeferredValue=function(N){return ye.current.useDeferredValue(N)},je.useEffect=function(N,B){return ye.current.useEffect(N,B)},je.useId=function(){return ye.current.useId()},je.useImperativeHandle=function(N,B,pe){return ye.current.useImperativeHandle(N,B,pe)},je.useInsertionEffect=function(N,B){return ye.current.useInsertionEffect(N,B)},je.useLayoutEffect=function(N,B){return ye.current.useLayoutEffect(N,B)},je.useMemo=function(N,B){return ye.current.useMemo(N,B)},je.useReducer=function(N,B,pe){return ye.current.useReducer(N,B,pe)},je.useRef=function(N){return ye.current.useRef(N)},je.useState=function(N){return ye.current.useState(N)},je.useSyncExternalStore=function(N,B,pe){return ye.current.useSyncExternalStore(N,B,pe)},je.useTransition=function(){return ye.current.useTransition()},je.version="18.3.1",je}var ef;function Ju(){return ef||(ef=1,vu.exports=lv()),vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tf;function uv(){if(tf)return Ni;tf=1;var s=Ju(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,v){var x,y={},k=null,C=null;v!==void 0&&(k=""+v),p.key!==void 0&&(k=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)a.call(p,x)&&!u.hasOwnProperty(x)&&(y[x]=p[x]);if(m&&m.defaultProps)for(x in p=m.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:r,type:m,key:k,ref:C,props:y,_owner:o.current}}return Ni.Fragment=n,Ni.jsx=h,Ni.jsxs=h,Ni}var rf;function cv(){return rf||(rf=1,gu.exports=uv()),gu.exports}var c=cv(),R=Ju();const fm=hm(R),dv=av({__proto__:null,default:fm},[R]);var ro={},yu={exports:{}},Rt={},xu={exports:{}},wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nf;function hv(){return nf||(nf=1,function(s){function r(Z,oe){var ee=Z.length;Z.push(oe);e:for(;0<ee;){var N=ee-1>>>1,B=Z[N];if(0<o(B,oe))Z[N]=oe,Z[ee]=B,ee=N;else break e}}function n(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var oe=Z[0],ee=Z.pop();if(ee!==oe){Z[0]=ee;e:for(var N=0,B=Z.length,pe=B>>>1;N<pe;){var xe=2*(N+1)-1,Se=Z[xe],Ne=xe+1,Ae=Z[Ne];if(0>o(Se,ee))Ne<B&&0>o(Ae,Se)?(Z[N]=Ae,Z[Ne]=ee,N=Ne):(Z[N]=Se,Z[xe]=ee,N=xe);else if(Ne<B&&0>o(Ae,ee))Z[N]=Ae,Z[Ne]=ee,N=Ne;else break e}}return oe}function o(Z,oe){var ee=Z.sortIndex-oe.sortIndex;return ee!==0?ee:Z.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var p=[],v=[],x=1,y=null,k=3,C=!1,j=!1,P=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Z){for(var oe=n(v);oe!==null;){if(oe.callback===null)a(v);else if(oe.startTime<=Z)a(v),oe.sortIndex=oe.expirationTime,r(p,oe);else break;oe=n(v)}}function F(Z){if(P=!1,D(Z),!j)if(n(p)!==null)j=!0,tt(U);else{var oe=n(v);oe!==null&&ye(F,oe.startTime-Z)}}function U(Z,oe){j=!1,P&&(P=!1,M(re),re=-1),C=!0;var ee=k;try{for(D(oe),y=n(p);y!==null&&(!(y.expirationTime>oe)||Z&&!Y());){var N=y.callback;if(typeof N=="function"){y.callback=null,k=y.priorityLevel;var B=N(y.expirationTime<=oe);oe=s.unstable_now(),typeof B=="function"?y.callback=B:y===n(p)&&a(p),D(oe)}else a(p);y=n(p)}if(y!==null)var pe=!0;else{var xe=n(v);xe!==null&&ye(F,xe.startTime-oe),pe=!1}return pe}finally{y=null,k=ee,C=!1}}var J=!1,E=null,re=-1,W=5,I=-1;function Y(){return!(s.unstable_now()-I<W)}function fe(){if(E!==null){var Z=s.unstable_now();I=Z;var oe=!0;try{oe=E(!0,Z)}finally{oe?Ee():(J=!1,E=null)}}else J=!1}var Ee;if(typeof G=="function")Ee=function(){G(fe)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,Xe=Pe.port2;Pe.port1.onmessage=fe,Ee=function(){Xe.postMessage(null)}}else Ee=function(){_(fe,0)};function tt(Z){E=Z,J||(J=!0,Ee())}function ye(Z,oe){re=_(function(){Z(s.unstable_now())},oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Z){Z.callback=null},s.unstable_continueExecution=function(){j||C||(j=!0,tt(U))},s.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Z?Math.floor(1e3/Z):5},s.unstable_getCurrentPriorityLevel=function(){return k},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(Z){switch(k){case 1:case 2:case 3:var oe=3;break;default:oe=k}var ee=k;k=oe;try{return Z()}finally{k=ee}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Z,oe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ee=k;k=Z;try{return oe()}finally{k=ee}},s.unstable_scheduleCallback=function(Z,oe,ee){var N=s.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?N+ee:N):ee=N,Z){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=ee+B,Z={id:x++,callback:oe,priorityLevel:Z,startTime:ee,expirationTime:B,sortIndex:-1},ee>N?(Z.sortIndex=ee,r(v,Z),n(p)===null&&Z===n(v)&&(P?(M(re),re=-1):P=!0,ye(F,ee-N))):(Z.sortIndex=B,r(p,Z),j||C||(j=!0,tt(U))),Z},s.unstable_shouldYield=Y,s.unstable_wrapCallback=function(Z){var oe=k;return function(){var ee=k;k=oe;try{return Z.apply(this,arguments)}finally{k=ee}}}}(wu)),wu}var sf;function fv(){return sf||(sf=1,xu.exports=hv()),xu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var af;function mv(){if(af)return Rt;af=1;var s=Ju(),r=fv();function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function u(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function k(e){return p.call(y,e)?!0:p.call(x,e)?!1:v.test(e)?y[e]=!0:(x[e]=!0,!1)}function C(e,t,i,l){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,i,l){if(t===null||typeof t>"u"||C(e,t,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function P(e,t,i,l,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=l,this.attributeNamespace=d,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new P(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,G);_[t]=new P(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,G);_[t]=new P(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,G);_[t]=new P(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,i,l){var d=_.hasOwnProperty(t)?_[t]:null;(d!==null?d.type!==0:l||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,i,d,l)&&(i=null),l||d===null?k(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):d.mustUseProperty?e[d.propertyName]=i===null?d.type===3?!1:"":i:(t=d.attributeName,l=d.attributeNamespace,i===null?e.removeAttribute(t):(d=d.type,i=d===3||d===4&&i===!0?"":""+i,l?e.setAttributeNS(l,t,i):e.setAttribute(t,i))))}var F=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),J=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),Y=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),Ee=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),Xe=Symbol.for("react.memo"),tt=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),Z=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=Z&&e[Z]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,N;function B(e){if(N===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);N=t&&t[1]||""}return`
`+N+e}var pe=!1;function xe(e,t){if(!e||pe)return"";pe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var l=A}Reflect.construct(e,[],t)}else{try{t.call()}catch(A){l=A}e.call(t.prototype)}else{try{throw Error()}catch(A){l=A}e()}}catch(A){if(A&&l&&typeof A.stack=="string"){for(var d=A.stack.split(`
`),f=l.stack.split(`
`),g=d.length-1,w=f.length-1;1<=g&&0<=w&&d[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==f[w]){var b=`
`+d[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=w);break}}}finally{pe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?B(e):""}function Se(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function Ne(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case J:return"Portal";case W:return"Profiler";case re:return"StrictMode";case Ee:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case fe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xe:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case tt:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}function Ae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(t);case 8:return t===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Me(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xt(e){var t=Fe(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var d=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){l=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dn(e){e._valueTracker||(e._valueTracker=xt(e))}function Vi(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=Fe(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Ln(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function In(e,t){var i=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Qi(e,t){var i=t.defaultValue==null?"":t.defaultValue,l=t.checked!=null?t.checked:t.defaultChecked;i=Me(t.value!=null?t.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ws(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function Un(e,t){Ws(e,t);var i=Me(t.value),l=t.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fn(e,t.type,i):t.hasOwnProperty("defaultValue")&&Fn(e,t.type,Me(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bs(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var l=t.type;if(!(l!=="submit"&&l!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function Fn(e,t,i){(t!=="number"||Ln(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Cr=Array.isArray;function pr(e,t,i,l){if(e=e.options,t){t={};for(var d=0;d<i.length;d++)t["$"+i[d]]=!0;for(i=0;i<e.length;i++)d=t.hasOwnProperty("$"+e[i].value),e[i].selected!==d&&(e[i].selected=d),d&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Me(i),t=null,d=0;d<e.length;d++){if(e[d].value===i){e[d].selected=!0,l&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Q(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(n(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function L(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(n(92));if(Cr(i)){if(1<i.length)throw Error(n(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Me(i)}}function $(e,t){var i=Me(t.value),l=Me(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function _e(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function we(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?we(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var X,be=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,l,d){MSApp.execUnsafeLocalFunction(function(){return e(t,i,l,d)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(X=X||document.createElement("div"),X.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=X.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nt(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var sr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hc=["Webkit","ms","Moz","O"];Object.keys(sr).forEach(function(e){hc.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sr[t]=sr[e]})});function fc(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||sr.hasOwnProperty(e)&&sr[e]?(""+t).trim():t+"px"}function mc(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var l=i.indexOf("--")===0,d=fc(i,t[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,d):e[i]=d}}var dp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eo(e,t){if(t){if(dp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(n(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(n(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(t.style!=null&&typeof t.style!="object")throw Error(n(62))}}function Co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Po=null;function To(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Oo=null,$n=null,zn=null;function pc(e){if(e=di(e)){if(typeof Oo!="function")throw Error(n(280));var t=e.stateNode;t&&(t=ga(t),Oo(e.stateNode,e.type,t))}}function gc(e){$n?zn?zn.push(e):zn=[e]:$n=e}function vc(){if($n){var e=$n,t=zn;if(zn=$n=null,pc(e),t)for(e=0;e<t.length;e++)pc(t[e])}}function yc(e,t){return e(t)}function xc(){}var Ro=!1;function wc(e,t,i){if(Ro)return e(t,i);Ro=!0;try{return yc(e,t,i)}finally{Ro=!1,($n!==null||zn!==null)&&(xc(),vc())}}function qs(e,t){var i=e.stateNode;if(i===null)return null;var l=ga(i);if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(n(231,t,typeof i));return i}var Ao=!1;if(m)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Ao=!1}function hp(e,t,i,l,d,f,g,w,b){var A=Array.prototype.slice.call(arguments,3);try{t.apply(i,A)}catch(H){this.onError(H)}}var Vs=!1,Ki=null,Gi=!1,Mo=null,fp={onError:function(e){Vs=!0,Ki=e}};function mp(e,t,i,l,d,f,g,w,b){Vs=!1,Ki=null,hp.apply(fp,arguments)}function pp(e,t,i,l,d,f,g,w,b){if(mp.apply(this,arguments),Vs){if(Vs){var A=Ki;Vs=!1,Ki=null}else throw Error(n(198));Gi||(Gi=!0,Mo=A)}}function dn(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function _c(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jc(e){if(dn(e)!==e)throw Error(n(188))}function gp(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(n(188));return t!==e?null:e}for(var i=e,l=t;;){var d=i.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){i=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===i)return jc(d),e;if(f===l)return jc(d),t;f=f.sibling}throw Error(n(188))}if(i.return!==l.return)i=d,l=f;else{for(var g=!1,w=d.child;w;){if(w===i){g=!0,i=d,l=f;break}if(w===l){g=!0,l=d,i=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===i){g=!0,i=f,l=d;break}if(w===l){g=!0,l=f,i=d;break}w=w.sibling}if(!g)throw Error(n(189))}}if(i.alternate!==l)throw Error(n(190))}if(i.tag!==3)throw Error(n(188));return i.stateNode.current===i?e:t}function kc(e){return e=gp(e),e!==null?bc(e):null}function bc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bc(e);if(t!==null)return t;e=e.sibling}return null}var Sc=r.unstable_scheduleCallback,Nc=r.unstable_cancelCallback,vp=r.unstable_shouldYield,yp=r.unstable_requestPaint,Ge=r.unstable_now,xp=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,Ec=r.unstable_UserBlockingPriority,Yi=r.unstable_NormalPriority,wp=r.unstable_LowPriority,Cc=r.unstable_IdlePriority,Ji=null,ir=null;function _p(e){if(ir&&typeof ir.onCommitFiberRoot=="function")try{ir.onCommitFiberRoot(Ji,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:bp,jp=Math.log,kp=Math.LN2;function bp(e){return e>>>=0,e===0?32:31-(jp(e)/kp|0)|0}var Xi=64,Zi=4194304;function Qs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ea(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,d=e.suspendedLanes,f=e.pingedLanes,g=i&268435455;if(g!==0){var w=g&~d;w!==0?l=Qs(w):(f&=g,f!==0&&(l=Qs(f)))}else g=i&~d,g!==0?l=Qs(g):f!==0&&(l=Qs(f));if(l===0)return 0;if(t!==0&&t!==l&&(t&d)===0&&(d=l&-l,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((l&4)!==0&&(l|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=l;0<t;)i=31-Ht(t),d=1<<i,l|=e[i],t&=~d;return l}function Sp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Np(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Ht(f),w=1<<g,b=d[g];b===-1?((w&i)===0||(w&l)!==0)&&(d[g]=Sp(w,t)):b<=t&&(e.expiredLanes|=w),f&=~w}}function Lo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pc(){var e=Xi;return Xi<<=1,(Xi&4194240)===0&&(Xi=64),e}function Io(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ks(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=i}function Ep(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var d=31-Ht(i),f=1<<d;t[d]=0,l[d]=-1,e[d]=-1,i&=~f}}function Uo(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Ht(i),d=1<<l;d&t|e[l]&t&&(e[l]|=t),i&=~d}}var Le=0;function Tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Oc,Fo,Rc,Ac,Mc,$o=!1,ta=[],Pr=null,Tr=null,Or=null,Gs=new Map,Ys=new Map,Rr=[],Cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dc(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function Js(e,t,i,l,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},t!==null&&(t=di(t),t!==null&&Fo(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Pp(e,t,i,l,d){switch(t){case"focusin":return Pr=Js(Pr,e,t,i,l,d),!0;case"dragenter":return Tr=Js(Tr,e,t,i,l,d),!0;case"mouseover":return Or=Js(Or,e,t,i,l,d),!0;case"pointerover":var f=d.pointerId;return Gs.set(f,Js(Gs.get(f)||null,e,t,i,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Ys.set(f,Js(Ys.get(f)||null,e,t,i,l,d)),!0}return!1}function Lc(e){var t=hn(e.target);if(t!==null){var i=dn(t);if(i!==null){if(t=i.tag,t===13){if(t=_c(i),t!==null){e.blockedOn=t,Mc(e.priority,function(){Rc(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ra(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Wo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Po=l,i.target.dispatchEvent(l),Po=null}else return t=di(i),t!==null&&Fo(t),e.blockedOn=i,!1;t.shift()}return!0}function Ic(e,t,i){ra(e)&&i.delete(t)}function Tp(){$o=!1,Pr!==null&&ra(Pr)&&(Pr=null),Tr!==null&&ra(Tr)&&(Tr=null),Or!==null&&ra(Or)&&(Or=null),Gs.forEach(Ic),Ys.forEach(Ic)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,$o||($o=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tp)))}function Zs(e){function t(d){return Xs(d,e)}if(0<ta.length){Xs(ta[0],e);for(var i=1;i<ta.length;i++){var l=ta[i];l.blockedOn===e&&(l.blockedOn=null)}}for(Pr!==null&&Xs(Pr,e),Tr!==null&&Xs(Tr,e),Or!==null&&Xs(Or,e),Gs.forEach(t),Ys.forEach(t),i=0;i<Rr.length;i++)l=Rr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<Rr.length&&(i=Rr[0],i.blockedOn===null);)Lc(i),i.blockedOn===null&&Rr.shift()}var Wn=F.ReactCurrentBatchConfig,na=!0;function Op(e,t,i,l){var d=Le,f=Wn.transition;Wn.transition=null;try{Le=1,zo(e,t,i,l)}finally{Le=d,Wn.transition=f}}function Rp(e,t,i,l){var d=Le,f=Wn.transition;Wn.transition=null;try{Le=4,zo(e,t,i,l)}finally{Le=d,Wn.transition=f}}function zo(e,t,i,l){if(na){var d=Wo(e,t,i,l);if(d===null)il(e,t,l,sa,i),Dc(e,l);else if(Pp(d,e,t,i,l))l.stopPropagation();else if(Dc(e,l),t&4&&-1<Cp.indexOf(e)){for(;d!==null;){var f=di(d);if(f!==null&&Oc(f),f=Wo(e,t,i,l),f===null&&il(e,t,l,sa,i),f===d)break;d=f}d!==null&&l.stopPropagation()}else il(e,t,l,null,i)}}var sa=null;function Wo(e,t,i,l){if(sa=null,e=To(l),e=hn(e),e!==null)if(t=dn(e),t===null)e=null;else if(i=t.tag,i===13){if(e=_c(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sa=e,null}function Uc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xp()){case Do:return 1;case Ec:return 4;case Yi:case wp:return 16;case Cc:return 536870912;default:return 16}default:return 16}}var Ar=null,Bo=null,ia=null;function Fc(){if(ia)return ia;var e,t=Bo,i=t.length,l,d="value"in Ar?Ar.value:Ar.textContent,f=d.length;for(e=0;e<i&&t[e]===d[e];e++);var g=i-e;for(l=1;l<=g&&t[i-l]===d[f-l];l++);return ia=d.slice(e,1<l?1-l:void 0)}function aa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oa(){return!0}function $c(){return!1}function At(e){function t(i,l,d,f,g){this._reactName=i,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?oa:$c,this.isPropagationStopped=$c,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=oa)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=oa)},persist:function(){},isPersistent:oa}),t}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qo=At(Bn),ei=ee({},Bn,{view:0,detail:0}),Ap=At(ei),Ho,Vo,ti,la=ee({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(Ho=e.screenX-ti.screenX,Vo=e.screenY-ti.screenY):Vo=Ho=0,ti=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Vo}}),zc=At(la),Mp=ee({},la,{dataTransfer:0}),Dp=At(Mp),Lp=ee({},ei,{relatedTarget:0}),Qo=At(Lp),Ip=ee({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Up=At(Ip),Fp=ee({},Bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$p=At(Fp),zp=ee({},Bn,{data:0}),Wc=At(zp),Wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qp[e])?!!t[e]:!1}function Ko(){return Hp}var Vp=ee({},ei,{key:function(e){if(e.key){var t=Wp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qp=At(Vp),Kp=ee({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bc=At(Kp),Gp=ee({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),Yp=At(Gp),Jp=ee({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xp=At(Jp),Zp=ee({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eg=At(Zp),tg=[9,13,27,32],Go=m&&"CompositionEvent"in window,ri=null;m&&"documentMode"in document&&(ri=document.documentMode);var rg=m&&"TextEvent"in window&&!ri,qc=m&&(!Go||ri&&8<ri&&11>=ri),Hc=" ",Vc=!1;function Qc(e,t){switch(e){case"keyup":return tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qn=!1;function ng(e,t){switch(e){case"compositionend":return Kc(t);case"keypress":return t.which!==32?null:(Vc=!0,Hc);case"textInput":return e=t.data,e===Hc&&Vc?null:e;default:return null}}function sg(e,t){if(qn)return e==="compositionend"||!Go&&Qc(e,t)?(e=Fc(),ia=Bo=Ar=null,qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qc&&t.locale!=="ko"?null:t.data;default:return null}}var ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ig[e.type]:t==="textarea"}function Yc(e,t,i,l){gc(l),t=fa(t,"onChange"),0<t.length&&(i=new qo("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var ni=null,si=null;function ag(e){md(e,0)}function ua(e){var t=Gn(e);if(Vi(t))return e}function og(e,t){if(e==="change")return t}var Jc=!1;if(m){var Yo;if(m){var Jo="oninput"in document;if(!Jo){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Jo=typeof Xc.oninput=="function"}Yo=Jo}else Yo=!1;Jc=Yo&&(!document.documentMode||9<document.documentMode)}function Zc(){ni&&(ni.detachEvent("onpropertychange",ed),si=ni=null)}function ed(e){if(e.propertyName==="value"&&ua(si)){var t=[];Yc(t,si,e,To(e)),wc(ag,t)}}function lg(e,t,i){e==="focusin"?(Zc(),ni=t,si=i,ni.attachEvent("onpropertychange",ed)):e==="focusout"&&Zc()}function ug(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ua(si)}function cg(e,t){if(e==="click")return ua(t)}function dg(e,t){if(e==="input"||e==="change")return ua(t)}function hg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:hg;function ii(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var d=i[l];if(!p.call(t,d)||!Vt(e[d],t[d]))return!1}return!0}function td(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rd(e,t){var i=td(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=td(i)}}function nd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function sd(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ln(e.document)}return t}function Xo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fg(e){var t=sd(),i=e.focusedElem,l=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&nd(i.ownerDocument.documentElement,i)){if(l!==null&&Xo(i)){if(t=l.start,e=l.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=i.textContent.length,f=Math.min(l.start,d);l=l.end===void 0?f:Math.min(l.end,d),!e.extend&&f>l&&(d=l,l=f,f=d),d=rd(i,f);var g=rd(i,l);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>l?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mg=m&&"documentMode"in document&&11>=document.documentMode,Hn=null,Zo=null,ai=null,el=!1;function id(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;el||Hn==null||Hn!==Ln(l)||(l=Hn,"selectionStart"in l&&Xo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ai&&ii(ai,l)||(ai=l,l=fa(Zo,"onSelect"),0<l.length&&(t=new qo("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=Hn)))}function ca(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Vn={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionend:ca("Transition","TransitionEnd")},tl={},ad={};m&&(ad=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function da(e){if(tl[e])return tl[e];if(!Vn[e])return e;var t=Vn[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in ad)return tl[e]=t[i];return e}var od=da("animationend"),ld=da("animationiteration"),ud=da("animationstart"),cd=da("transitionend"),dd=new Map,hd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){dd.set(e,t),u(t,[e])}for(var rl=0;rl<hd.length;rl++){var nl=hd[rl],pg=nl.toLowerCase(),gg=nl[0].toUpperCase()+nl.slice(1);Mr(pg,"on"+gg)}Mr(od,"onAnimationEnd"),Mr(ld,"onAnimationIteration"),Mr(ud,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(cd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vg=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function fd(e,t,i){var l=e.type||"unknown-event";e.currentTarget=i,pp(l,t,void 0,e),e.currentTarget=null}function md(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],d=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var g=l.length-1;0<=g;g--){var w=l[g],b=w.instance,A=w.currentTarget;if(w=w.listener,b!==f&&d.isPropagationStopped())break e;fd(d,w,A),f=b}else for(g=0;g<l.length;g++){if(w=l[g],b=w.instance,A=w.currentTarget,w=w.listener,b!==f&&d.isPropagationStopped())break e;fd(d,w,A),f=b}}}if(Gi)throw e=Mo,Gi=!1,Mo=null,e}function We(e,t){var i=t[dl];i===void 0&&(i=t[dl]=new Set);var l=e+"__bubble";i.has(l)||(pd(t,e,2,!1),i.add(l))}function sl(e,t,i){var l=0;t&&(l|=4),pd(i,e,l,t)}var ha="_reactListening"+Math.random().toString(36).slice(2);function li(e){if(!e[ha]){e[ha]=!0,a.forEach(function(i){i!=="selectionchange"&&(vg.has(i)||sl(i,!1,e),sl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ha]||(t[ha]=!0,sl("selectionchange",!1,t))}}function pd(e,t,i,l){switch(Uc(t)){case 1:var d=Op;break;case 4:d=Rp;break;default:d=zo}i=d.bind(null,t,i,e),d=void 0,!Ao||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),l?d!==void 0?e.addEventListener(t,i,{capture:!0,passive:d}):e.addEventListener(t,i,!0):d!==void 0?e.addEventListener(t,i,{passive:d}):e.addEventListener(t,i,!1)}function il(e,t,i,l,d){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var w=l.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=l.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===d||b.nodeType===8&&b.parentNode===d))return;g=g.return}for(;w!==null;){if(g=hn(w),g===null)return;if(b=g.tag,b===5||b===6){l=f=g;continue e}w=w.parentNode}}l=l.return}wc(function(){var A=f,H=To(i),V=[];e:{var q=dd.get(e);if(q!==void 0){var te=qo,se=e;switch(e){case"keypress":if(aa(i)===0)break e;case"keydown":case"keyup":te=Qp;break;case"focusin":se="focus",te=Qo;break;case"focusout":se="blur",te=Qo;break;case"beforeblur":case"afterblur":te=Qo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=zc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Dp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=Yp;break;case od:case ld:case ud:te=Up;break;case cd:te=Xp;break;case"scroll":te=Ap;break;case"wheel":te=eg;break;case"copy":case"cut":case"paste":te=$p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Bc}var ie=(t&4)!==0,Ye=!ie&&e==="scroll",T=ie?q!==null?q+"Capture":null:q;ie=[];for(var S=A,O;S!==null;){O=S;var K=O.stateNode;if(O.tag===5&&K!==null&&(O=K,T!==null&&(K=qs(S,T),K!=null&&ie.push(ui(S,K,O)))),Ye)break;S=S.return}0<ie.length&&(q=new te(q,se,null,i,H),V.push({event:q,listeners:ie}))}}if((t&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",q&&i!==Po&&(se=i.relatedTarget||i.fromElement)&&(hn(se)||se[gr]))break e;if((te||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,te?(se=i.relatedTarget||i.toElement,te=A,se=se?hn(se):null,se!==null&&(Ye=dn(se),se!==Ye||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=A),te!==se)){if(ie=zc,K="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Bc,K="onPointerLeave",T="onPointerEnter",S="pointer"),Ye=te==null?q:Gn(te),O=se==null?q:Gn(se),q=new ie(K,S+"leave",te,i,H),q.target=Ye,q.relatedTarget=O,K=null,hn(H)===A&&(ie=new ie(T,S+"enter",se,i,H),ie.target=O,ie.relatedTarget=Ye,K=ie),Ye=K,te&&se)t:{for(ie=te,T=se,S=0,O=ie;O;O=Qn(O))S++;for(O=0,K=T;K;K=Qn(K))O++;for(;0<S-O;)ie=Qn(ie),S--;for(;0<O-S;)T=Qn(T),O--;for(;S--;){if(ie===T||T!==null&&ie===T.alternate)break t;ie=Qn(ie),T=Qn(T)}ie=null}else ie=null;te!==null&&gd(V,q,te,ie,!1),se!==null&&Ye!==null&&gd(V,Ye,se,ie,!0)}}e:{if(q=A?Gn(A):window,te=q.nodeName&&q.nodeName.toLowerCase(),te==="select"||te==="input"&&q.type==="file")var ae=og;else if(Gc(q))if(Jc)ae=dg;else{ae=ug;var le=lg}else(te=q.nodeName)&&te.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(ae=cg);if(ae&&(ae=ae(e,A))){Yc(V,ae,i,H);break e}le&&le(e,q,A),e==="focusout"&&(le=q._wrapperState)&&le.controlled&&q.type==="number"&&Fn(q,"number",q.value)}switch(le=A?Gn(A):window,e){case"focusin":(Gc(le)||le.contentEditable==="true")&&(Hn=le,Zo=A,ai=null);break;case"focusout":ai=Zo=Hn=null;break;case"mousedown":el=!0;break;case"contextmenu":case"mouseup":case"dragend":el=!1,id(V,i,H);break;case"selectionchange":if(mg)break;case"keydown":case"keyup":id(V,i,H)}var ue;if(Go)e:{switch(e){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else qn?Qc(e,i)&&(de="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(de="onCompositionStart");de&&(qc&&i.locale!=="ko"&&(qn||de!=="onCompositionStart"?de==="onCompositionEnd"&&qn&&(ue=Fc()):(Ar=H,Bo="value"in Ar?Ar.value:Ar.textContent,qn=!0)),le=fa(A,de),0<le.length&&(de=new Wc(de,e,null,i,H),V.push({event:de,listeners:le}),ue?de.data=ue:(ue=Kc(i),ue!==null&&(de.data=ue)))),(ue=rg?ng(e,i):sg(e,i))&&(A=fa(A,"onBeforeInput"),0<A.length&&(H=new Wc("onBeforeInput","beforeinput",null,i,H),V.push({event:H,listeners:A}),H.data=ue))}md(V,t)})}function ui(e,t,i){return{instance:e,listener:t,currentTarget:i}}function fa(e,t){for(var i=t+"Capture",l=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=qs(e,i),f!=null&&l.unshift(ui(e,f,d)),f=qs(e,t),f!=null&&l.push(ui(e,f,d))),e=e.return}return l}function Qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gd(e,t,i,l,d){for(var f=t._reactName,g=[];i!==null&&i!==l;){var w=i,b=w.alternate,A=w.stateNode;if(b!==null&&b===l)break;w.tag===5&&A!==null&&(w=A,d?(b=qs(i,f),b!=null&&g.unshift(ui(i,b,w))):d||(b=qs(i,f),b!=null&&g.push(ui(i,b,w)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var yg=/\r\n?/g,xg=/\u0000|\uFFFD/g;function vd(e){return(typeof e=="string"?e:""+e).replace(yg,`
`).replace(xg,"")}function ma(e,t,i){if(t=vd(t),vd(e)!==t&&i)throw Error(n(425))}function pa(){}var al=null,ol=null;function ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,wg=typeof clearTimeout=="function"?clearTimeout:void 0,yd=typeof Promise=="function"?Promise:void 0,_g=typeof queueMicrotask=="function"?queueMicrotask:typeof yd<"u"?function(e){return yd.resolve(null).then(e).catch(jg)}:ul;function jg(e){setTimeout(function(){throw e})}function cl(e,t){var i=t,l=0;do{var d=i.nextSibling;if(e.removeChild(i),d&&d.nodeType===8)if(i=d.data,i==="/$"){if(l===0){e.removeChild(d),Zs(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=d}while(i);Zs(t)}function Dr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),ar="__reactFiber$"+Kn,ci="__reactProps$"+Kn,gr="__reactContainer$"+Kn,dl="__reactEvents$"+Kn,kg="__reactListeners$"+Kn,bg="__reactHandles$"+Kn;function hn(e){var t=e[ar];if(t)return t;for(var i=e.parentNode;i;){if(t=i[gr]||i[ar]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=xd(e);e!==null;){if(i=e[ar])return i;e=xd(e)}return t}e=i,i=e.parentNode}return null}function di(e){return e=e[ar]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(n(33))}function ga(e){return e[ci]||null}var hl=[],Yn=-1;function Lr(e){return{current:e}}function Be(e){0>Yn||(e.current=hl[Yn],hl[Yn]=null,Yn--)}function $e(e,t){Yn++,hl[Yn]=e.current,e.current=t}var Ir={},mt=Lr(Ir),Et=Lr(!1),fn=Ir;function Jn(e,t){var i=e.type.contextTypes;if(!i)return Ir;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===t)return l.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in i)d[f]=t[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Ct(e){return e=e.childContextTypes,e!=null}function va(){Be(Et),Be(mt)}function wd(e,t,i){if(mt.current!==Ir)throw Error(n(168));$e(mt,t),$e(Et,i)}function _d(e,t,i){var l=e.stateNode;if(t=t.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var d in l)if(!(d in t))throw Error(n(108,Ae(e)||"Unknown",d));return ee({},i,l)}function ya(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,fn=mt.current,$e(mt,e),$e(Et,Et.current),!0}function jd(e,t,i){var l=e.stateNode;if(!l)throw Error(n(169));i?(e=_d(e,t,fn),l.__reactInternalMemoizedMergedChildContext=e,Be(Et),Be(mt),$e(mt,e)):Be(Et),$e(Et,i)}var vr=null,xa=!1,fl=!1;function kd(e){vr===null?vr=[e]:vr.push(e)}function Sg(e){xa=!0,kd(e)}function Ur(){if(!fl&&vr!==null){fl=!0;var e=0,t=Le;try{var i=vr;for(Le=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}vr=null,xa=!1}catch(d){throw vr!==null&&(vr=vr.slice(e+1)),Sc(Do,Ur),d}finally{Le=t,fl=!1}}return null}var Xn=[],Zn=0,wa=null,_a=0,It=[],Ut=0,mn=null,yr=1,xr="";function pn(e,t){Xn[Zn++]=_a,Xn[Zn++]=wa,wa=e,_a=t}function bd(e,t,i){It[Ut++]=yr,It[Ut++]=xr,It[Ut++]=mn,mn=e;var l=yr;e=xr;var d=32-Ht(l)-1;l&=~(1<<d),i+=1;var f=32-Ht(t)+d;if(30<f){var g=d-d%5;f=(l&(1<<g)-1).toString(32),l>>=g,d-=g,yr=1<<32-Ht(t)+d|i<<d|l,xr=f+e}else yr=1<<f|i<<d|l,xr=e}function ml(e){e.return!==null&&(pn(e,1),bd(e,1,0))}function pl(e){for(;e===wa;)wa=Xn[--Zn],Xn[Zn]=null,_a=Xn[--Zn],Xn[Zn]=null;for(;e===mn;)mn=It[--Ut],It[Ut]=null,xr=It[--Ut],It[Ut]=null,yr=It[--Ut],It[Ut]=null}var Mt=null,Dt=null,qe=!1,Qt=null;function Sd(e,t){var i=Wt(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function Nd(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Dt=Dr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=mn!==null?{id:yr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=Wt(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,Mt=e,Dt=null,!0):!1;default:return!1}}function gl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vl(e){if(qe){var t=Dt;if(t){var i=t;if(!Nd(e,t)){if(gl(e))throw Error(n(418));t=Dr(i.nextSibling);var l=Mt;t&&Nd(e,t)?Sd(l,i):(e.flags=e.flags&-4097|2,qe=!1,Mt=e)}}else{if(gl(e))throw Error(n(418));e.flags=e.flags&-4097|2,qe=!1,Mt=e}}}function Ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function ja(e){if(e!==Mt)return!1;if(!qe)return Ed(e),qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ll(e.type,e.memoizedProps)),t&&(t=Dt)){if(gl(e))throw Cd(),Error(n(418));for(;t;)Sd(e,t),t=Dr(t.nextSibling)}if(Ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){Dt=Dr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}Dt=null}}else Dt=Mt?Dr(e.stateNode.nextSibling):null;return!0}function Cd(){for(var e=Dt;e;)e=Dr(e.nextSibling)}function es(){Dt=Mt=null,qe=!1}function yl(e){Qt===null?Qt=[e]:Qt.push(e)}var Ng=F.ReactCurrentBatchConfig;function hi(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(n(309));var l=i.stateNode}if(!l)throw Error(n(147,e));var d=l,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var w=d.refs;g===null?delete w[f]:w[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(n(284));if(!i._owner)throw Error(n(290,e))}return e}function ka(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pd(e){var t=e._init;return t(e._payload)}function Td(e){function t(T,S){if(e){var O=T.deletions;O===null?(T.deletions=[S],T.flags|=16):O.push(S)}}function i(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function l(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function d(T,S){return T=Vr(T,S),T.index=0,T.sibling=null,T}function f(T,S,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<S?(T.flags|=2,S):O):(T.flags|=2,S)):(T.flags|=1048576,S)}function g(T){return e&&T.alternate===null&&(T.flags|=2),T}function w(T,S,O,K){return S===null||S.tag!==6?(S=uu(O,T.mode,K),S.return=T,S):(S=d(S,O),S.return=T,S)}function b(T,S,O,K){var ae=O.type;return ae===E?H(T,S,O.props.children,K,O.key):S!==null&&(S.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===tt&&Pd(ae)===S.type)?(K=d(S,O.props),K.ref=hi(T,S,O),K.return=T,K):(K=Qa(O.type,O.key,O.props,null,T.mode,K),K.ref=hi(T,S,O),K.return=T,K)}function A(T,S,O,K){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=cu(O,T.mode,K),S.return=T,S):(S=d(S,O.children||[]),S.return=T,S)}function H(T,S,O,K,ae){return S===null||S.tag!==7?(S=kn(O,T.mode,K,ae),S.return=T,S):(S=d(S,O),S.return=T,S)}function V(T,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=uu(""+S,T.mode,O),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case U:return O=Qa(S.type,S.key,S.props,null,T.mode,O),O.ref=hi(T,null,S),O.return=T,O;case J:return S=cu(S,T.mode,O),S.return=T,S;case tt:var K=S._init;return V(T,K(S._payload),O)}if(Cr(S)||oe(S))return S=kn(S,T.mode,O,null),S.return=T,S;ka(T,S)}return null}function q(T,S,O,K){var ae=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return ae!==null?null:w(T,S,""+O,K);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case U:return O.key===ae?b(T,S,O,K):null;case J:return O.key===ae?A(T,S,O,K):null;case tt:return ae=O._init,q(T,S,ae(O._payload),K)}if(Cr(O)||oe(O))return ae!==null?null:H(T,S,O,K,null);ka(T,O)}return null}function te(T,S,O,K,ae){if(typeof K=="string"&&K!==""||typeof K=="number")return T=T.get(O)||null,w(S,T,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case U:return T=T.get(K.key===null?O:K.key)||null,b(S,T,K,ae);case J:return T=T.get(K.key===null?O:K.key)||null,A(S,T,K,ae);case tt:var le=K._init;return te(T,S,O,le(K._payload),ae)}if(Cr(K)||oe(K))return T=T.get(O)||null,H(S,T,K,ae,null);ka(S,K)}return null}function se(T,S,O,K){for(var ae=null,le=null,ue=S,de=S=0,lt=null;ue!==null&&de<O.length;de++){ue.index>de?(lt=ue,ue=null):lt=ue.sibling;var Te=q(T,ue,O[de],K);if(Te===null){ue===null&&(ue=lt);break}e&&ue&&Te.alternate===null&&t(T,ue),S=f(Te,S,de),le===null?ae=Te:le.sibling=Te,le=Te,ue=lt}if(de===O.length)return i(T,ue),qe&&pn(T,de),ae;if(ue===null){for(;de<O.length;de++)ue=V(T,O[de],K),ue!==null&&(S=f(ue,S,de),le===null?ae=ue:le.sibling=ue,le=ue);return qe&&pn(T,de),ae}for(ue=l(T,ue);de<O.length;de++)lt=te(ue,T,de,O[de],K),lt!==null&&(e&&lt.alternate!==null&&ue.delete(lt.key===null?de:lt.key),S=f(lt,S,de),le===null?ae=lt:le.sibling=lt,le=lt);return e&&ue.forEach(function(Qr){return t(T,Qr)}),qe&&pn(T,de),ae}function ie(T,S,O,K){var ae=oe(O);if(typeof ae!="function")throw Error(n(150));if(O=ae.call(O),O==null)throw Error(n(151));for(var le=ae=null,ue=S,de=S=0,lt=null,Te=O.next();ue!==null&&!Te.done;de++,Te=O.next()){ue.index>de?(lt=ue,ue=null):lt=ue.sibling;var Qr=q(T,ue,Te.value,K);if(Qr===null){ue===null&&(ue=lt);break}e&&ue&&Qr.alternate===null&&t(T,ue),S=f(Qr,S,de),le===null?ae=Qr:le.sibling=Qr,le=Qr,ue=lt}if(Te.done)return i(T,ue),qe&&pn(T,de),ae;if(ue===null){for(;!Te.done;de++,Te=O.next())Te=V(T,Te.value,K),Te!==null&&(S=f(Te,S,de),le===null?ae=Te:le.sibling=Te,le=Te);return qe&&pn(T,de),ae}for(ue=l(T,ue);!Te.done;de++,Te=O.next())Te=te(ue,T,de,Te.value,K),Te!==null&&(e&&Te.alternate!==null&&ue.delete(Te.key===null?de:Te.key),S=f(Te,S,de),le===null?ae=Te:le.sibling=Te,le=Te);return e&&ue.forEach(function(iv){return t(T,iv)}),qe&&pn(T,de),ae}function Ye(T,S,O,K){if(typeof O=="object"&&O!==null&&O.type===E&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case U:e:{for(var ae=O.key,le=S;le!==null;){if(le.key===ae){if(ae=O.type,ae===E){if(le.tag===7){i(T,le.sibling),S=d(le,O.props.children),S.return=T,T=S;break e}}else if(le.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===tt&&Pd(ae)===le.type){i(T,le.sibling),S=d(le,O.props),S.ref=hi(T,le,O),S.return=T,T=S;break e}i(T,le);break}else t(T,le);le=le.sibling}O.type===E?(S=kn(O.props.children,T.mode,K,O.key),S.return=T,T=S):(K=Qa(O.type,O.key,O.props,null,T.mode,K),K.ref=hi(T,S,O),K.return=T,T=K)}return g(T);case J:e:{for(le=O.key;S!==null;){if(S.key===le)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){i(T,S.sibling),S=d(S,O.children||[]),S.return=T,T=S;break e}else{i(T,S);break}else t(T,S);S=S.sibling}S=cu(O,T.mode,K),S.return=T,T=S}return g(T);case tt:return le=O._init,Ye(T,S,le(O._payload),K)}if(Cr(O))return se(T,S,O,K);if(oe(O))return ie(T,S,O,K);ka(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(i(T,S.sibling),S=d(S,O),S.return=T,T=S):(i(T,S),S=uu(O,T.mode,K),S.return=T,T=S),g(T)):i(T,S)}return Ye}var ts=Td(!0),Od=Td(!1),ba=Lr(null),Sa=null,rs=null,xl=null;function wl(){xl=rs=Sa=null}function _l(e){var t=ba.current;Be(ba),e._currentValue=t}function jl(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function ns(e,t){Sa=e,xl=rs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Pt=!0),e.firstContext=null)}function Ft(e){var t=e._currentValue;if(xl!==e)if(e={context:e,memoizedValue:t,next:null},rs===null){if(Sa===null)throw Error(n(308));rs=e,Sa.dependencies={lanes:0,firstContext:e}}else rs=rs.next=e;return t}var gn=null;function kl(e){gn===null?gn=[e]:gn.push(e)}function Rd(e,t,i,l){var d=t.interleaved;return d===null?(i.next=i,kl(t)):(i.next=d.next,d.next=i),t.interleaved=i,wr(e,l)}function wr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Fr=!1;function bl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ad(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $r(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var d=l.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),l.pending=t,wr(e,i)}return d=l.interleaved,d===null?(t.next=t,kl(l)):(t.next=d.next,d.next=t),l.interleaved=t,wr(e,i)}function Na(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Uo(e,i)}}function Md(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var d=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};f===null?d=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?d=f=t:f=f.next=t}else d=f=t;i={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Ea(e,t,i,l){var d=e.updateQueue;Fr=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var b=w,A=b.next;b.next=null,g===null?f=A:g.next=A,g=b;var H=e.alternate;H!==null&&(H=H.updateQueue,w=H.lastBaseUpdate,w!==g&&(w===null?H.firstBaseUpdate=A:w.next=A,H.lastBaseUpdate=b))}if(f!==null){var V=d.baseState;g=0,H=A=b=null,w=f;do{var q=w.lane,te=w.eventTime;if((l&q)===q){H!==null&&(H=H.next={eventTime:te,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var se=e,ie=w;switch(q=t,te=i,ie.tag){case 1:if(se=ie.payload,typeof se=="function"){V=se.call(te,V,q);break e}V=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ie.payload,q=typeof se=="function"?se.call(te,V,q):se,q==null)break e;V=ee({},V,q);break e;case 2:Fr=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,q=d.effects,q===null?d.effects=[w]:q.push(w))}else te={eventTime:te,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},H===null?(A=H=te,b=V):H=H.next=te,g|=q;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;q=w,w=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);if(H===null&&(b=V),d.baseState=b,d.firstBaseUpdate=A,d.lastBaseUpdate=H,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);xn|=g,e.lanes=g,e.memoizedState=V}}function Dd(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var l=e[t],d=l.callback;if(d!==null){if(l.callback=null,l=i,typeof d!="function")throw Error(n(191,d));d.call(l)}}}var fi={},or=Lr(fi),mi=Lr(fi),pi=Lr(fi);function vn(e){if(e===fi)throw Error(n(174));return e}function Sl(e,t){switch($e(pi,t),$e(mi,e),$e(or,fi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ze(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ze(t,e)}Be(or),$e(or,t)}function ss(){Be(or),Be(mi),Be(pi)}function Ld(e){vn(pi.current);var t=vn(or.current),i=Ze(t,e.type);t!==i&&($e(mi,e),$e(or,i))}function Nl(e){mi.current===e&&(Be(or),Be(mi))}var He=Lr(0);function Ca(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function Cl(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var Pa=F.ReactCurrentDispatcher,Pl=F.ReactCurrentBatchConfig,yn=0,Ve=null,rt=null,at=null,Ta=!1,gi=!1,vi=0,Eg=0;function pt(){throw Error(n(321))}function Tl(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Vt(e[i],t[i]))return!1;return!0}function Ol(e,t,i,l,d,f){if(yn=f,Ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pa.current=e===null||e.memoizedState===null?Og:Rg,e=i(l,d),gi){f=0;do{if(gi=!1,vi=0,25<=f)throw Error(n(301));f+=1,at=rt=null,t.updateQueue=null,Pa.current=Ag,e=i(l,d)}while(gi)}if(Pa.current=Aa,t=rt!==null&&rt.next!==null,yn=0,at=rt=Ve=null,Ta=!1,t)throw Error(n(300));return e}function Rl(){var e=vi!==0;return vi=0,e}function lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?Ve.memoizedState=at=e:at=at.next=e,at}function $t(){if(rt===null){var e=Ve.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=at===null?Ve.memoizedState:at.next;if(t!==null)at=t,rt=e;else{if(e===null)throw Error(n(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},at===null?Ve.memoizedState=at=e:at=at.next=e}return at}function yi(e,t){return typeof t=="function"?t(e):t}function Al(e){var t=$t(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=rt,d=l.baseQueue,f=i.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}l.baseQueue=d=f,i.pending=null}if(d!==null){f=d.next,l=l.baseState;var w=g=null,b=null,A=f;do{var H=A.lane;if((yn&H)===H)b!==null&&(b=b.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),l=A.hasEagerState?A.eagerState:e(l,A.action);else{var V={lane:H,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};b===null?(w=b=V,g=l):b=b.next=V,Ve.lanes|=H,xn|=H}A=A.next}while(A!==null&&A!==f);b===null?g=l:b.next=w,Vt(l,t.memoizedState)||(Pt=!0),t.memoizedState=l,t.baseState=g,t.baseQueue=b,i.lastRenderedState=l}if(e=i.interleaved,e!==null){d=e;do f=d.lane,Ve.lanes|=f,xn|=f,d=d.next;while(d!==e)}else d===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Ml(e){var t=$t(),i=t.queue;if(i===null)throw Error(n(311));i.lastRenderedReducer=e;var l=i.dispatch,d=i.pending,f=t.memoizedState;if(d!==null){i.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);Vt(f,t.memoizedState)||(Pt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,l]}function Id(){}function Ud(e,t){var i=Ve,l=$t(),d=t(),f=!Vt(l.memoizedState,d);if(f&&(l.memoizedState=d,Pt=!0),l=l.queue,Dl(zd.bind(null,i,l,e),[e]),l.getSnapshot!==t||f||at!==null&&at.memoizedState.tag&1){if(i.flags|=2048,xi(9,$d.bind(null,i,l,d,t),void 0,null),ot===null)throw Error(n(349));(yn&30)!==0||Fd(i,t,d)}return d}function Fd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function $d(e,t,i,l){t.value=i,t.getSnapshot=l,Wd(t)&&Bd(e)}function zd(e,t,i){return i(function(){Wd(t)&&Bd(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Vt(e,i)}catch{return!0}}function Bd(e){var t=wr(e,1);t!==null&&Jt(t,e,1,-1)}function qd(e){var t=lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Tg.bind(null,Ve,e),[t.memoizedState,e]}function xi(e,t,i,l){return e={tag:e,create:t,destroy:i,deps:l,next:null},t=Ve.updateQueue,t===null?(t={lastEffect:null,stores:null},Ve.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e)),e}function Hd(){return $t().memoizedState}function Oa(e,t,i,l){var d=lr();Ve.flags|=e,d.memoizedState=xi(1|t,i,void 0,l===void 0?null:l)}function Ra(e,t,i,l){var d=$t();l=l===void 0?null:l;var f=void 0;if(rt!==null){var g=rt.memoizedState;if(f=g.destroy,l!==null&&Tl(l,g.deps)){d.memoizedState=xi(t,i,f,l);return}}Ve.flags|=e,d.memoizedState=xi(1|t,i,f,l)}function Vd(e,t){return Oa(8390656,8,e,t)}function Dl(e,t){return Ra(2048,8,e,t)}function Qd(e,t){return Ra(4,2,e,t)}function Kd(e,t){return Ra(4,4,e,t)}function Gd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yd(e,t,i){return i=i!=null?i.concat([e]):null,Ra(4,4,Gd.bind(null,t,e),i)}function Ll(){}function Jd(e,t){var i=$t();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Tl(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function Xd(e,t){var i=$t();t=t===void 0?null:t;var l=i.memoizedState;return l!==null&&t!==null&&Tl(t,l[1])?l[0]:(e=e(),i.memoizedState=[e,t],e)}function Zd(e,t,i){return(yn&21)===0?(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=i):(Vt(i,t)||(i=Pc(),Ve.lanes|=i,xn|=i,e.baseState=!0),t)}function Cg(e,t){var i=Le;Le=i!==0&&4>i?i:4,e(!0);var l=Pl.transition;Pl.transition={};try{e(!1),t()}finally{Le=i,Pl.transition=l}}function eh(){return $t().memoizedState}function Pg(e,t,i){var l=qr(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},th(e))rh(t,i);else if(i=Rd(e,t,i,l),i!==null){var d=_t();Jt(i,e,l,d),nh(i,t,l)}}function Tg(e,t,i){var l=qr(e),d={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(th(e))rh(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,i);if(d.hasEagerState=!0,d.eagerState=w,Vt(w,g)){var b=t.interleaved;b===null?(d.next=d,kl(t)):(d.next=b.next,b.next=d),t.interleaved=d;return}}catch{}finally{}i=Rd(e,t,d,l),i!==null&&(d=_t(),Jt(i,e,l,d),nh(i,t,l))}}function th(e){var t=e.alternate;return e===Ve||t!==null&&t===Ve}function rh(e,t){gi=Ta=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function nh(e,t,i){if((i&4194240)!==0){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Uo(e,i)}}var Aa={readContext:Ft,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Og={readContext:Ft,useCallback:function(e,t){return lr().memoizedState=[e,t===void 0?null:t],e},useContext:Ft,useEffect:Vd,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,Oa(4194308,4,Gd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Oa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Oa(4,2,e,t)},useMemo:function(e,t){var i=lr();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var l=lr();return t=i!==void 0?i(t):t,l.memoizedState=l.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},l.queue=e,e=e.dispatch=Pg.bind(null,Ve,e),[l.memoizedState,e]},useRef:function(e){var t=lr();return e={current:e},t.memoizedState=e},useState:qd,useDebugValue:Ll,useDeferredValue:function(e){return lr().memoizedState=e},useTransition:function(){var e=qd(!1),t=e[0];return e=Cg.bind(null,e[1]),lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var l=Ve,d=lr();if(qe){if(i===void 0)throw Error(n(407));i=i()}else{if(i=t(),ot===null)throw Error(n(349));(yn&30)!==0||Fd(l,t,i)}d.memoizedState=i;var f={value:i,getSnapshot:t};return d.queue=f,Vd(zd.bind(null,l,f,e),[e]),l.flags|=2048,xi(9,$d.bind(null,l,f,i,t),void 0,null),i},useId:function(){var e=lr(),t=ot.identifierPrefix;if(qe){var i=xr,l=yr;i=(l&~(1<<32-Ht(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=vi++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Eg++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Rg={readContext:Ft,useCallback:Jd,useContext:Ft,useEffect:Dl,useImperativeHandle:Yd,useInsertionEffect:Qd,useLayoutEffect:Kd,useMemo:Xd,useReducer:Al,useRef:Hd,useState:function(){return Al(yi)},useDebugValue:Ll,useDeferredValue:function(e){var t=$t();return Zd(t,rt.memoizedState,e)},useTransition:function(){var e=Al(yi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Id,useSyncExternalStore:Ud,useId:eh,unstable_isNewReconciler:!1},Ag={readContext:Ft,useCallback:Jd,useContext:Ft,useEffect:Dl,useImperativeHandle:Yd,useInsertionEffect:Qd,useLayoutEffect:Kd,useMemo:Xd,useReducer:Ml,useRef:Hd,useState:function(){return Ml(yi)},useDebugValue:Ll,useDeferredValue:function(e){var t=$t();return rt===null?t.memoizedState=e:Zd(t,rt.memoizedState,e)},useTransition:function(){var e=Ml(yi)[0],t=$t().memoizedState;return[e,t]},useMutableSource:Id,useSyncExternalStore:Ud,useId:eh,unstable_isNewReconciler:!1};function Kt(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Il(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:ee({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Ma={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=_t(),d=qr(e),f=_r(l,d);f.payload=t,i!=null&&(f.callback=i),t=$r(e,f,d),t!==null&&(Jt(t,e,d,l),Na(t,e,d))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=_t(),d=qr(e),f=_r(l,d);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=$r(e,f,d),t!==null&&(Jt(t,e,d,l),Na(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=_t(),l=qr(e),d=_r(i,l);d.tag=2,t!=null&&(d.callback=t),t=$r(e,d,l),t!==null&&(Jt(t,e,l,i),Na(t,e,l))}};function sh(e,t,i,l,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):t.prototype&&t.prototype.isPureReactComponent?!ii(i,l)||!ii(d,f):!0}function ih(e,t,i){var l=!1,d=Ir,f=t.contextType;return typeof f=="object"&&f!==null?f=Ft(f):(d=Ct(t)?fn:mt.current,l=t.contextTypes,f=(l=l!=null)?Jn(e,d):Ir),t=new t(i,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ma,e.stateNode=t,t._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function ah(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&Ma.enqueueReplaceState(t,t.state,null)}function Ul(e,t,i,l){var d=e.stateNode;d.props=i,d.state=e.memoizedState,d.refs={},bl(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=Ft(f):(f=Ct(t)?fn:mt.current,d.context=Jn(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Il(e,t,f,i),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Ma.enqueueReplaceState(d,d.state,null),Ea(e,i,d,l),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function is(e,t){try{var i="",l=t;do i+=Se(l),l=l.return;while(l);var d=i}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Fl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function $l(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function oh(e,t,i){i=_r(-1,i),i.tag=3,i.payload={element:null};var l=t.value;return i.callback=function(){za||(za=!0,tu=l),$l(e,t)},i}function lh(e,t,i){i=_r(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var d=t.value;i.payload=function(){return l(d)},i.callback=function(){$l(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(i.callback=function(){$l(e,t),typeof l!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function uh(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Mg;var d=new Set;l.set(t,d)}else d=l.get(t),d===void 0&&(d=new Set,l.set(t,d));d.has(i)||(d.add(i),e=Kg.bind(null,e,t,i),t.then(e,e))}function ch(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function dh(e,t,i,l,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=_r(-1,1),t.tag=2,$r(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Dg=F.ReactCurrentOwner,Pt=!1;function wt(e,t,i,l){t.child=e===null?Od(t,null,i,l):ts(t,e.child,i,l)}function hh(e,t,i,l,d){i=i.render;var f=t.ref;return ns(t,d),l=Ol(e,t,i,l,f,d),i=Rl(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,jr(e,t,d)):(qe&&i&&ml(t),t.flags|=1,wt(e,t,l,d),t.child)}function fh(e,t,i,l,d){if(e===null){var f=i.type;return typeof f=="function"&&!lu(f)&&f.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=f,mh(e,t,f,l,d)):(e=Qa(i.type,null,l,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ii,i(g,l)&&e.ref===t.ref)return jr(e,t,d)}return t.flags|=1,e=Vr(f,l),e.ref=t.ref,e.return=t,t.child=e}function mh(e,t,i,l,d){if(e!==null){var f=e.memoizedProps;if(ii(f,l)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=l=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,jr(e,t,d)}return zl(e,t,i,l,d)}function ph(e,t,i){var l=t.pendingProps,d=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(os,Lt),Lt|=i;else{if((i&1073741824)===0)return e=f!==null?f.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(os,Lt),Lt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:i,$e(os,Lt),Lt|=l}else f!==null?(l=f.baseLanes|i,t.memoizedState=null):l=i,$e(os,Lt),Lt|=l;return wt(e,t,d,i),t.child}function gh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function zl(e,t,i,l,d){var f=Ct(i)?fn:mt.current;return f=Jn(t,f),ns(t,d),i=Ol(e,t,i,l,f,d),l=Rl(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,jr(e,t,d)):(qe&&l&&ml(t),t.flags|=1,wt(e,t,i,d),t.child)}function vh(e,t,i,l,d){if(Ct(i)){var f=!0;ya(t)}else f=!1;if(ns(t,d),t.stateNode===null)La(e,t),ih(t,i,l),Ul(t,i,l,d),l=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var b=g.context,A=i.contextType;typeof A=="object"&&A!==null?A=Ft(A):(A=Ct(i)?fn:mt.current,A=Jn(t,A));var H=i.getDerivedStateFromProps,V=typeof H=="function"||typeof g.getSnapshotBeforeUpdate=="function";V||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==l||b!==A)&&ah(t,g,l,A),Fr=!1;var q=t.memoizedState;g.state=q,Ea(t,l,g,d),b=t.memoizedState,w!==l||q!==b||Et.current||Fr?(typeof H=="function"&&(Il(t,i,H,l),b=t.memoizedState),(w=Fr||sh(t,i,w,l,q,b,A))?(V||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=b),g.props=l,g.state=b,g.context=A,l=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{g=t.stateNode,Ad(e,t),w=t.memoizedProps,A=t.type===t.elementType?w:Kt(t.type,w),g.props=A,V=t.pendingProps,q=g.context,b=i.contextType,typeof b=="object"&&b!==null?b=Ft(b):(b=Ct(i)?fn:mt.current,b=Jn(t,b));var te=i.getDerivedStateFromProps;(H=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==V||q!==b)&&ah(t,g,l,b),Fr=!1,q=t.memoizedState,g.state=q,Ea(t,l,g,d);var se=t.memoizedState;w!==V||q!==se||Et.current||Fr?(typeof te=="function"&&(Il(t,i,te,l),se=t.memoizedState),(A=Fr||sh(t,i,A,l,q,se,b)||!1)?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(l,se,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(l,se,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=se),g.props=l,g.state=se,g.context=b,l=A):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(t.flags|=1024),l=!1)}return Wl(e,t,i,l,f,d)}function Wl(e,t,i,l,d,f){gh(e,t);var g=(t.flags&128)!==0;if(!l&&!g)return d&&jd(t,i,!1),jr(e,t,f);l=t.stateNode,Dg.current=t;var w=g&&typeof i.getDerivedStateFromError!="function"?null:l.render();return t.flags|=1,e!==null&&g?(t.child=ts(t,e.child,null,f),t.child=ts(t,null,w,f)):wt(e,t,w,f),t.memoizedState=l.state,d&&jd(t,i,!0),t.child}function yh(e){var t=e.stateNode;t.pendingContext?wd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&wd(e,t.context,!1),Sl(e,t.containerInfo)}function xh(e,t,i,l,d){return es(),yl(d),t.flags|=256,wt(e,t,i,l),t.child}var Bl={dehydrated:null,treeContext:null,retryLane:0};function ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function wh(e,t,i){var l=t.pendingProps,d=He.current,f=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(d&2)!==0),w?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),$e(He,d&1),e===null)return vl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=l.children,e=l.fallback,f?(l=t.mode,f=t.child,g={mode:"hidden",children:g},(l&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Ka(g,l,0,null),e=kn(e,l,i,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=ql(i),t.memoizedState=Bl,e):Hl(t,g));if(d=e.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return Lg(e,t,g,l,w,d,i);if(f){f=l.fallback,g=t.mode,d=e.child,w=d.sibling;var b={mode:"hidden",children:l.children};return(g&1)===0&&t.child!==d?(l=t.child,l.childLanes=0,l.pendingProps=b,t.deletions=null):(l=Vr(d,b),l.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=Vr(w,f):(f=kn(f,g,i,null),f.flags|=2),f.return=t,l.return=t,l.sibling=f,t.child=l,l=f,f=t.child,g=e.child.memoizedState,g=g===null?ql(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~i,t.memoizedState=Bl,l}return f=e.child,e=f.sibling,l=Vr(f,{mode:"visible",children:l.children}),(t.mode&1)===0&&(l.lanes=i),l.return=t,l.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=l,t.memoizedState=null,l}function Hl(e,t){return t=Ka({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Da(e,t,i,l){return l!==null&&yl(l),ts(t,e.child,null,i),e=Hl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lg(e,t,i,l,d,f,g){if(i)return t.flags&256?(t.flags&=-257,l=Fl(Error(n(422))),Da(e,t,g,l)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=l.fallback,d=t.mode,l=Ka({mode:"visible",children:l.children},d,0,null),f=kn(f,d,g,null),f.flags|=2,l.return=t,f.return=t,l.sibling=f,t.child=l,(t.mode&1)!==0&&ts(t,e.child,null,g),t.child.memoizedState=ql(g),t.memoizedState=Bl,f);if((t.mode&1)===0)return Da(e,t,g,null);if(d.data==="$!"){if(l=d.nextSibling&&d.nextSibling.dataset,l)var w=l.dgst;return l=w,f=Error(n(419)),l=Fl(f,l,void 0),Da(e,t,g,l)}if(w=(g&e.childLanes)!==0,Pt||w){if(l=ot,l!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(l.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,wr(e,d),Jt(l,e,d,-1))}return ou(),l=Fl(Error(n(421))),Da(e,t,g,l)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=Gg.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Dt=Dr(d.nextSibling),Mt=t,qe=!0,Qt=null,e!==null&&(It[Ut++]=yr,It[Ut++]=xr,It[Ut++]=mn,yr=e.id,xr=e.overflow,mn=t),t=Hl(t,l.children),t.flags|=4096,t)}function _h(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),jl(e.return,t,i)}function Vl(e,t,i,l,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=i,f.tailMode=d)}function jh(e,t,i){var l=t.pendingProps,d=l.revealOrder,f=l.tail;if(wt(e,t,l.children,i),l=He.current,(l&2)!==0)l=l&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_h(e,i,t);else if(e.tag===19)_h(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if($e(He,l),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(i=t.child,d=null;i!==null;)e=i.alternate,e!==null&&Ca(e)===null&&(d=i),i=i.sibling;i=d,i===null?(d=t.child,t.child=null):(d=i.sibling,i.sibling=null),Vl(t,!1,d,i,f);break;case"backwards":for(i=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Ca(e)===null){t.child=d;break}e=d.sibling,d.sibling=i,i=d,d=e}Vl(t,!0,i,null,f);break;case"together":Vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function La(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,(i&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(n(153));if(t.child!==null){for(e=t.child,i=Vr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Vr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Ig(e,t,i){switch(t.tag){case 3:yh(t),es();break;case 5:Ld(t);break;case 1:Ct(t.type)&&ya(t);break;case 4:Sl(t,t.stateNode.containerInfo);break;case 10:var l=t.type._context,d=t.memoizedProps.value;$e(ba,l._currentValue),l._currentValue=d;break;case 13:if(l=t.memoizedState,l!==null)return l.dehydrated!==null?($e(He,He.current&1),t.flags|=128,null):(i&t.child.childLanes)!==0?wh(e,t,i):($e(He,He.current&1),e=jr(e,t,i),e!==null?e.sibling:null);$e(He,He.current&1);break;case 19:if(l=(i&t.childLanes)!==0,(e.flags&128)!==0){if(l)return jh(e,t,i);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(He,He.current),l)break;return null;case 22:case 23:return t.lanes=0,ph(e,t,i)}return jr(e,t,i)}var kh,Ql,bh,Sh;kh=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ql=function(){},bh=function(e,t,i,l){var d=e.memoizedProps;if(d!==l){e=t.stateNode,vn(or.current);var f=null;switch(i){case"input":d=In(e,d),l=In(e,l),f=[];break;case"select":d=ee({},d,{value:void 0}),l=ee({},l,{value:void 0}),f=[];break;case"textarea":d=Q(e,d),l=Q(e,l),f=[];break;default:typeof d.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=pa)}Eo(i,l);var g;i=null;for(A in d)if(!l.hasOwnProperty(A)&&d.hasOwnProperty(A)&&d[A]!=null)if(A==="style"){var w=d[A];for(g in w)w.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(o.hasOwnProperty(A)?f||(f=[]):(f=f||[]).push(A,null));for(A in l){var b=l[A];if(w=d!=null?d[A]:void 0,l.hasOwnProperty(A)&&b!==w&&(b!=null||w!=null))if(A==="style")if(w){for(g in w)!w.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in b)b.hasOwnProperty(g)&&w[g]!==b[g]&&(i||(i={}),i[g]=b[g])}else i||(f||(f=[]),f.push(A,i)),i=b;else A==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,w=w?w.__html:void 0,b!=null&&w!==b&&(f=f||[]).push(A,b)):A==="children"?typeof b!="string"&&typeof b!="number"||(f=f||[]).push(A,""+b):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(o.hasOwnProperty(A)?(b!=null&&A==="onScroll"&&We("scroll",e),f||w===b||(f=[])):(f=f||[]).push(A,b))}i&&(f=f||[]).push("style",i);var A=f;(t.updateQueue=A)&&(t.flags|=4)}},Sh=function(e,t,i,l){i!==l&&(t.flags|=4)};function wi(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags&14680064,l|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)i|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function Ug(e,t,i){var l=t.pendingProps;switch(pl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Ct(t.type)&&va(),gt(t),null;case 3:return l=t.stateNode,ss(),Be(Et),Be(mt),Cl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(ja(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qt!==null&&(su(Qt),Qt=null))),Ql(e,t),gt(t),null;case 5:Nl(t);var d=vn(pi.current);if(i=t.type,e!==null&&t.stateNode!=null)bh(e,t,i,l,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!l){if(t.stateNode===null)throw Error(n(166));return gt(t),null}if(e=vn(or.current),ja(t)){l=t.stateNode,i=t.type;var f=t.memoizedProps;switch(l[ar]=t,l[ci]=f,e=(t.mode&1)!==0,i){case"dialog":We("cancel",l),We("close",l);break;case"iframe":case"object":case"embed":We("load",l);break;case"video":case"audio":for(d=0;d<oi.length;d++)We(oi[d],l);break;case"source":We("error",l);break;case"img":case"image":case"link":We("error",l),We("load",l);break;case"details":We("toggle",l);break;case"input":Qi(l,f),We("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},We("invalid",l);break;case"textarea":L(l,f),We("invalid",l)}Eo(i,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?l.textContent!==w&&(f.suppressHydrationWarning!==!0&&ma(l.textContent,w,e),d=["children",w]):typeof w=="number"&&l.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&ma(l.textContent,w,e),d=["children",""+w]):o.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&We("scroll",l)}switch(i){case"input":Dn(l),Bs(l,f,!0);break;case"textarea":Dn(l),_e(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=pa)}l=d,t.updateQueue=l,l!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=we(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=g.createElement(i,{is:l.is}):(e=g.createElement(i),i==="select"&&(g=e,l.multiple?g.multiple=!0:l.size&&(g.size=l.size))):e=g.createElementNS(e,i),e[ar]=t,e[ci]=l,kh(e,t,!1,!1),t.stateNode=e;e:{switch(g=Co(i,l),i){case"dialog":We("cancel",e),We("close",e),d=l;break;case"iframe":case"object":case"embed":We("load",e),d=l;break;case"video":case"audio":for(d=0;d<oi.length;d++)We(oi[d],e);d=l;break;case"source":We("error",e),d=l;break;case"img":case"image":case"link":We("error",e),We("load",e),d=l;break;case"details":We("toggle",e),d=l;break;case"input":Qi(e,l),d=In(e,l),We("invalid",e);break;case"option":d=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},d=ee({},l,{value:void 0}),We("invalid",e);break;case"textarea":L(e,l),d=Q(e,l),We("invalid",e);break;default:d=l}Eo(i,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var b=w[f];f==="style"?mc(e,b):f==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&be(e,b)):f==="children"?typeof b=="string"?(i!=="textarea"||b!=="")&&Nt(e,b):typeof b=="number"&&Nt(e,""+b):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?b!=null&&f==="onScroll"&&We("scroll",e):b!=null&&D(e,f,b,g))}switch(i){case"input":Dn(e),Bs(e,l,!1);break;case"textarea":Dn(e),_e(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Me(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?pr(e,!!l.multiple,f,!1):l.defaultValue!=null&&pr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=pa)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Sh(e,t,e.memoizedProps,l);else{if(typeof l!="string"&&t.stateNode===null)throw Error(n(166));if(i=vn(pi.current),vn(or.current),ja(t)){if(l=t.stateNode,i=t.memoizedProps,l[ar]=t,(f=l.nodeValue!==i)&&(e=Mt,e!==null))switch(e.tag){case 3:ma(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ma(l.nodeValue,i,(e.mode&1)!==0)}f&&(t.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[ar]=t,t.stateNode=l}return gt(t),null;case 13:if(Be(He),l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&Dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Cd(),es(),t.flags|=98560,f=!1;else if(f=ja(t),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(n(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[ar]=t}else es(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),f=!1}else Qt!==null&&(su(Qt),Qt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=i,t):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(He.current&1)!==0?nt===0&&(nt=3):ou())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return ss(),Ql(e,t),e===null&&li(t.stateNode.containerInfo),gt(t),null;case 10:return _l(t.type._context),gt(t),null;case 17:return Ct(t.type)&&va(),gt(t),null;case 19:if(Be(He),f=t.memoizedState,f===null)return gt(t),null;if(l=(t.flags&128)!==0,g=f.rendering,g===null)if(l)wi(f,!1);else{if(nt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Ca(e),g!==null){for(t.flags|=128,wi(f,!1),l=g.updateQueue,l!==null&&(t.updateQueue=l,t.flags|=4),t.subtreeFlags=0,l=i,i=t.child;i!==null;)f=i,e=l,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return $e(He,He.current&1|2),t.child}e=e.sibling}f.tail!==null&&Ge()>ls&&(t.flags|=128,l=!0,wi(f,!1),t.lanes=4194304)}else{if(!l)if(e=Ca(g),e!==null){if(t.flags|=128,l=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),wi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!qe)return gt(t),null}else 2*Ge()-f.renderingStartTime>ls&&i!==1073741824&&(t.flags|=128,l=!0,wi(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(i=f.last,i!==null?i.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Ge(),t.sibling=null,i=He.current,$e(He,l?i&1|2:i&1),t):(gt(t),null);case 22:case 23:return au(),l=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(t.flags|=8192),l&&(t.mode&1)!==0?(Lt&1073741824)!==0&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(n(156,t.tag))}function Fg(e,t){switch(pl(t),t.tag){case 1:return Ct(t.type)&&va(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ss(),Be(Et),Be(mt),Cl(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Nl(t),null;case 13:if(Be(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(n(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Be(He),null;case 4:return ss(),null;case 10:return _l(t.type._context),null;case 22:case 23:return au(),null;case 24:return null;default:return null}}var Ia=!1,vt=!1,$g=typeof WeakSet=="function"?WeakSet:Set,ne=null;function as(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){Qe(e,t,l)}else i.current=null}function Kl(e,t,i){try{i()}catch(l){Qe(e,t,l)}}var Nh=!1;function zg(e,t){if(al=na,e=sd(),Xo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,w=-1,b=-1,A=0,H=0,V=e,q=null;t:for(;;){for(var te;V!==i||d!==0&&V.nodeType!==3||(w=g+d),V!==f||l!==0&&V.nodeType!==3||(b=g+l),V.nodeType===3&&(g+=V.nodeValue.length),(te=V.firstChild)!==null;)q=V,V=te;for(;;){if(V===e)break t;if(q===i&&++A===d&&(w=g),q===f&&++H===l&&(b=g),(te=V.nextSibling)!==null)break;V=q,q=V.parentNode}V=te}i=w===-1||b===-1?null:{start:w,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(ol={focusedElem:e,selectionRange:i},na=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ie=se.memoizedProps,Ye=se.memoizedState,T=t.stateNode,S=T.getSnapshotBeforeUpdate(t.elementType===t.type?ie:Kt(t.type,ie),Ye);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(K){Qe(t,t.return,K)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return se=Nh,Nh=!1,se}function _i(e,t,i){var l=t.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Kl(t,i,f)}d=d.next}while(d!==l)}}function Ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==t)}}function Gl(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function Eh(e){var t=e.alternate;t!==null&&(e.alternate=null,Eh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ar],delete t[ci],delete t[dl],delete t[kg],delete t[bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ch(e){return e.tag===5||e.tag===3||e.tag===4}function Ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=pa));else if(l!==4&&(e=e.child,e!==null))for(Yl(e,t,i),e=e.sibling;e!==null;)Yl(e,t,i),e=e.sibling}function Jl(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Jl(e,t,i),e=e.sibling;e!==null;)Jl(e,t,i),e=e.sibling}var dt=null,Gt=!1;function zr(e,t,i){for(i=i.child;i!==null;)Th(e,t,i),i=i.sibling}function Th(e,t,i){if(ir&&typeof ir.onCommitFiberUnmount=="function")try{ir.onCommitFiberUnmount(Ji,i)}catch{}switch(i.tag){case 5:vt||as(i,t);case 6:var l=dt,d=Gt;dt=null,zr(e,t,i),dt=l,Gt=d,dt!==null&&(Gt?(e=dt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):dt.removeChild(i.stateNode));break;case 18:dt!==null&&(Gt?(e=dt,i=i.stateNode,e.nodeType===8?cl(e.parentNode,i):e.nodeType===1&&cl(e,i),Zs(e)):cl(dt,i.stateNode));break;case 4:l=dt,d=Gt,dt=i.stateNode.containerInfo,Gt=!0,zr(e,t,i),dt=l,Gt=d;break;case 0:case 11:case 14:case 15:if(!vt&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){d=l=l.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Kl(i,t,g),d=d.next}while(d!==l)}zr(e,t,i);break;case 1:if(!vt&&(as(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(w){Qe(i,t,w)}zr(e,t,i);break;case 21:zr(e,t,i);break;case 22:i.mode&1?(vt=(l=vt)||i.memoizedState!==null,zr(e,t,i),vt=l):zr(e,t,i);break;default:zr(e,t,i)}}function Oh(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new $g),t.forEach(function(l){var d=Yg.bind(null,e,l);i.has(l)||(i.add(l),l.then(d,d))})}}function Yt(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var d=i[l];try{var f=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:dt=w.stateNode,Gt=!1;break e;case 3:dt=w.stateNode.containerInfo,Gt=!0;break e;case 4:dt=w.stateNode.containerInfo,Gt=!0;break e}w=w.return}if(dt===null)throw Error(n(160));Th(f,g,d),dt=null,Gt=!1;var b=d.alternate;b!==null&&(b.return=null),d.return=null}catch(A){Qe(d,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rh(t,e),t=t.sibling}function Rh(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Yt(t,e),ur(e),l&4){try{_i(3,e,e.return),Ua(3,e)}catch(ie){Qe(e,e.return,ie)}try{_i(5,e,e.return)}catch(ie){Qe(e,e.return,ie)}}break;case 1:Yt(t,e),ur(e),l&512&&i!==null&&as(i,i.return);break;case 5:if(Yt(t,e),ur(e),l&512&&i!==null&&as(i,i.return),e.flags&32){var d=e.stateNode;try{Nt(d,"")}catch(ie){Qe(e,e.return,ie)}}if(l&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=i!==null?i.memoizedProps:f,w=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Ws(d,f),Co(w,g);var A=Co(w,f);for(g=0;g<b.length;g+=2){var H=b[g],V=b[g+1];H==="style"?mc(d,V):H==="dangerouslySetInnerHTML"?be(d,V):H==="children"?Nt(d,V):D(d,H,V,A)}switch(w){case"input":Un(d,f);break;case"textarea":$(d,f);break;case"select":var q=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var te=f.value;te!=null?pr(d,!!f.multiple,te,!1):q!==!!f.multiple&&(f.defaultValue!=null?pr(d,!!f.multiple,f.defaultValue,!0):pr(d,!!f.multiple,f.multiple?[]:"",!1))}d[ci]=f}catch(ie){Qe(e,e.return,ie)}}break;case 6:if(Yt(t,e),ur(e),l&4){if(e.stateNode===null)throw Error(n(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ie){Qe(e,e.return,ie)}}break;case 3:if(Yt(t,e),ur(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(ie){Qe(e,e.return,ie)}break;case 4:Yt(t,e),ur(e);break;case 13:Yt(t,e),ur(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(eu=Ge())),l&4&&Oh(e);break;case 22:if(H=i!==null&&i.memoizedState!==null,e.mode&1?(vt=(A=vt)||H,Yt(t,e),vt=A):Yt(t,e),ur(e),l&8192){if(A=e.memoizedState!==null,(e.stateNode.isHidden=A)&&!H&&(e.mode&1)!==0)for(ne=e,H=e.child;H!==null;){for(V=ne=H;ne!==null;){switch(q=ne,te=q.child,q.tag){case 0:case 11:case 14:case 15:_i(4,q,q.return);break;case 1:as(q,q.return);var se=q.stateNode;if(typeof se.componentWillUnmount=="function"){l=q,i=q.return;try{t=l,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(ie){Qe(l,i,ie)}}break;case 5:as(q,q.return);break;case 22:if(q.memoizedState!==null){Dh(V);continue}}te!==null?(te.return=q,ne=te):Dh(V)}H=H.sibling}e:for(H=null,V=e;;){if(V.tag===5){if(H===null){H=V;try{d=V.stateNode,A?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=V.stateNode,b=V.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,w.style.display=fc("display",g))}catch(ie){Qe(e,e.return,ie)}}}else if(V.tag===6){if(H===null)try{V.stateNode.nodeValue=A?"":V.memoizedProps}catch(ie){Qe(e,e.return,ie)}}else if((V.tag!==22&&V.tag!==23||V.memoizedState===null||V===e)&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===e)break e;for(;V.sibling===null;){if(V.return===null||V.return===e)break e;H===V&&(H=null),V=V.return}H===V&&(H=null),V.sibling.return=V.return,V=V.sibling}}break;case 19:Yt(t,e),ur(e),l&4&&Oh(e);break;case 21:break;default:Yt(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(Ch(i)){var l=i;break e}i=i.return}throw Error(n(160))}switch(l.tag){case 5:var d=l.stateNode;l.flags&32&&(Nt(d,""),l.flags&=-33);var f=Ph(e);Jl(e,f,d);break;case 3:case 4:var g=l.stateNode.containerInfo,w=Ph(e);Yl(e,w,g);break;default:throw Error(n(161))}}catch(b){Qe(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wg(e,t,i){ne=e,Ah(e)}function Ah(e,t,i){for(var l=(e.mode&1)!==0;ne!==null;){var d=ne,f=d.child;if(d.tag===22&&l){var g=d.memoizedState!==null||Ia;if(!g){var w=d.alternate,b=w!==null&&w.memoizedState!==null||vt;w=Ia;var A=vt;if(Ia=g,(vt=b)&&!A)for(ne=d;ne!==null;)g=ne,b=g.child,g.tag===22&&g.memoizedState!==null?Lh(d):b!==null?(b.return=g,ne=b):Lh(d);for(;f!==null;)ne=f,Ah(f),f=f.sibling;ne=d,Ia=w,vt=A}Mh(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,ne=f):Mh(e)}}function Mh(e){for(;ne!==null;){var t=ne;if((t.flags&8772)!==0){var i=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:vt||Ua(5,t);break;case 1:var l=t.stateNode;if(t.flags&4&&!vt)if(i===null)l.componentDidMount();else{var d=t.elementType===t.type?i.memoizedProps:Kt(t.type,i.memoizedProps);l.componentDidUpdate(d,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&Dd(t,f,l);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}Dd(t,g,i)}break;case 5:var w=t.stateNode;if(i===null&&t.flags&4){i=w;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&i.focus();break;case"img":b.src&&(i.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var H=A.memoizedState;if(H!==null){var V=H.dehydrated;V!==null&&Zs(V)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}vt||t.flags&512&&Gl(t)}catch(q){Qe(t,t.return,q)}}if(t===e){ne=null;break}if(i=t.sibling,i!==null){i.return=t.return,ne=i;break}ne=t.return}}function Dh(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var i=t.sibling;if(i!==null){i.return=t.return,ne=i;break}ne=t.return}}function Lh(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Ua(4,t)}catch(b){Qe(t,i,b)}break;case 1:var l=t.stateNode;if(typeof l.componentDidMount=="function"){var d=t.return;try{l.componentDidMount()}catch(b){Qe(t,d,b)}}var f=t.return;try{Gl(t)}catch(b){Qe(t,f,b)}break;case 5:var g=t.return;try{Gl(t)}catch(b){Qe(t,g,b)}}}catch(b){Qe(t,t.return,b)}if(t===e){ne=null;break}var w=t.sibling;if(w!==null){w.return=t.return,ne=w;break}ne=t.return}}var Bg=Math.ceil,Fa=F.ReactCurrentDispatcher,Xl=F.ReactCurrentOwner,zt=F.ReactCurrentBatchConfig,Ce=0,ot=null,et=null,ht=0,Lt=0,os=Lr(0),nt=0,ji=null,xn=0,$a=0,Zl=0,ki=null,Tt=null,eu=0,ls=1/0,kr=null,za=!1,tu=null,Wr=null,Wa=!1,Br=null,Ba=0,bi=0,ru=null,qa=-1,Ha=0;function _t(){return(Ce&6)!==0?Ge():qa!==-1?qa:qa=Ge()}function qr(e){return(e.mode&1)===0?1:(Ce&2)!==0&&ht!==0?ht&-ht:Ng.transition!==null?(Ha===0&&(Ha=Pc()),Ha):(e=Le,e!==0||(e=window.event,e=e===void 0?16:Uc(e.type)),e)}function Jt(e,t,i,l){if(50<bi)throw bi=0,ru=null,Error(n(185));Ks(e,i,l),((Ce&2)===0||e!==ot)&&(e===ot&&((Ce&2)===0&&($a|=i),nt===4&&Hr(e,ht)),Ot(e,l),i===1&&Ce===0&&(t.mode&1)===0&&(ls=Ge()+500,xa&&Ur()))}function Ot(e,t){var i=e.callbackNode;Np(e,t);var l=ea(e,e===ot?ht:0);if(l===0)i!==null&&Nc(i),e.callbackNode=null,e.callbackPriority=0;else if(t=l&-l,e.callbackPriority!==t){if(i!=null&&Nc(i),t===1)e.tag===0?Sg(Uh.bind(null,e)):kd(Uh.bind(null,e)),_g(function(){(Ce&6)===0&&Ur()}),i=null;else{switch(Tc(l)){case 1:i=Do;break;case 4:i=Ec;break;case 16:i=Yi;break;case 536870912:i=Cc;break;default:i=Yi}i=Vh(i,Ih.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Ih(e,t){if(qa=-1,Ha=0,(Ce&6)!==0)throw Error(n(327));var i=e.callbackNode;if(us()&&e.callbackNode!==i)return null;var l=ea(e,e===ot?ht:0);if(l===0)return null;if((l&30)!==0||(l&e.expiredLanes)!==0||t)t=Va(e,l);else{t=l;var d=Ce;Ce|=2;var f=$h();(ot!==e||ht!==t)&&(kr=null,ls=Ge()+500,_n(e,t));do try{Vg();break}catch(w){Fh(e,w)}while(!0);wl(),Fa.current=f,Ce=d,et!==null?t=0:(ot=null,ht=0,t=nt)}if(t!==0){if(t===2&&(d=Lo(e),d!==0&&(l=d,t=nu(e,d))),t===1)throw i=ji,_n(e,0),Hr(e,l),Ot(e,Ge()),i;if(t===6)Hr(e,l);else{if(d=e.current.alternate,(l&30)===0&&!qg(d)&&(t=Va(e,l),t===2&&(f=Lo(e),f!==0&&(l=f,t=nu(e,f))),t===1))throw i=ji,_n(e,0),Hr(e,l),Ot(e,Ge()),i;switch(e.finishedWork=d,e.finishedLanes=l,t){case 0:case 1:throw Error(n(345));case 2:jn(e,Tt,kr);break;case 3:if(Hr(e,l),(l&130023424)===l&&(t=eu+500-Ge(),10<t)){if(ea(e,0)!==0)break;if(d=e.suspendedLanes,(d&l)!==l){_t(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=ul(jn.bind(null,e,Tt,kr),t);break}jn(e,Tt,kr);break;case 4:if(Hr(e,l),(l&4194240)===l)break;for(t=e.eventTimes,d=-1;0<l;){var g=31-Ht(l);f=1<<g,g=t[g],g>d&&(d=g),l&=~f}if(l=d,l=Ge()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Bg(l/1960))-l,10<l){e.timeoutHandle=ul(jn.bind(null,e,Tt,kr),l);break}jn(e,Tt,kr);break;case 5:jn(e,Tt,kr);break;default:throw Error(n(329))}}}return Ot(e,Ge()),e.callbackNode===i?Ih.bind(null,e):null}function nu(e,t){var i=ki;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Va(e,t),e!==2&&(t=Tt,Tt=i,t!==null&&su(t)),e}function su(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function qg(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var d=i[l],f=d.getSnapshot;d=d.value;try{if(!Vt(f(),d))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~Zl,t&=~$a,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Ht(t),l=1<<i;e[i]=-1,t&=~l}}function Uh(e){if((Ce&6)!==0)throw Error(n(327));us();var t=ea(e,0);if((t&1)===0)return Ot(e,Ge()),null;var i=Va(e,t);if(e.tag!==0&&i===2){var l=Lo(e);l!==0&&(t=l,i=nu(e,l))}if(i===1)throw i=ji,_n(e,0),Hr(e,t),Ot(e,Ge()),i;if(i===6)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jn(e,Tt,kr),Ot(e,Ge()),null}function iu(e,t){var i=Ce;Ce|=1;try{return e(t)}finally{Ce=i,Ce===0&&(ls=Ge()+500,xa&&Ur())}}function wn(e){Br!==null&&Br.tag===0&&(Ce&6)===0&&us();var t=Ce;Ce|=1;var i=zt.transition,l=Le;try{if(zt.transition=null,Le=1,e)return e()}finally{Le=l,zt.transition=i,Ce=t,(Ce&6)===0&&Ur()}}function au(){Lt=os.current,Be(os)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,wg(i)),et!==null)for(i=et.return;i!==null;){var l=i;switch(pl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&va();break;case 3:ss(),Be(Et),Be(mt),Cl();break;case 5:Nl(l);break;case 4:ss();break;case 13:Be(He);break;case 19:Be(He);break;case 10:_l(l.type._context);break;case 22:case 23:au()}i=i.return}if(ot=e,et=e=Vr(e.current,null),ht=Lt=t,nt=0,ji=null,Zl=$a=xn=0,Tt=ki=null,gn!==null){for(t=0;t<gn.length;t++)if(i=gn[t],l=i.interleaved,l!==null){i.interleaved=null;var d=l.next,f=i.pending;if(f!==null){var g=f.next;f.next=d,l.next=g}i.pending=l}gn=null}return e}function Fh(e,t){do{var i=et;try{if(wl(),Pa.current=Aa,Ta){for(var l=Ve.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Ta=!1}if(yn=0,at=rt=Ve=null,gi=!1,vi=0,Xl.current=null,i===null||i.return===null){nt=1,ji=t,et=null;break}e:{var f=e,g=i.return,w=i,b=t;if(t=ht,w.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=b,H=w,V=H.tag;if((H.mode&1)===0&&(V===0||V===11||V===15)){var q=H.alternate;q?(H.updateQueue=q.updateQueue,H.memoizedState=q.memoizedState,H.lanes=q.lanes):(H.updateQueue=null,H.memoizedState=null)}var te=ch(g);if(te!==null){te.flags&=-257,dh(te,g,w,f,t),te.mode&1&&uh(f,A,t),t=te,b=A;var se=t.updateQueue;if(se===null){var ie=new Set;ie.add(b),t.updateQueue=ie}else se.add(b);break e}else{if((t&1)===0){uh(f,A,t),ou();break e}b=Error(n(426))}}else if(qe&&w.mode&1){var Ye=ch(g);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),dh(Ye,g,w,f,t),yl(is(b,w));break e}}f=b=is(b,w),nt!==4&&(nt=2),ki===null?ki=[f]:ki.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var T=oh(f,b,t);Md(f,T);break e;case 1:w=b;var S=f.type,O=f.stateNode;if((f.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Wr===null||!Wr.has(O)))){f.flags|=65536,t&=-t,f.lanes|=t;var K=lh(f,w,t);Md(f,K);break e}}f=f.return}while(f!==null)}Wh(i)}catch(ae){t=ae,et===i&&i!==null&&(et=i=i.return);continue}break}while(!0)}function $h(){var e=Fa.current;return Fa.current=Aa,e===null?Aa:e}function ou(){(nt===0||nt===3||nt===2)&&(nt=4),ot===null||(xn&268435455)===0&&($a&268435455)===0||Hr(ot,ht)}function Va(e,t){var i=Ce;Ce|=2;var l=$h();(ot!==e||ht!==t)&&(kr=null,_n(e,t));do try{Hg();break}catch(d){Fh(e,d)}while(!0);if(wl(),Ce=i,Fa.current=l,et!==null)throw Error(n(261));return ot=null,ht=0,nt}function Hg(){for(;et!==null;)zh(et)}function Vg(){for(;et!==null&&!vp();)zh(et)}function zh(e){var t=Hh(e.alternate,e,Lt);e.memoizedProps=e.pendingProps,t===null?Wh(e):et=t,Xl.current=null}function Wh(e){var t=e;do{var i=t.alternate;if(e=t.return,(t.flags&32768)===0){if(i=Ug(i,t,Lt),i!==null){et=i;return}}else{if(i=Fg(i,t),i!==null){i.flags&=32767,et=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nt=6,et=null;return}}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);nt===0&&(nt=5)}function jn(e,t,i){var l=Le,d=zt.transition;try{zt.transition=null,Le=1,Qg(e,t,i,l)}finally{zt.transition=d,Le=l}return null}function Qg(e,t,i,l){do us();while(Br!==null);if((Ce&6)!==0)throw Error(n(327));i=e.finishedWork;var d=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var f=i.lanes|i.childLanes;if(Ep(e,f),e===ot&&(et=ot=null,ht=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||Wa||(Wa=!0,Vh(Yi,function(){return us(),null})),f=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||f){f=zt.transition,zt.transition=null;var g=Le;Le=1;var w=Ce;Ce|=4,Xl.current=null,zg(e,i),Rh(i,e),fg(ol),na=!!al,ol=al=null,e.current=i,Wg(i),yp(),Ce=w,Le=g,zt.transition=f}else e.current=i;if(Wa&&(Wa=!1,Br=e,Ba=d),f=e.pendingLanes,f===0&&(Wr=null),_p(i.stateNode),Ot(e,Ge()),t!==null)for(l=e.onRecoverableError,i=0;i<t.length;i++)d=t[i],l(d.value,{componentStack:d.stack,digest:d.digest});if(za)throw za=!1,e=tu,tu=null,e;return(Ba&1)!==0&&e.tag!==0&&us(),f=e.pendingLanes,(f&1)!==0?e===ru?bi++:(bi=0,ru=e):bi=0,Ur(),null}function us(){if(Br!==null){var e=Tc(Ba),t=zt.transition,i=Le;try{if(zt.transition=null,Le=16>e?16:e,Br===null)var l=!1;else{if(e=Br,Br=null,Ba=0,(Ce&6)!==0)throw Error(n(331));var d=Ce;for(Ce|=4,ne=e.current;ne!==null;){var f=ne,g=f.child;if((ne.flags&16)!==0){var w=f.deletions;if(w!==null){for(var b=0;b<w.length;b++){var A=w[b];for(ne=A;ne!==null;){var H=ne;switch(H.tag){case 0:case 11:case 15:_i(8,H,f)}var V=H.child;if(V!==null)V.return=H,ne=V;else for(;ne!==null;){H=ne;var q=H.sibling,te=H.return;if(Eh(H),H===A){ne=null;break}if(q!==null){q.return=te,ne=q;break}ne=te}}}var se=f.alternate;if(se!==null){var ie=se.child;if(ie!==null){se.child=null;do{var Ye=ie.sibling;ie.sibling=null,ie=Ye}while(ie!==null)}}ne=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,ne=g;else e:for(;ne!==null;){if(f=ne,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:_i(9,f,f.return)}var T=f.sibling;if(T!==null){T.return=f.return,ne=T;break e}ne=f.return}}var S=e.current;for(ne=S;ne!==null;){g=ne;var O=g.child;if((g.subtreeFlags&2064)!==0&&O!==null)O.return=g,ne=O;else e:for(g=S;ne!==null;){if(w=ne,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:Ua(9,w)}}catch(ae){Qe(w,w.return,ae)}if(w===g){ne=null;break e}var K=w.sibling;if(K!==null){K.return=w.return,ne=K;break e}ne=w.return}}if(Ce=d,Ur(),ir&&typeof ir.onPostCommitFiberRoot=="function")try{ir.onPostCommitFiberRoot(Ji,e)}catch{}l=!0}return l}finally{Le=i,zt.transition=t}}return!1}function Bh(e,t,i){t=is(i,t),t=oh(e,t,1),e=$r(e,t,1),t=_t(),e!==null&&(Ks(e,1,t),Ot(e,t))}function Qe(e,t,i){if(e.tag===3)Bh(e,e,i);else for(;t!==null;){if(t.tag===3){Bh(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){e=is(i,e),e=lh(t,e,1),t=$r(t,e,1),e=_t(),t!==null&&(Ks(t,1,e),Ot(t,e));break}}t=t.return}}function Kg(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&i,ot===e&&(ht&i)===i&&(nt===4||nt===3&&(ht&130023424)===ht&&500>Ge()-eu?_n(e,0):Zl|=i),Ot(e,t)}function qh(e,t){t===0&&((e.mode&1)===0?t=1:(t=Zi,Zi<<=1,(Zi&130023424)===0&&(Zi=4194304)));var i=_t();e=wr(e,t),e!==null&&(Ks(e,t,i),Ot(e,i))}function Gg(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),qh(e,i)}function Yg(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,d=e.memoizedState;d!==null&&(i=d.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(n(314))}l!==null&&l.delete(t),qh(e,i)}var Hh;Hh=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||Et.current)Pt=!0;else{if((e.lanes&i)===0&&(t.flags&128)===0)return Pt=!1,Ig(e,t,i);Pt=(e.flags&131072)!==0}else Pt=!1,qe&&(t.flags&1048576)!==0&&bd(t,_a,t.index);switch(t.lanes=0,t.tag){case 2:var l=t.type;La(e,t),e=t.pendingProps;var d=Jn(t,mt.current);ns(t,i),d=Ol(null,t,l,e,d,i);var f=Rl();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ct(l)?(f=!0,ya(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,bl(t),d.updater=Ma,t.stateNode=d,d._reactInternals=t,Ul(t,l,e,i),t=Wl(null,t,l,!0,f,i)):(t.tag=0,qe&&f&&ml(t),wt(null,t,d,i),t=t.child),t;case 16:l=t.elementType;e:{switch(La(e,t),e=t.pendingProps,d=l._init,l=d(l._payload),t.type=l,d=t.tag=Xg(l),e=Kt(l,e),d){case 0:t=zl(null,t,l,e,i);break e;case 1:t=vh(null,t,l,e,i);break e;case 11:t=hh(null,t,l,e,i);break e;case 14:t=fh(null,t,l,Kt(l.type,e),i);break e}throw Error(n(306,l,""))}return t;case 0:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Kt(l,d),zl(e,t,l,d,i);case 1:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Kt(l,d),vh(e,t,l,d,i);case 3:e:{if(yh(t),e===null)throw Error(n(387));l=t.pendingProps,f=t.memoizedState,d=f.element,Ad(e,t),Ea(t,l,null,i);var g=t.memoizedState;if(l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=is(Error(n(423)),t),t=xh(e,t,l,i,d);break e}else if(l!==d){d=is(Error(n(424)),t),t=xh(e,t,l,i,d);break e}else for(Dt=Dr(t.stateNode.containerInfo.firstChild),Mt=t,qe=!0,Qt=null,i=Od(t,null,l,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(es(),l===d){t=jr(e,t,i);break e}wt(e,t,l,i)}t=t.child}return t;case 5:return Ld(t),e===null&&vl(t),l=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,ll(l,d)?g=null:f!==null&&ll(l,f)&&(t.flags|=32),gh(e,t),wt(e,t,g,i),t.child;case 6:return e===null&&vl(t),null;case 13:return wh(e,t,i);case 4:return Sl(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=ts(t,null,l,i):wt(e,t,l,i),t.child;case 11:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Kt(l,d),hh(e,t,l,d,i);case 7:return wt(e,t,t.pendingProps,i),t.child;case 8:return wt(e,t,t.pendingProps.children,i),t.child;case 12:return wt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(l=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,$e(ba,l._currentValue),l._currentValue=g,f!==null)if(Vt(f.value,g)){if(f.children===d.children&&!Et.current){t=jr(e,t,i);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var b=w.firstContext;b!==null;){if(b.context===l){if(f.tag===1){b=_r(-1,i&-i),b.tag=2;var A=f.updateQueue;if(A!==null){A=A.shared;var H=A.pending;H===null?b.next=b:(b.next=H.next,H.next=b),A.pending=b}}f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),jl(f.return,i,t),w.lanes|=i;break}b=b.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(n(341));g.lanes|=i,w=g.alternate,w!==null&&(w.lanes|=i),jl(g,i,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}wt(e,t,d.children,i),t=t.child}return t;case 9:return d=t.type,l=t.pendingProps.children,ns(t,i),d=Ft(d),l=l(d),t.flags|=1,wt(e,t,l,i),t.child;case 14:return l=t.type,d=Kt(l,t.pendingProps),d=Kt(l.type,d),fh(e,t,l,d,i);case 15:return mh(e,t,t.type,t.pendingProps,i);case 17:return l=t.type,d=t.pendingProps,d=t.elementType===l?d:Kt(l,d),La(e,t),t.tag=1,Ct(l)?(e=!0,ya(t)):e=!1,ns(t,i),ih(t,l,d),Ul(t,l,d,i),Wl(null,t,l,!0,e,i);case 19:return jh(e,t,i);case 22:return ph(e,t,i)}throw Error(n(156,t.tag))};function Vh(e,t){return Sc(e,t)}function Jg(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(e,t,i,l){return new Jg(e,t,i,l)}function lu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xg(e){if(typeof e=="function")return lu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===fe)return 11;if(e===Xe)return 14}return 2}function Vr(e,t){var i=e.alternate;return i===null?(i=Wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Qa(e,t,i,l,d,f){var g=2;if(l=e,typeof e=="function")lu(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case E:return kn(i.children,d,f,t);case re:g=8,d|=8;break;case W:return e=Wt(12,i,t,d|2),e.elementType=W,e.lanes=f,e;case Ee:return e=Wt(13,i,t,d),e.elementType=Ee,e.lanes=f,e;case Pe:return e=Wt(19,i,t,d),e.elementType=Pe,e.lanes=f,e;case ye:return Ka(i,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case I:g=10;break e;case Y:g=9;break e;case fe:g=11;break e;case Xe:g=14;break e;case tt:g=16,l=null;break e}throw Error(n(130,e==null?e:typeof e,""))}return t=Wt(g,i,t,d),t.elementType=e,t.type=l,t.lanes=f,t}function kn(e,t,i,l){return e=Wt(7,e,l,t),e.lanes=i,e}function Ka(e,t,i,l){return e=Wt(22,e,l,t),e.elementType=ye,e.lanes=i,e.stateNode={isHidden:!1},e}function uu(e,t,i){return e=Wt(6,e,null,t),e.lanes=i,e}function cu(e,t,i){return t=Wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Zg(e,t,i,l,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Io(0),this.expirationTimes=Io(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Io(0),this.identifierPrefix=l,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function du(e,t,i,l,d,f,g,w,b){return e=new Zg(e,t,i,w,b),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Wt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},bl(f),e}function ev(e,t,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:l==null?null:""+l,children:e,containerInfo:t,implementation:i}}function Qh(e){if(!e)return Ir;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ct(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(n(171))}if(e.tag===1){var i=e.type;if(Ct(i))return _d(e,i,t)}return t}function Kh(e,t,i,l,d,f,g,w,b){return e=du(i,l,!0,e,d,f,g,w,b),e.context=Qh(null),i=e.current,l=_t(),d=qr(i),f=_r(l,d),f.callback=t??null,$r(i,f,d),e.current.lanes=d,Ks(e,d,l),Ot(e,l),e}function Ga(e,t,i,l){var d=t.current,f=_t(),g=qr(d);return i=Qh(i),t.context===null?t.context=i:t.pendingContext=i,t=_r(f,g),t.payload={element:e},l=l===void 0?null:l,l!==null&&(t.callback=l),e=$r(d,t,g),e!==null&&(Jt(e,d,g,f),Na(e,d,g)),g}function Ya(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function hu(e,t){Gh(e,t),(e=e.alternate)&&Gh(e,t)}function tv(){return null}var Yh=typeof reportError=="function"?reportError:function(e){console.error(e)};function fu(e){this._internalRoot=e}Ja.prototype.render=fu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(n(409));Ga(e,t,null,null)},Ja.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wn(function(){Ga(null,e,null,null)}),t[gr]=null}};function Ja(e){this._internalRoot=e}Ja.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ac();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Rr.length&&t!==0&&t<Rr[i].priority;i++);Rr.splice(i,0,e),i===0&&Lc(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Jh(){}function rv(e,t,i,l,d){if(d){if(typeof l=="function"){var f=l;l=function(){var A=Ya(g);f.call(A)}}var g=Kh(t,l,e,0,null,!1,!1,"",Jh);return e._reactRootContainer=g,e[gr]=g.current,li(e.nodeType===8?e.parentNode:e),wn(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof l=="function"){var w=l;l=function(){var A=Ya(b);w.call(A)}}var b=du(e,0,!1,null,null,!1,!1,"",Jh);return e._reactRootContainer=b,e[gr]=b.current,li(e.nodeType===8?e.parentNode:e),wn(function(){Ga(t,b,i,l)}),b}function Za(e,t,i,l,d){var f=i._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var w=d;d=function(){var b=Ya(g);w.call(b)}}Ga(t,g,e,d)}else g=rv(i,t,e,d,l);return Ya(g)}Oc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Qs(t.pendingLanes);i!==0&&(Uo(t,i|1),Ot(t,Ge()),(Ce&6)===0&&(ls=Ge()+500,Ur()))}break;case 13:wn(function(){var l=wr(e,1);if(l!==null){var d=_t();Jt(l,e,1,d)}}),hu(e,1)}},Fo=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var i=_t();Jt(t,e,134217728,i)}hu(e,134217728)}},Rc=function(e){if(e.tag===13){var t=qr(e),i=wr(e,t);if(i!==null){var l=_t();Jt(i,e,t,l)}hu(e,t)}},Ac=function(){return Le},Mc=function(e,t){var i=Le;try{return Le=e,t()}finally{Le=i}},Oo=function(e,t,i){switch(t){case"input":if(Un(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var d=ga(l);if(!d)throw Error(n(90));Vi(l),Un(l,d)}}}break;case"textarea":$(e,i);break;case"select":t=i.value,t!=null&&pr(e,!!i.multiple,t,!1)}},yc=iu,xc=wn;var nv={usingClientEntryPoint:!1,Events:[di,Gn,ga,gc,vc,iu]},Si={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sv={bundleType:Si.bundleType,version:Si.version,rendererPackageName:Si.rendererPackageName,rendererConfig:Si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kc(e),e===null?null:e.stateNode},findFiberByHostInstance:Si.findFiberByHostInstance||tv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{Ji=eo.inject(sv),ir=eo}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nv,Rt.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(t))throw Error(n(200));return ev(e,t,null,i)},Rt.createRoot=function(e,t){if(!mu(e))throw Error(n(299));var i=!1,l="",d=Yh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=du(e,1,!1,null,null,i,!1,l,d),e[gr]=t.current,li(e.nodeType===8?e.parentNode:e),new fu(t)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(n(188)):(e=Object.keys(e).join(","),Error(n(268,e)));return e=kc(t),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return wn(e)},Rt.hydrate=function(e,t,i){if(!Xa(t))throw Error(n(200));return Za(null,e,t,!0,i)},Rt.hydrateRoot=function(e,t,i){if(!mu(e))throw Error(n(405));var l=i!=null&&i.hydratedSources||null,d=!1,f="",g=Yh;if(i!=null&&(i.unstable_strictMode===!0&&(d=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Kh(t,null,e,1,i??null,d,!1,f,g),e[gr]=t.current,li(e),l)for(e=0;e<l.length;e++)i=l[e],d=i._getVersion,d=d(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,d]:t.mutableSourceEagerHydrationData.push(i,d);return new Ja(t)},Rt.render=function(e,t,i){if(!Xa(t))throw Error(n(200));return Za(null,e,t,!1,i)},Rt.unmountComponentAtNode=function(e){if(!Xa(e))throw Error(n(40));return e._reactRootContainer?(wn(function(){Za(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1},Rt.unstable_batchedUpdates=iu,Rt.unstable_renderSubtreeIntoContainer=function(e,t,i,l){if(!Xa(i))throw Error(n(200));if(e==null||e._reactInternals===void 0)throw Error(n(38));return Za(e,t,i,!1,l)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var of;function mm(){if(of)return yu.exports;of=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),yu.exports=mv(),yu.exports}var lf;function pv(){if(lf)return ro;lf=1;var s=mm();return ro.createRoot=s.createRoot,ro.hydrateRoot=s.hydrateRoot,ro}var gv=pv();const vv=s=>s instanceof Error?s.message+`
`+s.stack:JSON.stringify(s,null,2);class yv extends fm.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}render(){return this.state.hasError?c.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[c.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),c.jsx("pre",{className:"mt-2 text-sm",children:vv(this.state.error)})]}):this.props.children}}mm();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Li.apply(this,arguments)}var sn;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(sn||(sn={}));const uf="popstate";function xv(s){s===void 0&&(s={});function r(a,o){let{pathname:u,search:h,hash:m}=a.location;return Au("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:co(o)}return _v(r,n,null,s)}function Je(s,r){if(s===!1||s===null||typeof s>"u")throw new Error(r)}function pm(s,r){if(!s){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function wv(){return Math.random().toString(36).substr(2,8)}function cf(s,r){return{usr:s.state,key:s.key,idx:r}}function Au(s,r,n,a){return n===void 0&&(n=null),Li({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof r=="string"?Is(r):r,{state:n,key:r&&r.key||a||wv()})}function co(s){let{pathname:r="/",search:n="",hash:a=""}=s;return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function Is(s){let r={};if(s){let n=s.indexOf("#");n>=0&&(r.hash=s.substr(n),s=s.substr(0,n));let a=s.indexOf("?");a>=0&&(r.search=s.substr(a),s=s.substr(0,a)),s&&(r.pathname=s)}return r}function _v(s,r,n,a){a===void 0&&(a={});let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m=sn.Pop,p=null,v=x();v==null&&(v=0,h.replaceState(Li({},h.state,{idx:v}),""));function x(){return(h.state||{idx:null}).idx}function y(){m=sn.Pop;let _=x(),M=_==null?null:_-v;v=_,p&&p({action:m,location:P.location,delta:M})}function k(_,M){m=sn.Push;let G=Au(P.location,_,M);v=x()+1;let D=cf(G,v),F=P.createHref(G);try{h.pushState(D,"",F)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(F)}u&&p&&p({action:m,location:P.location,delta:1})}function C(_,M){m=sn.Replace;let G=Au(P.location,_,M);v=x();let D=cf(G,v),F=P.createHref(G);h.replaceState(D,"",F),u&&p&&p({action:m,location:P.location,delta:0})}function j(_){let M=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof _=="string"?_:co(_);return G=G.replace(/ $/,"%20"),Je(M,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,M)}let P={get action(){return m},get location(){return s(o,h)},listen(_){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(uf,y),p=_,()=>{o.removeEventListener(uf,y),p=null}},createHref(_){return r(o,_)},createURL:j,encodeLocation(_){let M=j(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:k,replace:C,go(_){return h.go(_)}};return P}var df;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(df||(df={}));function jv(s,r,n){return n===void 0&&(n="/"),kv(s,r,n)}function kv(s,r,n,a){let o=typeof r=="string"?Is(r):r,u=Xu(o.pathname||"/",n);if(u==null)return null;let h=gm(s);bv(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let v=Lv(u);m=Av(h[p],v)}return m}function gm(s,r,n,a){r===void 0&&(r=[]),n===void 0&&(n=[]),a===void 0&&(a="");let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(a),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(a.length));let v=an([a,p.relativePath]),x=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),gm(u.children,r,x,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:Ov(v,u.index),routesMeta:x})};return s.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of vm(u.path))o(u,h,p)}),r}function vm(s){let r=s.split("/");if(r.length===0)return[];let[n,...a]=r,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=vm(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>s.startsWith("/")&&p===""?"/":p)}function bv(s){s.sort((r,n)=>r.score!==n.score?n.score-r.score:Rv(r.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Sv=/^:[\w-]+$/,Nv=3,Ev=2,Cv=1,Pv=10,Tv=-2,hf=s=>s==="*";function Ov(s,r){let n=s.split("/"),a=n.length;return n.some(hf)&&(a+=Tv),r&&(a+=Ev),n.filter(o=>!hf(o)).reduce((o,u)=>o+(Sv.test(u)?Nv:u===""?Cv:Pv),a)}function Rv(s,r){return s.length===r.length&&s.slice(0,-1).every((a,o)=>a===r[o])?s[s.length-1]-r[r.length-1]:0}function Av(s,r,n){let{routesMeta:a}=s,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],v=m===a.length-1,x=u==="/"?r:r.slice(u.length)||"/",y=Mv({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},x),k=p.route;if(!y)return null;Object.assign(o,y.params),h.push({params:o,pathname:an([u,y.pathname]),pathnameBase:$v(an([u,y.pathnameBase])),route:k}),y.pathnameBase!=="/"&&(u=an([u,y.pathnameBase]))}return h}function Mv(s,r){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Dv(s.path,s.caseSensitive,s.end),o=r.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((v,x,y)=>{let{paramName:k,isOptional:C}=x;if(k==="*"){let P=m[y]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const j=m[y];return C&&!j?v[k]=void 0:v[k]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:s}}function Dv(s,r,n){r===void 0&&(r=!1),n===void 0&&(n=!0),pm(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let a=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),a]}function Lv(s){try{return s.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return pm(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),s}}function Xu(s,r){if(r==="/")return s;if(!s.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}function Iv(s,r){r===void 0&&(r="/");let{pathname:n,search:a="",hash:o=""}=typeof s=="string"?Is(s):s;return{pathname:n?n.startsWith("/")?n:Uv(n,r):r,search:zv(a),hash:Wv(o)}}function Uv(s,r){let n=r.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _u(s,r,n,a){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fv(s){return s.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function Zu(s,r){let n=Fv(s);return r?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function ec(s,r,n,a){a===void 0&&(a=!1);let o;typeof s=="string"?o=Is(s):(o=Li({},s),Je(!o.pathname||!o.pathname.includes("?"),_u("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),_u("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),_u("#","search","hash",o)));let u=s===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let y=r.length-1;if(!a&&h.startsWith("..")){let k=h.split("/");for(;k[0]==="..";)k.shift(),y-=1;o.pathname=k.join("/")}m=y>=0?r[y]:"/"}let p=Iv(o,m),v=h&&h!=="/"&&h.endsWith("/"),x=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(v||x)&&(p.pathname+="/"),p}const an=s=>s.join("/").replace(/\/\/+/g,"/"),$v=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),zv=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Wv=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Bv(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const ym=["post","put","patch","delete"];new Set(ym);const qv=["get",...ym];new Set(qv);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ii(){return Ii=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Ii.apply(this,arguments)}const tc=R.createContext(null),Hv=R.createContext(null),ln=R.createContext(null),wo=R.createContext(null),un=R.createContext({outlet:null,matches:[],isDataRoute:!1}),xm=R.createContext(null);function Vv(s,r){let{relative:n}=r===void 0?{}:r;Us()||Je(!1);let{basename:a,navigator:o}=R.useContext(ln),{hash:u,pathname:h,search:m}=jm(s,{relative:n}),p=h;return a!=="/"&&(p=h==="/"?a:an([a,h])),o.createHref({pathname:p,search:m,hash:u})}function Us(){return R.useContext(wo)!=null}function Fs(){return Us()||Je(!1),R.useContext(wo).location}function wm(s){R.useContext(ln).static||R.useLayoutEffect(s)}function _m(){let{isDataRoute:s}=R.useContext(un);return s?iy():Qv()}function Qv(){Us()||Je(!1);let s=R.useContext(tc),{basename:r,future:n,navigator:a}=R.useContext(ln),{matches:o}=R.useContext(un),{pathname:u}=Fs(),h=JSON.stringify(Zu(o,n.v7_relativeSplatPath)),m=R.useRef(!1);return wm(()=>{m.current=!0}),R.useCallback(function(v,x){if(x===void 0&&(x={}),!m.current)return;if(typeof v=="number"){a.go(v);return}let y=ec(v,JSON.parse(h),u,x.relative==="path");s==null&&r!=="/"&&(y.pathname=y.pathname==="/"?r:an([r,y.pathname])),(x.replace?a.replace:a.push)(y,x.state,x)},[r,a,h,u,s])}function jm(s,r){let{relative:n}=r===void 0?{}:r,{future:a}=R.useContext(ln),{matches:o}=R.useContext(un),{pathname:u}=Fs(),h=JSON.stringify(Zu(o,a.v7_relativeSplatPath));return R.useMemo(()=>ec(s,JSON.parse(h),u,n==="path"),[s,h,u,n])}function Kv(s,r){return Gv(s,r)}function Gv(s,r,n,a){Us()||Je(!1);let{navigator:o,static:u}=R.useContext(ln),{matches:h}=R.useContext(un),m=h[h.length-1],p=m?m.params:{};m&&m.pathname;let v=m?m.pathnameBase:"/";m&&m.route;let x=Fs(),y;if(r){var k;let M=typeof r=="string"?Is(r):r;v==="/"||(k=M.pathname)!=null&&k.startsWith(v)||Je(!1),y=M}else y=x;let C=y.pathname||"/",j=C;if(v!=="/"){let M=v.replace(/^\//,"").split("/");j="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=jv(s,{pathname:j}),_=ey(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:an([v,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?v:an([v,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),h,n,a);return r&&_?R.createElement(wo.Provider,{value:{location:Ii({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:sn.Pop}},_):_}function Yv(){let s=sy(),r=Bv(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),n?R.createElement("pre",{style:o},n):null,null)}const Jv=R.createElement(Yv,null);class Xv extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){console.error("React Router caught the following error during render",r,n)}render(){return this.state.error!==void 0?R.createElement(un.Provider,{value:this.props.routeContext},R.createElement(xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zv(s){let{routeContext:r,match:n,children:a}=s,o=R.useContext(tc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(un.Provider,{value:r},a)}function ey(s,r,n,a){var o;if(r===void 0&&(r=[]),n===void 0&&(n=null),a===void 0&&(a=null),s==null){var u;if(!n)return null;if(n.errors)s=n.matches;else if((u=a)!=null&&u.v7_partialHydration&&r.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let h=s,m=(o=n)==null?void 0:o.errors;if(m!=null){let x=h.findIndex(y=>y.route.id&&(m==null?void 0:m[y.route.id])!==void 0);x>=0||Je(!1),h=h.slice(0,Math.min(h.length,x+1))}let p=!1,v=-1;if(n&&a&&a.v7_partialHydration)for(let x=0;x<h.length;x++){let y=h[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=x),y.route.id){let{loaderData:k,errors:C}=n,j=y.route.loader&&k[y.route.id]===void 0&&(!C||C[y.route.id]===void 0);if(y.route.lazy||j){p=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((x,y,k)=>{let C,j=!1,P=null,_=null;n&&(C=m&&y.route.id?m[y.route.id]:void 0,P=y.route.errorElement||Jv,p&&(v<0&&k===0?(ay("route-fallback"),j=!0,_=null):v===k&&(j=!0,_=y.route.hydrateFallbackElement||null)));let M=r.concat(h.slice(0,k+1)),G=()=>{let D;return C?D=P:j?D=_:y.route.Component?D=R.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=x,R.createElement(Zv,{match:y,routeContext:{outlet:x,matches:M,isDataRoute:n!=null},children:D})};return n&&(y.route.ErrorBoundary||y.route.errorElement||k===0)?R.createElement(Xv,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:G(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):G()},null)}var km=function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s}(km||{}),bm=function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s}(bm||{});function ty(s){let r=R.useContext(tc);return r||Je(!1),r}function ry(s){let r=R.useContext(Hv);return r||Je(!1),r}function ny(s){let r=R.useContext(un);return r||Je(!1),r}function Sm(s){let r=ny(),n=r.matches[r.matches.length-1];return n.route.id||Je(!1),n.route.id}function sy(){var s;let r=R.useContext(xm),n=ry(),a=Sm();return r!==void 0?r:(s=n.errors)==null?void 0:s[a]}function iy(){let{router:s}=ty(km.UseNavigateStable),r=Sm(bm.UseNavigateStable),n=R.useRef(!1);return wm(()=>{n.current=!0}),R.useCallback(function(o,u){u===void 0&&(u={}),n.current&&(typeof o=="number"?s.navigate(o):s.navigate(o,Ii({fromRouteId:r},u)))},[s,r])}const ff={};function ay(s,r,n){ff[s]||(ff[s]=!0)}function oy(s,r){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function Zt(s){let{to:r,replace:n,state:a,relative:o}=s;Us()||Je(!1);let{future:u,static:h}=R.useContext(ln),{matches:m}=R.useContext(un),{pathname:p}=Fs(),v=_m(),x=ec(r,Zu(m,u.v7_relativeSplatPath),p,o==="path"),y=JSON.stringify(x);return R.useEffect(()=>v(JSON.parse(y),{replace:n,state:a,relative:o}),[v,y,o,n,a]),null}function cr(s){Je(!1)}function ly(s){let{basename:r="/",children:n=null,location:a,navigationType:o=sn.Pop,navigator:u,static:h=!1,future:m}=s;Us()&&Je(!1);let p=r.replace(/^\/*/,"/"),v=R.useMemo(()=>({basename:p,navigator:u,static:h,future:Ii({v7_relativeSplatPath:!1},m)}),[p,m,u,h]);typeof a=="string"&&(a=Is(a));let{pathname:x="/",search:y="",hash:k="",state:C=null,key:j="default"}=a,P=R.useMemo(()=>{let _=Xu(x,p);return _==null?null:{location:{pathname:_,search:y,hash:k,state:C,key:j},navigationType:o}},[p,x,y,k,C,j,o]);return P==null?null:R.createElement(ln.Provider,{value:v},R.createElement(wo.Provider,{children:n,value:P}))}function uy(s){let{children:r,location:n}=s;return Kv(Mu(r),n)}new Promise(()=>{});function Mu(s,r){r===void 0&&(r=[]);let n=[];return R.Children.forEach(s,(a,o)=>{if(!R.isValidElement(a))return;let u=[...r,o];if(a.type===R.Fragment){n.push.apply(n,Mu(a.props.children,u));return}a.type!==cr&&Je(!1),!a.props.index||!a.props.children||Je(!1);let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Mu(a.props.children,u)),n.push(h)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(s[a]=n[a])}return s},Du.apply(this,arguments)}function cy(s,r){if(s==null)return{};var n={},a=Object.keys(s),o,u;for(u=0;u<a.length;u++)o=a[u],!(r.indexOf(o)>=0)&&(n[o]=s[o]);return n}function dy(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function hy(s,r){return s.button===0&&(!r||r==="_self")&&!dy(s)}const fy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],my="6";try{window.__reactRouterVersion=my}catch{}const py="startTransition",mf=dv[py];function gy(s){let{basename:r,children:n,future:a,window:o}=s,u=R.useRef();u.current==null&&(u.current=xv({window:o,v5Compat:!0}));let h=u.current,[m,p]=R.useState({action:h.action,location:h.location}),{v7_startTransition:v}=a||{},x=R.useCallback(y=>{v&&mf?mf(()=>p(y)):p(y)},[p,v]);return R.useLayoutEffect(()=>h.listen(x),[h,x]),R.useEffect(()=>oy(a),[a]),R.createElement(ly,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:h,future:a})}const vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ju=R.forwardRef(function(r,n){let{onClick:a,relative:o,reloadDocument:u,replace:h,state:m,target:p,to:v,preventScrollReset:x,viewTransition:y}=r,k=cy(r,fy),{basename:C}=R.useContext(ln),j,P=!1;if(typeof v=="string"&&yy.test(v)&&(j=v,vy))try{let D=new URL(window.location.href),F=v.startsWith("//")?new URL(D.protocol+v):new URL(v),U=Xu(F.pathname,C);F.origin===D.origin&&U!=null?v=U+F.search+F.hash:P=!0}catch{}let _=Vv(v,{relative:o}),M=xy(v,{replace:h,state:m,target:p,preventScrollReset:x,relative:o,viewTransition:y});function G(D){a&&a(D),D.defaultPrevented||M(D)}return R.createElement("a",Du({},k,{href:j||_,onClick:P||u?a:G,ref:n,target:p}))});var pf;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(pf||(pf={}));var gf;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(gf||(gf={}));function xy(s,r){let{target:n,replace:a,state:o,preventScrollReset:u,relative:h,viewTransition:m}=r===void 0?{}:r,p=_m(),v=Fs(),x=jm(s,{relative:h});return R.useCallback(y=>{if(hy(y,n)){y.preventDefault();let k=a!==void 0?a:co(v)===co(x);p(s,{replace:k,state:o,preventScrollReset:u,relative:h,viewTransition:m})}},[v,p,x,a,o,n,s,u,h,m])}var _o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},jo=typeof window>"u"||"Deno"in globalThis;function er(){}function wy(s,r){return typeof s=="function"?s(r):s}function _y(s){return typeof s=="number"&&s>=0&&s!==1/0}function jy(s,r){return Math.max(s+(r||0)-Date.now(),0)}function Lu(s,r){return typeof s=="function"?s(r):s}function ky(s,r){return typeof s=="function"?s(r):s}function vf(s,r){const{type:n="all",exact:a,fetchStatus:o,predicate:u,queryKey:h,stale:m}=s;if(h){if(a){if(r.queryHash!==rc(h,r.options))return!1}else if(!Fi(r.queryKey,h))return!1}if(n!=="all"){const p=r.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof m=="boolean"&&r.isStale()!==m||o&&o!==r.state.fetchStatus||u&&!u(r))}function yf(s,r){const{exact:n,status:a,predicate:o,mutationKey:u}=s;if(u){if(!r.options.mutationKey)return!1;if(n){if(Ui(r.options.mutationKey)!==Ui(u))return!1}else if(!Fi(r.options.mutationKey,u))return!1}return!(a&&r.state.status!==a||o&&!o(r))}function rc(s,r){return((r==null?void 0:r.queryKeyHashFn)||Ui)(s)}function Ui(s){return JSON.stringify(s,(r,n)=>Iu(n)?Object.keys(n).sort().reduce((a,o)=>(a[o]=n[o],a),{}):n)}function Fi(s,r){return s===r?!0:typeof s!=typeof r?!1:s&&r&&typeof s=="object"&&typeof r=="object"?Object.keys(r).every(n=>Fi(s[n],r[n])):!1}function Nm(s,r){if(s===r)return s;const n=xf(s)&&xf(r);if(n||Iu(s)&&Iu(r)){const a=n?s:Object.keys(s),o=a.length,u=n?r:Object.keys(r),h=u.length,m=n?[]:{},p=new Set(a);let v=0;for(let x=0;x<h;x++){const y=n?x:u[x];(!n&&p.has(y)||n)&&s[y]===void 0&&r[y]===void 0?(m[y]=void 0,v++):(m[y]=Nm(s[y],r[y]),m[y]===s[y]&&s[y]!==void 0&&v++)}return o===h&&v===o?s:m}return r}function xf(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Iu(s){if(!wf(s))return!1;const r=s.constructor;if(r===void 0)return!0;const n=r.prototype;return!(!wf(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function wf(s){return Object.prototype.toString.call(s)==="[object Object]"}function by(s){return new Promise(r=>{setTimeout(r,s)})}function Sy(s,r,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,r):n.structuralSharing!==!1?Nm(s,r):r}function Ny(s,r,n=0){const a=[...s,r];return n&&a.length>n?a.slice(1):a}function Ey(s,r,n=0){const a=[r,...s];return n&&a.length>n?a.slice(0,-1):a}var nc=Symbol();function Em(s,r){return!s.queryFn&&(r!=null&&r.initialPromise)?()=>r.initialPromise:!s.queryFn||s.queryFn===nc?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}var Pn,Zr,Ss,sm,Cy=(sm=class extends _o{constructor(){super();Oe(this,Pn);Oe(this,Zr);Oe(this,Ss);me(this,Ss,r=>{if(!jo&&window.addEventListener){const n=()=>r();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Zr)||this.setEventListener(z(this,Ss))}onUnsubscribe(){var r;this.hasListeners()||((r=z(this,Zr))==null||r.call(this),me(this,Zr,void 0))}setEventListener(r){var n;me(this,Ss,r),(n=z(this,Zr))==null||n.call(this),me(this,Zr,r(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(r){z(this,Pn)!==r&&(me(this,Pn,r),this.onFocus())}onFocus(){const r=this.isFocused();this.listeners.forEach(n=>{n(r)})}isFocused(){var r;return typeof z(this,Pn)=="boolean"?z(this,Pn):((r=globalThis.document)==null?void 0:r.visibilityState)!=="hidden"}},Pn=new WeakMap,Zr=new WeakMap,Ss=new WeakMap,sm),Cm=new Cy,Ns,en,Es,im,Py=(im=class extends _o{constructor(){super();Oe(this,Ns,!0);Oe(this,en);Oe(this,Es);me(this,Es,r=>{if(!jo&&window.addEventListener){const n=()=>r(!0),a=()=>r(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",a)}}})}onSubscribe(){z(this,en)||this.setEventListener(z(this,Es))}onUnsubscribe(){var r;this.hasListeners()||((r=z(this,en))==null||r.call(this),me(this,en,void 0))}setEventListener(r){var n;me(this,Es,r),(n=z(this,en))==null||n.call(this),me(this,en,r(this.setOnline.bind(this)))}setOnline(r){z(this,Ns)!==r&&(me(this,Ns,r),this.listeners.forEach(a=>{a(r)}))}isOnline(){return z(this,Ns)}},Ns=new WeakMap,en=new WeakMap,Es=new WeakMap,im),ho=new Py;function Ty(){let s,r;const n=new Promise((o,u)=>{s=o,r=u});n.status="pending",n.catch(()=>{});function a(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{a({status:"fulfilled",value:o}),s(o)},n.reject=o=>{a({status:"rejected",reason:o}),r(o)},n}function Oy(s){return Math.min(1e3*2**s,3e4)}function Pm(s){return(s??"online")==="online"?ho.isOnline():!0}var Tm=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Om(s){let r=!1,n=0,a;const o=Ty(),u=()=>o.status!=="pending",h=P=>{var _;u()||(k(new Tm(P)),(_=s.abort)==null||_.call(s))},m=()=>{r=!0},p=()=>{r=!1},v=()=>Cm.isFocused()&&(s.networkMode==="always"||ho.isOnline())&&s.canRun(),x=()=>Pm(s.networkMode)&&s.canRun(),y=P=>{u()||(a==null||a(),o.resolve(P))},k=P=>{u()||(a==null||a(),o.reject(P))},C=()=>new Promise(P=>{var _;a=M=>{(u()||v())&&P(M)},(_=s.onPause)==null||_.call(s)}).then(()=>{var P;a=void 0,u()||(P=s.onContinue)==null||P.call(s)}),j=()=>{if(u())return;let P;const _=n===0?s.initialPromise:void 0;try{P=_??s.fn()}catch(M){P=Promise.reject(M)}Promise.resolve(P).then(y).catch(M=>{var J;if(u())return;const G=s.retry??(jo?0:3),D=s.retryDelay??Oy,F=typeof D=="function"?D(n,M):D,U=G===!0||typeof G=="number"&&n<G||typeof G=="function"&&G(n,M);if(r||!U){k(M);return}n++,(J=s.onFail)==null||J.call(s,n,M),by(F).then(()=>v()?void 0:C()).then(()=>{r?k(M):j()})})};return{promise:o,status:()=>o.status,cancel:h,continue:()=>(a==null||a(),o),cancelRetry:m,continueRetry:p,canStart:x,start:()=>(x()?j():C().then(j),o)}}var Ry=s=>setTimeout(s,0);function Ay(){let s=[],r=0,n=m=>{m()},a=m=>{m()},o=Ry;const u=m=>{r?s.push(m):o(()=>{n(m)})},h=()=>{const m=s;s=[],m.length&&o(()=>{a(()=>{m.forEach(p=>{n(p)})})})};return{batch:m=>{let p;r++;try{p=m()}finally{r--,r||h()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{a=m},setScheduler:m=>{o=m}}}var St=Ay(),Tn,am,Rm=(am=class{constructor(){Oe(this,Tn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_y(this.gcTime)&&me(this,Tn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(jo?1/0:5*60*1e3))}clearGcTimeout(){z(this,Tn)&&(clearTimeout(z(this,Tn)),me(this,Tn,void 0))}},Tn=new WeakMap,am),Cs,Ps,Bt,On,ct,Wi,Rn,tr,br,om,My=(om=class extends Rm{constructor(r){super();Oe(this,tr);Oe(this,Cs);Oe(this,Ps);Oe(this,Bt);Oe(this,On);Oe(this,ct);Oe(this,Wi);Oe(this,Rn);me(this,Rn,!1),me(this,Wi,r.defaultOptions),this.setOptions(r.options),this.observers=[],me(this,On,r.client),me(this,Bt,z(this,On).getQueryCache()),this.queryKey=r.queryKey,this.queryHash=r.queryHash,me(this,Cs,Ly(this.options)),this.state=r.state??z(this,Cs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var r;return(r=z(this,ct))==null?void 0:r.promise}setOptions(r){this.options={...z(this,Wi),...r},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Bt).remove(this)}setData(r,n){const a=Sy(this.state.data,r,this.options);return yt(this,tr,br).call(this,{data:a,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),a}setState(r,n){yt(this,tr,br).call(this,{type:"setState",state:r,setStateOptions:n})}cancel(r){var a,o;const n=(a=z(this,ct))==null?void 0:a.promise;return(o=z(this,ct))==null||o.cancel(r),n?n.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Cs))}isActive(){return this.observers.some(r=>ky(r.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(r=>Lu(r.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(r=>r.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(r=0){return this.state.data===void 0?!0:r==="static"?!1:this.state.isInvalidated?!0:!jy(this.state.dataUpdatedAt,r)}onFocus(){var n;const r=this.observers.find(a=>a.shouldFetchOnWindowFocus());r==null||r.refetch({cancelRefetch:!1}),(n=z(this,ct))==null||n.continue()}onOnline(){var n;const r=this.observers.find(a=>a.shouldFetchOnReconnect());r==null||r.refetch({cancelRefetch:!1}),(n=z(this,ct))==null||n.continue()}addObserver(r){this.observers.includes(r)||(this.observers.push(r),this.clearGcTimeout(),z(this,Bt).notify({type:"observerAdded",query:this,observer:r}))}removeObserver(r){this.observers.includes(r)&&(this.observers=this.observers.filter(n=>n!==r),this.observers.length||(z(this,ct)&&(z(this,Rn)?z(this,ct).cancel({revert:!0}):z(this,ct).cancelRetry()),this.scheduleGc()),z(this,Bt).notify({type:"observerRemoved",query:this,observer:r}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||yt(this,tr,br).call(this,{type:"invalidate"})}async fetch(r,n){var p,v,x,y,k,C,j,P,_,M,G,D;if(this.state.fetchStatus!=="idle"&&((p=z(this,ct))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(z(this,ct))return z(this,ct).continueRetry(),z(this,ct).promise}if(r&&this.setOptions(r),!this.options.queryFn){const F=this.observers.find(U=>U.options.queryFn);F&&this.setOptions(F.options)}const a=new AbortController,o=F=>{Object.defineProperty(F,"signal",{enumerable:!0,get:()=>(me(this,Rn,!0),a.signal)})},u=()=>{const F=Em(this.options,n),J=(()=>{const E={client:z(this,On),queryKey:this.queryKey,meta:this.meta};return o(E),E})();return me(this,Rn,!1),this.options.persister?this.options.persister(F,J,this):F(J)},m=(()=>{const F={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:z(this,On),state:this.state,fetchFn:u};return o(F),F})();(v=this.options.behavior)==null||v.onFetch(m,this),me(this,Ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=m.fetchOptions)==null?void 0:x.meta))&&yt(this,tr,br).call(this,{type:"fetch",meta:(y=m.fetchOptions)==null?void 0:y.meta}),me(this,ct,Om({initialPromise:n==null?void 0:n.initialPromise,fn:m.fetchFn,abort:a.abort.bind(a),onFail:(F,U)=>{yt(this,tr,br).call(this,{type:"failed",failureCount:F,error:U})},onPause:()=>{yt(this,tr,br).call(this,{type:"pause"})},onContinue:()=>{yt(this,tr,br).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0}));try{const F=await z(this,ct).start();if(F===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(F),(C=(k=z(this,Bt).config).onSuccess)==null||C.call(k,F,this),(P=(j=z(this,Bt).config).onSettled)==null||P.call(j,F,this.state.error,this),F}catch(F){if(F instanceof Tm){if(F.silent)return z(this,ct).promise;if(F.revert){if(this.setState({...z(this,Ps),fetchStatus:"idle"}),this.state.data===void 0)throw F;return this.state.data}}throw yt(this,tr,br).call(this,{type:"error",error:F}),(M=(_=z(this,Bt).config).onError)==null||M.call(_,F,this),(D=(G=z(this,Bt).config).onSettled)==null||D.call(G,this.state.data,F,this),F}finally{this.scheduleGc()}}},Cs=new WeakMap,Ps=new WeakMap,Bt=new WeakMap,On=new WeakMap,ct=new WeakMap,Wi=new WeakMap,Rn=new WeakMap,tr=new WeakSet,br=function(r){const n=a=>{switch(r.type){case"failed":return{...a,fetchFailureCount:r.failureCount,fetchFailureReason:r.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Dy(a.data,this.options),fetchMeta:r.meta??null};case"success":const o={...a,data:r.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:r.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!r.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return me(this,Ps,r.manual?o:void 0),o;case"error":const u=r.error;return{...a,error:u,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...r.state}}};this.state=n(this.state),St.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),z(this,Bt).notify({query:this,type:"updated",action:r})})},om);function Dy(s,r){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Pm(r.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function Ly(s){const r=typeof s.initialData=="function"?s.initialData():s.initialData,n=r!==void 0,a=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:r,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var hr,lm,Iy=(lm=class extends _o{constructor(r={}){super();Oe(this,hr);this.config=r,me(this,hr,new Map)}build(r,n,a){const o=n.queryKey,u=n.queryHash??rc(o,n);let h=this.get(u);return h||(h=new My({client:r,queryKey:o,queryHash:u,options:r.defaultQueryOptions(n),state:a,defaultOptions:r.getQueryDefaults(o)}),this.add(h)),h}add(r){z(this,hr).has(r.queryHash)||(z(this,hr).set(r.queryHash,r),this.notify({type:"added",query:r}))}remove(r){const n=z(this,hr).get(r.queryHash);n&&(r.destroy(),n===r&&z(this,hr).delete(r.queryHash),this.notify({type:"removed",query:r}))}clear(){St.batch(()=>{this.getAll().forEach(r=>{this.remove(r)})})}get(r){return z(this,hr).get(r)}getAll(){return[...z(this,hr).values()]}find(r){const n={exact:!0,...r};return this.getAll().find(a=>vf(n,a))}findAll(r={}){const n=this.getAll();return Object.keys(r).length>0?n.filter(a=>vf(r,a)):n}notify(r){St.batch(()=>{this.listeners.forEach(n=>{n(r)})})}onFocus(){St.batch(()=>{this.getAll().forEach(r=>{r.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(r=>{r.onOnline()})})}},hr=new WeakMap,lm),fr,kt,An,mr,Yr,um,Uy=(um=class extends Rm{constructor(r){super();Oe(this,mr);Oe(this,fr);Oe(this,kt);Oe(this,An);this.mutationId=r.mutationId,me(this,kt,r.mutationCache),me(this,fr,[]),this.state=r.state||Fy(),this.setOptions(r.options),this.scheduleGc()}setOptions(r){this.options=r,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(r){z(this,fr).includes(r)||(z(this,fr).push(r),this.clearGcTimeout(),z(this,kt).notify({type:"observerAdded",mutation:this,observer:r}))}removeObserver(r){me(this,fr,z(this,fr).filter(n=>n!==r)),this.scheduleGc(),z(this,kt).notify({type:"observerRemoved",mutation:this,observer:r})}optionalRemove(){z(this,fr).length||(this.state.status==="pending"?this.scheduleGc():z(this,kt).remove(this))}continue(){var r;return((r=z(this,An))==null?void 0:r.continue())??this.execute(this.state.variables)}async execute(r){var u,h,m,p,v,x,y,k,C,j,P,_,M,G,D,F,U,J,E,re;const n=()=>{yt(this,mr,Yr).call(this,{type:"continue"})};me(this,An,Om({fn:()=>this.options.mutationFn?this.options.mutationFn(r):Promise.reject(new Error("No mutationFn found")),onFail:(W,I)=>{yt(this,mr,Yr).call(this,{type:"failed",failureCount:W,error:I})},onPause:()=>{yt(this,mr,Yr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,kt).canRun(this)}));const a=this.state.status==="pending",o=!z(this,An).canStart();try{if(a)n();else{yt(this,mr,Yr).call(this,{type:"pending",variables:r,isPaused:o}),await((h=(u=z(this,kt).config).onMutate)==null?void 0:h.call(u,r,this));const I=await((p=(m=this.options).onMutate)==null?void 0:p.call(m,r));I!==this.state.context&&yt(this,mr,Yr).call(this,{type:"pending",context:I,variables:r,isPaused:o})}const W=await z(this,An).start();return await((x=(v=z(this,kt).config).onSuccess)==null?void 0:x.call(v,W,r,this.state.context,this)),await((k=(y=this.options).onSuccess)==null?void 0:k.call(y,W,r,this.state.context)),await((j=(C=z(this,kt).config).onSettled)==null?void 0:j.call(C,W,null,this.state.variables,this.state.context,this)),await((_=(P=this.options).onSettled)==null?void 0:_.call(P,W,null,r,this.state.context)),yt(this,mr,Yr).call(this,{type:"success",data:W}),W}catch(W){try{throw await((G=(M=z(this,kt).config).onError)==null?void 0:G.call(M,W,r,this.state.context,this)),await((F=(D=this.options).onError)==null?void 0:F.call(D,W,r,this.state.context)),await((J=(U=z(this,kt).config).onSettled)==null?void 0:J.call(U,void 0,W,this.state.variables,this.state.context,this)),await((re=(E=this.options).onSettled)==null?void 0:re.call(E,void 0,W,r,this.state.context)),W}finally{yt(this,mr,Yr).call(this,{type:"error",error:W})}}finally{z(this,kt).runNext(this)}}},fr=new WeakMap,kt=new WeakMap,An=new WeakMap,mr=new WeakSet,Yr=function(r){const n=a=>{switch(r.type){case"failed":return{...a,failureCount:r.failureCount,failureReason:r.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:r.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:r.isPaused,status:"pending",variables:r.variables,submittedAt:Date.now()};case"success":return{...a,data:r.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:r.error,failureCount:a.failureCount+1,failureReason:r.error,isPaused:!1,status:"error"}}};this.state=n(this.state),St.batch(()=>{z(this,fr).forEach(a=>{a.onMutationUpdate(r)}),z(this,kt).notify({mutation:this,type:"updated",action:r})})},um);function Fy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Er,rr,Bi,cm,$y=(cm=class extends _o{constructor(r={}){super();Oe(this,Er);Oe(this,rr);Oe(this,Bi);this.config=r,me(this,Er,new Set),me(this,rr,new Map),me(this,Bi,0)}build(r,n,a){const o=new Uy({mutationCache:this,mutationId:++to(this,Bi)._,options:r.defaultMutationOptions(n),state:a});return this.add(o),o}add(r){z(this,Er).add(r);const n=no(r);if(typeof n=="string"){const a=z(this,rr).get(n);a?a.push(r):z(this,rr).set(n,[r])}this.notify({type:"added",mutation:r})}remove(r){if(z(this,Er).delete(r)){const n=no(r);if(typeof n=="string"){const a=z(this,rr).get(n);if(a)if(a.length>1){const o=a.indexOf(r);o!==-1&&a.splice(o,1)}else a[0]===r&&z(this,rr).delete(n)}}this.notify({type:"removed",mutation:r})}canRun(r){const n=no(r);if(typeof n=="string"){const a=z(this,rr).get(n),o=a==null?void 0:a.find(u=>u.state.status==="pending");return!o||o===r}else return!0}runNext(r){var a;const n=no(r);if(typeof n=="string"){const o=(a=z(this,rr).get(n))==null?void 0:a.find(u=>u!==r&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{z(this,Er).forEach(r=>{this.notify({type:"removed",mutation:r})}),z(this,Er).clear(),z(this,rr).clear()})}getAll(){return Array.from(z(this,Er))}find(r){const n={exact:!0,...r};return this.getAll().find(a=>yf(n,a))}findAll(r={}){return this.getAll().filter(n=>yf(r,n))}notify(r){St.batch(()=>{this.listeners.forEach(n=>{n(r)})})}resumePausedMutations(){const r=this.getAll().filter(n=>n.state.isPaused);return St.batch(()=>Promise.all(r.map(n=>n.continue().catch(er))))}},Er=new WeakMap,rr=new WeakMap,Bi=new WeakMap,cm);function no(s){var r;return(r=s.options.scope)==null?void 0:r.id}function _f(s){return{onFetch:(r,n)=>{var x,y,k,C,j;const a=r.options,o=(k=(y=(x=r.fetchOptions)==null?void 0:x.meta)==null?void 0:y.fetchMore)==null?void 0:k.direction,u=((C=r.state.data)==null?void 0:C.pages)||[],h=((j=r.state.data)==null?void 0:j.pageParams)||[];let m={pages:[],pageParams:[]},p=0;const v=async()=>{let P=!1;const _=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>(r.signal.aborted?P=!0:r.signal.addEventListener("abort",()=>{P=!0}),r.signal)})},M=Em(r.options,r.fetchOptions),G=async(D,F,U)=>{if(P)return Promise.reject();if(F==null&&D.pages.length)return Promise.resolve(D);const E=(()=>{const Y={client:r.client,queryKey:r.queryKey,pageParam:F,direction:U?"backward":"forward",meta:r.options.meta};return _(Y),Y})(),re=await M(E),{maxPages:W}=r.options,I=U?Ey:Ny;return{pages:I(D.pages,re,W),pageParams:I(D.pageParams,F,W)}};if(o&&u.length){const D=o==="backward",F=D?zy:jf,U={pages:u,pageParams:h},J=F(a,U);m=await G(U,J,D)}else{const D=s??u.length;do{const F=p===0?h[0]??a.initialPageParam:jf(a,m);if(p>0&&F==null)break;m=await G(m,F),p++}while(p<D)}return m};r.options.persister?r.fetchFn=()=>{var P,_;return(_=(P=r.options).persister)==null?void 0:_.call(P,v,{client:r.client,queryKey:r.queryKey,meta:r.options.meta,signal:r.signal},n)}:r.fetchFn=v}}}function jf(s,{pages:r,pageParams:n}){const a=r.length-1;return r.length>0?s.getNextPageParam(r[a],r,n[a],n):void 0}function zy(s,{pages:r,pageParams:n}){var a;return r.length>0?(a=s.getPreviousPageParam)==null?void 0:a.call(s,r[0],r,n[0],n):void 0}var Ke,tn,rn,Ts,Os,nn,Rs,As,dm,Wy=(dm=class{constructor(s={}){Oe(this,Ke);Oe(this,tn);Oe(this,rn);Oe(this,Ts);Oe(this,Os);Oe(this,nn);Oe(this,Rs);Oe(this,As);me(this,Ke,s.queryCache||new Iy),me(this,tn,s.mutationCache||new $y),me(this,rn,s.defaultOptions||{}),me(this,Ts,new Map),me(this,Os,new Map),me(this,nn,0)}mount(){to(this,nn)._++,z(this,nn)===1&&(me(this,Rs,Cm.subscribe(async s=>{s&&(await this.resumePausedMutations(),z(this,Ke).onFocus())})),me(this,As,ho.subscribe(async s=>{s&&(await this.resumePausedMutations(),z(this,Ke).onOnline())})))}unmount(){var s,r;to(this,nn)._--,z(this,nn)===0&&((s=z(this,Rs))==null||s.call(this),me(this,Rs,void 0),(r=z(this,As))==null||r.call(this),me(this,As,void 0))}isFetching(s){return z(this,Ke).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return z(this,tn).findAll({...s,status:"pending"}).length}getQueryData(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=z(this,Ke).get(r.queryHash))==null?void 0:n.state.data}ensureQueryData(s){const r=this.defaultQueryOptions(s),n=z(this,Ke).build(this,r),a=n.state.data;return a===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(Lu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(a))}getQueriesData(s){return z(this,Ke).findAll(s).map(({queryKey:r,state:n})=>{const a=n.data;return[r,a]})}setQueryData(s,r,n){const a=this.defaultQueryOptions({queryKey:s}),o=z(this,Ke).get(a.queryHash),u=o==null?void 0:o.state.data,h=wy(r,u);if(h!==void 0)return z(this,Ke).build(this,a).setData(h,{...n,manual:!0})}setQueriesData(s,r,n){return St.batch(()=>z(this,Ke).findAll(s).map(({queryKey:a})=>[a,this.setQueryData(a,r,n)]))}getQueryState(s){var n;const r=this.defaultQueryOptions({queryKey:s});return(n=z(this,Ke).get(r.queryHash))==null?void 0:n.state}removeQueries(s){const r=z(this,Ke);St.batch(()=>{r.findAll(s).forEach(n=>{r.remove(n)})})}resetQueries(s,r){const n=z(this,Ke);return St.batch(()=>(n.findAll(s).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...s},r)))}cancelQueries(s,r={}){const n={revert:!0,...r},a=St.batch(()=>z(this,Ke).findAll(s).map(o=>o.cancel(n)));return Promise.all(a).then(er).catch(er)}invalidateQueries(s,r={}){return St.batch(()=>(z(this,Ke).findAll(s).forEach(n=>{n.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},r)))}refetchQueries(s,r={}){const n={...r,cancelRefetch:r.cancelRefetch??!0},a=St.batch(()=>z(this,Ke).findAll(s).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,n);return n.throwOnError||(u=u.catch(er)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(er)}fetchQuery(s){const r=this.defaultQueryOptions(s);r.retry===void 0&&(r.retry=!1);const n=z(this,Ke).build(this,r);return n.isStaleByTime(Lu(r.staleTime,n))?n.fetch(r):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(er).catch(er)}fetchInfiniteQuery(s){return s.behavior=_f(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(er).catch(er)}ensureInfiniteQueryData(s){return s.behavior=_f(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return ho.isOnline()?z(this,tn).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,Ke)}getMutationCache(){return z(this,tn)}getDefaultOptions(){return z(this,rn)}setDefaultOptions(s){me(this,rn,s)}setQueryDefaults(s,r){z(this,Ts).set(Ui(s),{queryKey:s,defaultOptions:r})}getQueryDefaults(s){const r=[...z(this,Ts).values()],n={};return r.forEach(a=>{Fi(s,a.queryKey)&&Object.assign(n,a.defaultOptions)}),n}setMutationDefaults(s,r){z(this,Os).set(Ui(s),{mutationKey:s,defaultOptions:r})}getMutationDefaults(s){const r=[...z(this,Os).values()],n={};return r.forEach(a=>{Fi(s,a.mutationKey)&&Object.assign(n,a.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const r={...z(this,rn).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return r.queryHash||(r.queryHash=rc(r.queryKey,r)),r.refetchOnReconnect===void 0&&(r.refetchOnReconnect=r.networkMode!=="always"),r.throwOnError===void 0&&(r.throwOnError=!!r.suspense),!r.networkMode&&r.persister&&(r.networkMode="offlineFirst"),r.queryFn===nc&&(r.enabled=!1),r}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...z(this,rn).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){z(this,Ke).clear(),z(this,tn).clear()}},Ke=new WeakMap,tn=new WeakMap,rn=new WeakMap,Ts=new WeakMap,Os=new WeakMap,nn=new WeakMap,Rs=new WeakMap,As=new WeakMap,dm),By=R.createContext(void 0),qy=({client:s,children:r})=>(R.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),c.jsx(By.Provider,{value:s,children:r}));const Hy="modulepreload",Vy=function(s){return"/"+s},kf={},qi=function(r,n,a){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=Promise.allSettled(n.map(p=>{if(p=Vy(p),p in kf)return;kf[p]=!0;const v=p.endsWith(".css"),x=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const y=document.createElement("link");if(y.rel=v?"stylesheet":Hy,v||(y.as="script"),y.crossOrigin="",y.href=p,m&&y.setAttribute("nonce",m),document.head.appendChild(y),v)return new Promise((k,C)=>{y.addEventListener("load",k),y.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return r().catch(u)})},Qy=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>qi(async()=>{const{default:a}=await Promise.resolve().then(()=>$s);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)};class sc extends Error{constructor(r,n="FunctionsError",a){super(r),this.name=n,this.context=a}}class Ky extends sc{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class bf extends sc{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Sf extends sc{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Uu;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Uu||(Uu={}));var Gy=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};class Yy{constructor(r,{headers:n={},customFetch:a,region:o=Uu.Any}={}){this.url=r,this.headers=n,this.region=o,this.fetch=Qy(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r,n={}){var a;return Gy(this,void 0,void 0,function*(){try{const{headers:o,method:u,body:h}=n;let m={},{region:p}=n;p||(p=this.region);const v=new URL(`${this.url}/${r}`);p&&p!=="any"&&(m["x-region"]=p,v.searchParams.set("forceFunctionRegion",p));let x;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=h):typeof h=="string"?(m["Content-Type"]="text/plain",x=h):typeof FormData<"u"&&h instanceof FormData?x=h:(m["Content-Type"]="application/json",x=JSON.stringify(h)));const y=yield this.fetch(v.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),o),body:x}).catch(P=>{throw new Ky(P)}),k=y.headers.get("x-relay-error");if(k&&k==="true")throw new bf(y);if(!y.ok)throw new Sf(y);let C=((a=y.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),j;return C==="application/json"?j=yield y.json():C==="application/octet-stream"?j=yield y.blob():C==="text/event-stream"?j=y:C==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Sf||o instanceof bf?o.context:void 0}}})}}var ut={},cs={},ds={},hs={},fs={},ms={},Jy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ms=Jy();const Xy=Ms.fetch,Am=Ms.fetch.bind(Ms),Mm=Ms.Headers,Zy=Ms.Request,e0=Ms.Response,$s=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mm,Request:Zy,Response:e0,default:Am,fetch:Xy},Symbol.toStringTag,{value:"Module"})),t0=ov($s);var so={},Nf;function Dm(){if(Nf)return so;Nf=1,Object.defineProperty(so,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return so.default=s,so}var Ef;function Lm(){if(Ef)return ms;Ef=1;var s=ms&&ms.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ms,"__esModule",{value:!0});const r=s(t0),n=s(Dm());class a{constructor(u){this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=u.headers,this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=u.shouldThrowOnError,this.signal=u.signal,this.isMaybeSingle=u.isMaybeSingle,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,h){return this.headers=Object.assign({},this.headers),this.headers[u]=h,this}then(u,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var x,y,k;let C=null,j=null,P=null,_=v.status,M=v.statusText;if(v.ok){if(this.method!=="HEAD"){const U=await v.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?j=U:j=JSON.parse(U))}const D=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),F=(y=v.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");D&&F&&F.length>1&&(P=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(C={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,P=null,_=406,M="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const D=await v.text();try{C=JSON.parse(D),Array.isArray(C)&&v.status===404&&(j=[],C=null,_=200,M="OK")}catch{v.status===404&&D===""?(_=204,M="No Content"):C={message:D}}if(C&&this.isMaybeSingle&&(!((k=C==null?void 0:C.details)===null||k===void 0)&&k.includes("0 rows"))&&(C=null,_=200,M="OK"),C&&this.shouldThrowOnError)throw new n.default(C)}return{error:C,data:j,count:P,status:_,statusText:M}});return this.shouldThrowOnError||(p=p.catch(v=>{var x,y,k;return{error:{message:`${(x=v==null?void 0:v.name)!==null&&x!==void 0?x:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(y=v==null?void 0:v.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(k=v==null?void 0:v.code)!==null&&k!==void 0?k:""}`},data:null,count:null,status:0,statusText:""}})),p.then(u,h)}returns(){return this}overrideTypes(){return this}}return ms.default=a,ms}var Cf;function Im(){if(Cf)return fs;Cf=1;var s=fs&&fs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(fs,"__esModule",{value:!0});const r=s(Lm());class n extends r.default{select(o){let u=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:u=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const v=p?`${p}.order`:"order",x=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${x?`${x},`:""}${o}.${u?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,v=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(v,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:u=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:v="text"}={}){var x;const y=[o?"analyze":null,u?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),k=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${k}"; options=${y};`,v==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return fs.default=n,fs}var Pf;function ic(){if(Pf)return hs;Pf=1;var s=hs&&hs.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(hs,"__esModule",{value:!0});const r=s(Im());class n extends r.default{eq(o,u){return this.url.searchParams.append(o,`eq.${u}`),this}neq(o,u){return this.url.searchParams.append(o,`neq.${u}`),this}gt(o,u){return this.url.searchParams.append(o,`gt.${u}`),this}gte(o,u){return this.url.searchParams.append(o,`gte.${u}`),this}lt(o,u){return this.url.searchParams.append(o,`lt.${u}`),this}lte(o,u){return this.url.searchParams.append(o,`lte.${u}`),this}like(o,u){return this.url.searchParams.append(o,`like.${u}`),this}likeAllOf(o,u){return this.url.searchParams.append(o,`like(all).{${u.join(",")}}`),this}likeAnyOf(o,u){return this.url.searchParams.append(o,`like(any).{${u.join(",")}}`),this}ilike(o,u){return this.url.searchParams.append(o,`ilike.${u}`),this}ilikeAllOf(o,u){return this.url.searchParams.append(o,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(o,u){return this.url.searchParams.append(o,`ilike(any).{${u.join(",")}}`),this}is(o,u){return this.url.searchParams.append(o,`is.${u}`),this}in(o,u){const h=Array.from(new Set(u)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cs.{${u.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(u)}`),this}containedBy(o,u){return typeof u=="string"?this.url.searchParams.append(o,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(o,`cd.{${u.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(u)}`),this}rangeGt(o,u){return this.url.searchParams.append(o,`sr.${u}`),this}rangeGte(o,u){return this.url.searchParams.append(o,`nxl.${u}`),this}rangeLt(o,u){return this.url.searchParams.append(o,`sl.${u}`),this}rangeLte(o,u){return this.url.searchParams.append(o,`nxr.${u}`),this}rangeAdjacent(o,u){return this.url.searchParams.append(o,`adj.${u}`),this}overlaps(o,u){return typeof u=="string"?this.url.searchParams.append(o,`ov.${u}`):this.url.searchParams.append(o,`ov.{${u.join(",")}}`),this}textSearch(o,u,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${p}fts${v}.${u}`),this}match(o){return Object.entries(o).forEach(([u,h])=>{this.url.searchParams.append(u,`eq.${h}`)}),this}not(o,u,h){return this.url.searchParams.append(o,`not.${u}.${h}`),this}or(o,{foreignTable:u,referencedTable:h=u}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,u,h){return this.url.searchParams.append(o,`${u}.${h}`),this}}return hs.default=n,hs}var Tf;function Um(){if(Tf)return ds;Tf=1;var s=ds&&ds.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ds,"__esModule",{value:!0});const r=s(ic());class n{constructor(o,{headers:u={},schema:h,fetch:m}){this.url=o,this.headers=u,this.schema=h,this.fetch=m}select(o,{head:u=!1,count:h}={}){const m=u?"HEAD":"GET";let p=!1;const v=(o??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",v),h&&(this.headers.Prefer=`count=${h}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:u,defaultToNull:h=!0}={}){const m="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),u&&p.push(`count=${u}`),h||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const v=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(v.length>0){const x=[...new Set(v)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:u,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){const v="POST",x=[`resolution=${h?"ignore":"merge"}-duplicates`];if(u!==void 0&&this.url.searchParams.set("on_conflict",u),this.headers.Prefer&&x.push(this.headers.Prefer),m&&x.push(`count=${m}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const y=o.reduce((k,C)=>k.concat(Object.keys(C)),[]);if(y.length>0){const k=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",k.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:u}={}){const h="PATCH",m=[];return this.headers.Prefer&&m.push(this.headers.Prefer),u&&m.push(`count=${u}`),this.headers.Prefer=m.join(","),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const u="DELETE",h=[];return o&&h.push(`count=${o}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new r.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ds.default=n,ds}var Ei={},Ci={},Of;function r0(){return Of||(Of=1,Object.defineProperty(Ci,"__esModule",{value:!0}),Ci.version=void 0,Ci.version="0.0.0-automated"),Ci}var Rf;function n0(){if(Rf)return Ei;Rf=1,Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.DEFAULT_HEADERS=void 0;const s=r0();return Ei.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${s.version}`},Ei}var Af;function s0(){if(Af)return cs;Af=1;var s=cs&&cs.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(cs,"__esModule",{value:!0});const r=s(Um()),n=s(ic()),a=n0();class o{constructor(h,{headers:m={},schema:p,fetch:v}={}){this.url=h,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),m),this.schemaName=p,this.fetch=v}from(h){const m=new URL(`${this.url}/${h}`);return new r.default(m,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,m={},{head:p=!1,get:v=!1,count:x}={}){let y;const k=new URL(`${this.url}/rpc/${h}`);let C;p||v?(y=p?"HEAD":"GET",Object.entries(m).filter(([P,_])=>_!==void 0).map(([P,_])=>[P,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([P,_])=>{k.searchParams.append(P,_)})):(y="POST",C=m);const j=Object.assign({},this.headers);return x&&(j.Prefer=`count=${x}`),new n.default({method:y,url:k,headers:j,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return cs.default=o,cs}var Mf;function i0(){if(Mf)return ut;Mf=1;var s=ut&&ut.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const r=s(s0());ut.PostgrestClient=r.default;const n=s(Um());ut.PostgrestQueryBuilder=n.default;const a=s(ic());ut.PostgrestFilterBuilder=a.default;const o=s(Im());ut.PostgrestTransformBuilder=o.default;const u=s(Lm());ut.PostgrestBuilder=u.default;const h=s(Dm());return ut.PostgrestError=h.default,ut.default={PostgrestClient:r.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:h.default},ut}var a0=i0();const o0=hm(a0),{PostgrestClient:l0,PostgrestQueryBuilder:Y_,PostgrestFilterBuilder:J_,PostgrestTransformBuilder:X_,PostgrestBuilder:Z_,PostgrestError:e1}=o0;class u0{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const a=this.getWebSocketConstructor();return new a(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const c0="2.15.1",d0=`realtime-js/${c0}`,h0="1.0.0",Fu=1e4,f0=1e3,m0=100;var Ai;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ai||(Ai={}));var st;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(st||(st={}));var nr;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(nr||(nr={}));var $u;(function(s){s.websocket="websocket"})($u||($u={}));var Cn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Cn||(Cn={}));class p0{constructor(){this.HEADER_LENGTH=1}decode(r,n){return r.constructor===ArrayBuffer?n(this._binaryDecode(r)):n(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const n=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,n,a)}_decodeBroadcast(r,n,a){const o=n.getUint8(1),u=n.getUint8(2);let h=this.HEADER_LENGTH+2;const m=a.decode(r.slice(h,h+o));h=h+o;const p=a.decode(r.slice(h,h+u));h=h+u;const v=JSON.parse(a.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:p,payload:v}}}class Fm{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ze||(ze={}));const Df=(s,r,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(r).reduce((u,h)=>(u[h]=g0(h,s,r,o),u),{})},g0=(s,r,n,a)=>{const o=r.find(m=>m.name===s),u=o==null?void 0:o.type,h=n[s];return u&&!a.includes(u)?$m(u,h):zu(h)},$m=(s,r)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return w0(r,n)}switch(s){case ze.bool:return v0(r);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return y0(r);case ze.json:case ze.jsonb:return x0(r);case ze.timestamp:return _0(r);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return zu(r);default:return zu(r)}},zu=s=>s,v0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},y0=s=>{if(typeof s=="string"){const r=parseFloat(s);if(!Number.isNaN(r))return r}return s},x0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(r){return console.log(`JSON parse error: ${r}`),s}return s},w0=(s,r)=>{if(typeof s!="string")return s;const n=s.length-1,a=s[n];if(s[0]==="{"&&a==="}"){let u;const h=s.slice(1,n);try{u=JSON.parse("["+h+"]")}catch{u=h?h.split(","):[]}return u.map(m=>$m(r,m))}return s},_0=s=>typeof s=="string"?s.replace(" ","T"):s,zm=s=>{let r=s;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class ku{constructor(r,n,a={},o=Fu){this.channel=r,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var a;return this._hasReceived(r)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Lf;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Lf||(Lf={}));class Mi{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mi.syncState(this.state,o,u,h),this.pendingDiffs.forEach(p=>{this.state=Mi.syncDiff(this.state,p,u,h)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Mi.syncDiff(this.state,o,u,h),m())}),this.onJoin((o,u,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:h})}),this.onLeave((o,u,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,a,o){const u=this.cloneDeep(r),h=this.transformState(n),m={},p={};return this.map(u,(v,x)=>{h[v]||(p[v]=x)}),this.map(h,(v,x)=>{const y=u[v];if(y){const k=x.map(_=>_.presence_ref),C=y.map(_=>_.presence_ref),j=x.filter(_=>C.indexOf(_.presence_ref)<0),P=y.filter(_=>k.indexOf(_.presence_ref)<0);j.length>0&&(m[v]=j),P.length>0&&(p[v]=P)}else m[v]=x}),this.syncDiff(u,{joins:m,leaves:p},a,o)}static syncDiff(r,n,a,o){const{joins:u,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(m,p)=>{var v;const x=(v=r[m])!==null&&v!==void 0?v:[];if(r[m]=this.cloneDeep(p),x.length>0){const y=r[m].map(C=>C.presence_ref),k=x.filter(C=>y.indexOf(C.presence_ref)<0);r[m].unshift(...k)}a(m,x,p)}),this.map(h,(m,p)=>{let v=r[m];if(!v)return;const x=p.map(y=>y.presence_ref);v=v.filter(y=>x.indexOf(y.presence_ref)<0),r[m]=v,o(m,v,p),v.length===0&&delete r[m]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(a=>n(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,a)=>{const o=r[a];return"metas"in o?n[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[a]=o,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var If;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(If||(If={}));var Di;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Di||(Di={}));var Nr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Nr||(Nr={}));class ac{constructor(r,n={config:{}},a){this.topic=r,this.params=n,this.socket=a,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ku(this,nr.join,this.params,this.timeout),this.rejoinTimer=new Fm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nr.reply,{},(o,u)=>{this._trigger(this._replyEventName(u),o)}),this.presence=new Mi(this),this.broadcastEndpointURL=zm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(r,n=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:u,presence:h,private:m}}=this.params,p=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(k=>k.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[Di.PRESENCE]&&this.bindings[Di.PRESENCE].length>0,x={},y={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(k=>r==null?void 0:r(Nr.CHANNEL_ERROR,k)),this._onClose(()=>r==null?void 0:r(Nr.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:k})=>{var C;if(this.socket.setAuth(),k===void 0){r==null||r(Nr.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,P=(C=j==null?void 0:j.length)!==null&&C!==void 0?C:0,_=[];for(let M=0;M<P;M++){const G=j[M],{filter:{event:D,schema:F,table:U,filter:J}}=G,E=k&&k[M];if(E&&E.event===D&&E.schema===F&&E.table===U&&E.filter===J)_.push(Object.assign(Object.assign({},G),{id:E.id}));else{this.unsubscribe(),this.state=st.errored,r==null||r(Nr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,r&&r(Nr.SUBSCRIBED);return}}).receive("error",k=>{this.state=st.errored,r==null||r(Nr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(Nr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,a){return this.state===st.joined&&r===Di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,n,a)}async send(r,n={}){var a,o;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:h}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=v.body)===null||o===void 0?void 0:o.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var h,m,p;const v=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=st.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nr.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new ku(this,nr.leave,{},r),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(r,n,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(u),h}_push(r,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ku(this,r,n,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>m0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,a){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,a){var o,u;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:v,join:x}=nr;if(a&&[m,p,v,x].indexOf(h)>=0&&a!==this._joinRef())return;let k=this._onMessage(h,n,a);if(n&&!k)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(C=>{var j,P,_;return((j=C.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(P=C.filter)===null||P===void 0?void 0:P.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===h}).map(C=>C.callback(k,a)):(u=this.bindings[h])===null||u===void 0||u.filter(C=>{var j,P,_,M,G,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in C){const F=C.id,U=(j=C.filter)===null||j===void 0?void 0:j.event;return F&&((P=n.ids)===null||P===void 0?void 0:P.includes(F))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const F=(G=(M=C==null?void 0:C.filter)===null||M===void 0?void 0:M.event)===null||G===void 0?void 0:G.toLocaleLowerCase();return F==="*"||F===((D=n==null?void 0:n.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===h}).map(C=>{if(typeof k=="object"&&"ids"in k){const j=k.data,{schema:P,table:_,commit_timestamp:M,type:G,errors:D}=j;k=Object.assign(Object.assign({},{schema:P,table:_,commit_timestamp:M,eventType:G,new:{},old:{},errors:D}),this._getPayloadRecords(j))}C.callback(k,a)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,a){const o=r.toLocaleLowerCase(),u={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(r,n){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&ac.isEqual(o.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const a in r)if(r[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(nr.close,{},r)}_onError(r){this._on(nr.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=Df(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=Df(r.columns,r.old_record)),n}}const Uf=()=>{},io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},j0=[1e3,2e3,5e3,1e4],k0=1e4,b0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S0{constructor(r,n){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Fu,this.transport=null,this.heartbeatIntervalMs=io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Uf,this.ref=0,this.reconnectTimer=null,this.logger=Uf,this.conn=null,this.sendBuffer=[],this.serializer=new p0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let u;return o?u=o:typeof fetch>"u"?u=(...h)=>qi(async()=>{const{default:m}=await Promise.resolve().then(()=>$s);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...h)=>u(...h)},!(!((a=n==null?void 0:n.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${$u.websocket}`,this.httpEndpoint=zm(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u0.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h0}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,a){this.logger(r,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Ai.connecting:return Cn.Connecting;case Ai.open:return Cn.Open;case Ai.closing:return Cn.Closing;default:return Cn.Closed}}isConnected(){return this.connectionState()===Cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const a=`realtime:${r}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new ac(`realtime:${r}`,n,this);return this.channels.push(u),u}}push(r){const{topic:n,event:a,payload:o,ref:u}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${n} ${a} (${u})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(f0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},io.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:u,ref:h}=n,m=h?`(${h})`:"",p=u.status||"";this.log("receive",`${p} ${a} ${o} ${m}`.trim(),u),this.channels.filter(v=>v._isMember(a)).forEach(v=>v._trigger(o,u,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(nr.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const a=r.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${r}${a}${o}`}_workerObjectUrl(r){let n;if(r)n=r;else{const a=new Blob([b0],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n;r?n=r:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const o={access_token:n,version:d0};n&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(nr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(n)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new Fm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,a,o,u,h,m,p,v;if(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:Fu,this.heartbeatIntervalMs=(o=r==null?void 0:r.heartbeatIntervalMs)!==null&&o!==void 0?o:io.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r==null?void 0:r.reconnectAfterMs)!==null&&m!==void 0?m:x=>j0[x-1]||k0,this.encode=(p=r==null?void 0:r.encode)!==null&&p!==void 0?p:(x,y)=>y(JSON.stringify(x)),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class oc extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function it(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class N0 extends oc{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Wu extends oc{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}}var E0=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};const Wm=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>qi(async()=>{const{default:a}=await Promise.resolve().then(()=>$s);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},C0=()=>E0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield qi(()=>Promise.resolve().then(()=>$s),void 0)).Response:Response}),Bu=s=>{if(Array.isArray(s))return s.map(n=>Bu(n));if(typeof s=="function"||s!==Object(s))return s;const r={};return Object.entries(s).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[o]=Bu(a)}),r},P0=s=>{if(typeof s!="object"||s===null)return!1;const r=Object.getPrototypeOf(s);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)};var Mn=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};const bu=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),T0=(s,r,n)=>Mn(void 0,void 0,void 0,function*(){const a=yield C0();s instanceof a&&!(n!=null&&n.noResolveJson)?s.json().then(o=>{const u=s.status||500,h=(o==null?void 0:o.statusCode)||u+"";r(new N0(bu(o),u,h))}).catch(o=>{r(new Wu(bu(o),o))}):r(new Wu(bu(s),s))}),O0=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"||!a?o:(P0(a)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(a)):o.body=a,r!=null&&r.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),n))};function Hi(s,r,n,a,o,u){return Mn(this,void 0,void 0,function*(){return new Promise((h,m)=>{s(n,O0(r,a,o,u)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>T0(p,m,a))})})}function fo(s,r,n,a){return Mn(this,void 0,void 0,function*(){return Hi(s,"GET",r,n,a)})}function dr(s,r,n,a,o){return Mn(this,void 0,void 0,function*(){return Hi(s,"POST",r,a,o,n)})}function qu(s,r,n,a,o){return Mn(this,void 0,void 0,function*(){return Hi(s,"PUT",r,a,o,n)})}function R0(s,r,n,a){return Mn(this,void 0,void 0,function*(){return Hi(s,"HEAD",r,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Bm(s,r,n,a,o){return Mn(this,void 0,void 0,function*(){return Hi(s,"DELETE",r,a,o,n)})}var jt=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};const A0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ff={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class M0{constructor(r,n={},a,o){this.url=r,this.headers=n,this.bucketId=a,this.fetch=Wm(o)}uploadOrUpdate(r,n,a,o){return jt(this,void 0,void 0,function*(){try{let u;const h=Object.assign(Object.assign({},Ff),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.append("cacheControl",h.cacheControl),p&&u.append("metadata",this.encodeMetadata(p))):(u=a,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const v=this._removeEmptyFolders(n),x=this._getFinalPath(v),y=yield(r=="PUT"?qu:dr)(this.fetch,`${this.url}/object/${x}`,u,Object.assign({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:v,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(it(u))return{data:null,error:u};throw u}})}upload(r,n,a){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,n,a)})}uploadToSignedUrl(r,n,a,o){return jt(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",n);try{let p;const v=Object.assign({upsert:Ff.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",v.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",v.cacheControl)):(p=a,x["cache-control"]=`max-age=${v.cacheControl}`,x["content-type"]=v.contentType);const y=yield qu(this.fetch,m.toString(),p,{headers:x});return{data:{path:u,fullPath:y.Key},error:null}}catch(p){if(it(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,n){return jt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const u=yield dr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),h=new URL(this.url+u.url),m=h.searchParams.get("token");if(!m)throw new oc("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}update(r,n,a){return jt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,n,a)})}move(r,n,a){return jt(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}copy(r,n,a){return jt(this,void 0,void 0,function*(){try{return{data:{path:(yield dr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}createSignedUrl(r,n,a){return jt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),u=yield dr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${h}`)},{data:u,error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}createSignedUrls(r,n,a){return jt(this,void 0,void 0,function*(){try{const o=yield dr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:r},{headers:this.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${u}`):null})),error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}download(r,n){return jt(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=u?`?${u}`:"";try{const m=this._getFinalPath(r);return{data:yield(yield fo(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(m){if(it(m))return{data:null,error:m};throw m}})}info(r){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{const a=yield fo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Bu(a),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}exists(r){return jt(this,void 0,void 0,function*(){const n=this._getFinalPath(r);try{return yield R0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(it(a)&&a instanceof Wu){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,n){const a=this._getFinalPath(r),o=[],u=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";u!==""&&o.push(u);const m=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&o.push(p);let v=o.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${v}`)}}}remove(r){return jt(this,void 0,void 0,function*(){try{return{data:yield Bm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}list(r,n,a){return jt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},A0),n),{prefix:r||""});return{data:yield dr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(it(o))return{data:null,error:o};throw o}})}listV2(r,n){return jt(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield dr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}}const D0="2.11.0",L0={"X-Client-Info":`storage-js/${D0}`};var ps=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};class I0{constructor(r,n={},a,o){const u=new URL(r);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href,this.headers=Object.assign(Object.assign({},L0),n),this.fetch=Wm(a)}listBuckets(){return ps(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}})}getBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield fo(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}createBucket(r,n={public:!1}){return ps(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}updateBucket(r,n){return ps(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(it(a))return{data:null,error:a};throw a}})}emptyBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield dr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}deleteBucket(r){return ps(this,void 0,void 0,function*(){try{return{data:yield Bm(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}})}}class U0 extends I0{constructor(r,n={},a,o){super(r,n,a,o)}from(r){return new M0(this.url,this.headers,r,this.fetch)}}const F0="2.55.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const $0={"X-Client-Info":`supabase-js-${Ri}/${F0}`},z0={headers:$0},W0={schema:"public"},B0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},q0={};var H0=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};const V0=s=>{let r;return s?r=s:typeof fetch>"u"?r=Am:r=fetch,(...n)=>r(...n)},Q0=()=>typeof Headers>"u"?Mm:Headers,K0=(s,r,n)=>{const a=V0(n),o=Q0();return(u,h)=>H0(void 0,void 0,void 0,function*(){var m;const p=(m=yield r())!==null&&m!==void 0?m:s;let v=new o(h==null?void 0:h.headers);return v.has("apikey")||v.set("apikey",s),v.has("Authorization")||v.set("Authorization",`Bearer ${p}`),a(u,Object.assign(Object.assign({},h),{headers:v}))})};var G0=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};function Y0(s){return s.endsWith("/")?s:s+"/"}function J0(s,r){var n,a;const{db:o,auth:u,realtime:h,global:m}=s,{db:p,auth:v,realtime:x,global:y}=r,k={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},x),h),storage:{},global:Object.assign(Object.assign(Object.assign({},y),m),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(a=m==null?void 0:m.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>G0(this,void 0,void 0,function*(){return""})};return s.accessToken?k.accessToken=s.accessToken:delete k.accessToken,k}const qm="2.71.1",ks=30*1e3,Hu=3,Su=Hu*ks,X0="http://localhost:9999",Z0="supabase.auth.token",ex={"X-Client-Info":`gotrue-js/${qm}`},Vu="X-Supabase-Api-Version",Hm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,rx=10*60*1e3;class lc extends Error{constructor(r,n,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function ge(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class nx extends lc{constructor(r,n,a){super(r,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function sx(s){return ge(s)&&s.name==="AuthApiError"}class Vm extends lc{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class cn extends lc{constructor(r,n,a,o){super(r,a,o),this.name=n,this.status=a}}class Jr extends cn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ix(s){return ge(s)&&s.name==="AuthSessionMissingError"}class ao extends cn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oo extends cn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class lo extends cn{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ax(s){return ge(s)&&s.name==="AuthImplicitGrantRedirectError"}class $f extends cn{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Qu extends cn{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Nu(s){return ge(s)&&s.name==="AuthRetryableFetchError"}class zf extends cn{constructor(r,n,a){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Ku extends cn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wf=` 	
\r=`.split(""),ox=(()=>{const s=new Array(128);for(let r=0;r<s.length;r+=1)s[r]=-1;for(let r=0;r<Wf.length;r+=1)s[Wf[r].charCodeAt(0)]=-2;for(let r=0;r<mo.length;r+=1)s[mo[r].charCodeAt(0)]=r;return s})();function Bf(s,r,n){if(s!==null)for(r.queue=r.queue<<8|s,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(mo[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;n(mo[a]),r.queuedBits-=6}}function Qm(s,r,n){const a=ox[s];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function qf(s){const r=[],n=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=h=>{cx(h,a,n)};for(let h=0;h<s.length;h+=1)Qm(s.charCodeAt(h),o,u);return r.join("")}function lx(s,r){if(s<=127){r(s);return}else if(s<=2047){r(192|s>>6),r(128|s&63);return}else if(s<=65535){r(224|s>>12),r(128|s>>6&63),r(128|s&63);return}else if(s<=1114111){r(240|s>>18),r(128|s>>12&63),r(128|s>>6&63),r(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ux(s,r){for(let n=0;n<s.length;n+=1){let a=s.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(s.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}lx(a,r)}}function cx(s,r,n){if(r.utf8seq===0){if(s<=127){n(s);return}for(let a=1;a<6;a+=1)if((s>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=s&31;else if(r.utf8seq===3)r.codepoint=s&15;else if(r.utf8seq===4)r.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|s&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function dx(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};for(let o=0;o<s.length;o+=1)Qm(s.charCodeAt(o),n,a);return new Uint8Array(r)}function hx(s){const r=[];return ux(s,n=>r.push(n)),new Uint8Array(r)}function fx(s){const r=[],n={queue:0,queuedBits:0},a=o=>{r.push(o)};return s.forEach(o=>Bf(o,n,a)),Bf(null,n,a),r.join("")}function mx(s){return Math.round(Date.now()/1e3)+s}function px(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const r=Math.random()*16|0;return(s=="x"?r:r&3|8).toString(16)})}const Xt=()=>typeof window<"u"&&typeof document<"u",bn={tested:!1,writable:!1},Km=()=>{if(!Xt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bn.tested)return bn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),bn.tested=!0,bn.writable=!0}catch{bn.tested=!0,bn.writable=!1}return bn.writable};function gx(s){const r={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,u)=>{r[u]=o})}catch{}return n.searchParams.forEach((a,o)=>{r[o]=a}),r}const Gm=s=>{let r;return s?r=s:typeof fetch>"u"?r=(...n)=>qi(async()=>{const{default:a}=await Promise.resolve().then(()=>$s);return{default:a}},void 0).then(({default:a})=>a(...n)):r=fetch,(...n)=>r(...n)},vx=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",bs=async(s,r,n)=>{await s.setItem(r,JSON.stringify(n))},Sn=async(s,r)=>{const n=await s.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Kr=async(s,r)=>{await s.removeItem(r)};class ko{constructor(){this.promise=new ko.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}ko.promiseConstructor=Promise;function Eu(s){const r=s.split(".");if(r.length!==3)throw new Ku("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!tx.test(r[a]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(qf(r[0])),payload:JSON.parse(qf(r[1])),signature:dx(r[2]),raw:{header:r[0],payload:r[1]}}}async function yx(s){return await new Promise(r=>{setTimeout(()=>r(null),s)})}function xx(s,r){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const h=await s(u);if(!r(u,null,h)){a(h);return}}catch(h){if(!r(u,h)){o(h);return}}})()})}function wx(s){return("0"+s.toString(16)).substr(-2)}function _x(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let u=0;u<56;u++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(r),Array.from(r,wx).join("")}async function jx(s){const n=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function kx(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await jx(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gs(s,r,n=!1){const a=_x();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await bs(s,`${r}-code-verifier`,o);const u=await kx(a);return[u,a===u?"plain":"s256"]}const bx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Sx(s){const r=s.headers.get(Vu);if(!r||!r.match(bx))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Nx(s){if(!s)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(s<=r)throw new Error("JWT has expired")}function Ex(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Cx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vs(s){if(!Cx.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cu(){const s={};return new Proxy(s,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hf(s){return JSON.parse(JSON.stringify(s))}var Px=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n};const Nn=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Tx=[502,503,504];async function Vf(s){var r;if(!vx(s))throw new Qu(Nn(s),0);if(Tx.includes(s.status))throw new Qu(Nn(s),s.status);let n;try{n=await s.json()}catch(u){throw new Vm(Nn(u),u)}let a;const o=Sx(s);if(o&&o.getTime()>=Hm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new zf(Nn(n),s.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Jr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((u,h)=>u&&typeof h=="string",!0))throw new zf(Nn(n),s.status,n.weak_password.reasons);throw new nx(Nn(n),s.status||500,a)}const Ox=(s,r,n,a)=>{const o={method:s,headers:(r==null?void 0:r.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function ke(s,r,n,a){var o;const u=Object.assign({},a==null?void 0:a.headers);u[Vu]||(u[Vu]=Hm["2024-01-01"].name),a!=null&&a.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const h=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await Rx(s,r,n+m,{headers:u,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function Rx(s,r,n,a,o,u){const h=Ox(r,a,o,u);let m;try{m=await s(n,Object.assign({},h))}catch(p){throw console.error(p),new Qu(Nn(p),0)}if(m.ok||await Vf(m),a!=null&&a.noResolveJson)return m;try{return await m.json()}catch(p){await Vf(p)}}function Sr(s){var r;let n=null;Lx(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=mx(s.expires_in)));const a=(r=s.user)!==null&&r!==void 0?r:s;return{data:{session:n,user:a},error:null}}function Qf(s){const r=Sr(s);return!r.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(r.data.weak_password=s.weak_password),r}function Xr(s){var r;return{data:{user:(r=s.user)!==null&&r!==void 0?r:s},error:null}}function Ax(s){return{data:s,error:null}}function Mx(s){const{action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u}=s,h=Px(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:n,hashed_token:a,redirect_to:o,verification_type:u},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function Dx(s){return s}function Lx(s){return s.access_token&&s.refresh_token&&s.expires_in}const Pu=["global","local","others"];var Ix=function(s,r){var n={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&r.indexOf(a)<0&&(n[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(n[a[o]]=s[a[o]]);return n};class Ux{constructor({url:r="",headers:n={},fetch:a}){this.url=r,this.headers=n,this.fetch=Gm(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(r,n=Pu[0]){if(Pu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Pu.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,n={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Xr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:n}=r,a=Ix(r,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Mx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ge(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Xr})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,a,o,u,h,m,p;try{const v={nextPage:null,lastPage:0,total:0},x=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Dx});if(x.error)throw x.error;const y=await x.json(),k=(h=x.headers.get("x-total-count"))!==null&&h!==void 0?h:0,C=(p=(m=x.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(j=>{const P=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);v[`${_}Page`]=P}),v.total=parseInt(k)),{data:Object.assign(Object.assign({},y),v),error:null}}catch(v){if(ge(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){vs(r);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Xr})}catch(n){if(ge(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){vs(r);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:Xr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,n=!1){vs(r);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:Xr})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){vs(r.userId);try{const{data:n,error:a}=await ke(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _deleteFactor(r){vs(r.userId),vs(r.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}}function Kf(s={}){return{getItem:r=>s[r]||null,setItem:(r,n)=>{s[r]=n},removeItem:r=>{delete s[r]}}}function Fx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ys={debug:!!(globalThis&&Km()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ym extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class $x extends Ym{}async function zx(s,r,n){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await n()}finally{ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(r===0)throw ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new $x(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ys.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Fx();const Wx={url:X0,storageKey:Z0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gf(s,r,n){return await n()}const xs={};class $i{constructor(r){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=$i.nextInstanceID,$i.nextInstanceID+=1,this.instanceID>0&&Xt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Wx),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ux({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Gm(o.fetch),this.lock=o.lock||Gf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Xt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zx:this.lock=Gf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Km()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Kf(this.memoryStorage)),Xt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}get jwks(){var r,n;return(n=(r=xs[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=xs[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){xs[this.storageKey]=Object.assign(Object.assign({},xs[this.storageKey]),{cachedAt:r})}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qm}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const n=gx(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),Xt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(n,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),ax(u)){const p=(r=u.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ge(n)?{error:n}:{error:new Vm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,a,o;try{const u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:Sr}),{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var n,a,o;try{let u;if("email"in r){const{email:x,password:y,options:k}=r;let C=null,j=null;this.flowType==="pkce"&&([C,j]=await gs(this.storage,this.storageKey)),u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:k==null?void 0:k.emailRedirectTo,body:{email:x,password:y,data:(n=k==null?void 0:k.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken},code_challenge:C,code_challenge_method:j},xform:Sr})}else if("phone"in r){const{phone:x,password:y,options:k}=r;u=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(a=k==null?void 0:k.data)!==null&&a!==void 0?a:{},channel:(o=k==null?void 0:k.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:k==null?void 0:k.captchaToken}},xform:Sr})}else throw new oo("You must provide either an email or phone number and a password");const{data:h,error:m}=u;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(u){if(ge(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let n;if("email"in r){const{email:u,password:h,options:m}=r;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qf})}else if("phone"in r){const{phone:u,password:h,options:m}=r;n=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Qf})}else throw new oo("You must provide either an email or phone number and a password");const{data:a,error:o}=n;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ao}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(r){var n,a,o,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;if(n==="solana")return await this.signInWithSolana(r);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(r){var n,a,o,u,h,m,p,v,x,y,k,C;let j,P;if("message"in r)j=r.message,P=r.signature;else{const{chain:_,wallet:M,statement:G,options:D}=r;let F;if(Xt())if(typeof M=="object")F=M;else{const J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))F=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=M}const U=new URL((n=D==null?void 0:D.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in F&&F.signIn){const J=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:U.host,uri:U.href}),G?{statement:G}:null));let E;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")E=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)E=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)j=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),P=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${U.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...G?["",G,""]:[""],"Version: 1",`URI: ${U.href}`,`Issued At: ${(o=(a=D==null?void 0:D.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=D==null?void 0:D.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((v=D==null?void 0:D.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((y=(x=D==null?void 0:D.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...D.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const J=await F.signMessage(new TextEncoder().encode(j),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=J}}try{const{data:_,error:M}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:fx(P)},!((k=r.options)===null||k===void 0)&&k.captchaToken?{gotrue_meta_security:{captcha_token:(C=r.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Sr});if(M)throw M;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ao}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:M})}catch(_){if(ge(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(r){const n=await Sn(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{const{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Sr});if(await Kr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new ao}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:h})}catch(u){if(ge(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:n,provider:a,token:o,access_token:u,nonce:h}=r,m=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sr}),{data:p,error:v}=m;return v?{data:{user:null,session:null},error:v}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ao}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:v})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(r){var n,a,o,u,h;try{if("email"in r){const{email:m,options:p}=r;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await gs(this.storage,this.storageKey));const{error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in r){const{phone:m,options:p}=r,{data:v,error:x}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:x}}throw new oo("You must provide either an email or phone number.")}catch(m){if(ge(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var n,a;try{let o,u;"options"in r&&(o=(n=r.options)===null||n===void 0?void 0:n.redirectTo,u=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:m}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:Sr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,v=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:v,session:p},error:null}}catch(o){if(ge(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var n,a,o;try{let u=null,h=null;return this.flowType==="pkce"&&([u,h]=await gs(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Ax})}catch(u){if(ge(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;if(a)throw a;if(!n)throw new Jr;const{error:o}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(ge(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:a,type:o,options:u}=r,{error:h}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:a,type:o,options:u}=r,{data:h,error:m}=await ke(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new oo("You must provide either an email or phone number and a type")}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await Sn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<Su:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await Sn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Cu()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,v,x)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,v,x))})}return{data:{session:r},error:null}}const{session:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Xr}):await this._useSession(async n=>{var a,o,u;const{data:h,error:m}=n;if(m)throw m;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Xr})})}catch(n){if(ge(n))return ix(n)&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new Jr;const h=o.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await gs(this.storage,this.storageKey));const{data:v,error:x}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Xr});if(x)throw x;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(ge(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Jr;const n=Date.now()/1e3;let a=n,o=!0,u=null;const{payload:h}=Eu(r.access_token);if(h.exp&&(a=h.exp,o=a<=n),o){const{session:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;u={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(n){if(ge(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var a;if(!r){const{data:h,error:m}=n;if(m)throw m;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Jr;const{session:o,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ge(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(r,n){try{if(!Xt())throw new lo("No browser detected.");if(r.error||r.error_description||r.error_code)throw new lo(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new $f("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new $f("No code detected.");const{data:G,error:D}=await this._exchangeCodeForSession(r.code);if(D)throw D;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:G.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:h,expires_in:m,expires_at:p,token_type:v}=r;if(!u||!m||!h||!v)throw new lo("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(m);let k=x+y;p&&(k=parseInt(p));const C=k-x;C*1e3<=ks&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const j=k-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,k,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,k,x);const{data:P,error:_}=await this._getUser(u);if(_)throw _;const M={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:y,expires_at:k,refresh_token:h,token_type:v,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:r.type},error:null}}catch(a){if(ge(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await Sn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return{error:u};const h=(a=o.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(sx(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Kr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const n=px(),a={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async n=>{var a,o;try{const{data:{session:u},error:h}=n;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await gs(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(u){if(ge(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}}async linkIdentity(r){var n;try{const{data:a,error:o}=await this._useSession(async u=>{var h,m,p,v,x;const{data:y,error:k}=u;if(k)throw k;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(v=y.session)===null||v===void 0?void 0:v.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Xt()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(ge(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async unlinkIdentity(r){try{return await this._useSession(async n=>{var a,o;const{data:u,error:h}=n;if(h)throw h;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await xx(async o=>(o>0&&await yx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Sr})),(o,u)=>{const h=200*Math.pow(2,o);return u&&Nu(u)&&Date.now()+h-a<ks})}catch(a){if(this._debug(n,"error",a),ge(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",a),Xt()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Sn(this.storage,this.storageKey);if(o&&this.userStorage){let h=await Sn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await bs(this.userStorage,this.storageKey+"-user",h)),o.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Cu()}else if(o&&!o.user&&!o.user){const h=await Sn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(o.user=h.user,await Kr(this.storage,this.storageKey+"-user"),await bs(this.storage,this.storageKey,o)):o.user=Cu()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Su;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${Su}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),Nu(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(o.access_token);!m&&(h!=null&&h.user)?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var n,a;if(!r)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ko;const{data:u,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!u.session)throw new Jr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={session:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),ge(u)){const h={session:null,error:u};return Nu(u)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,n,a=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:n});const u=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,n)}catch(p){u.push(p)}});if(await Promise.all(h),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const n=Object.assign({},r),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await bs(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const u=Hf(o);await bs(this.storage,this.storageKey,u)}else{const o=Hf(n);await bs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Kr(this.storage,this.storageKey),await Kr(this.storage,this.storageKey+"-code-verifier"),await Kr(this.storage,this.storageKey+"-user"),this.userStorage&&await Kr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&Xt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),ks);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-r)/ks);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ks}ms, refresh threshold is ${Hu} ticks`),o<=Hu&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Ym)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,h]=await gs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(a!=null&&a.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?{data:null,error:u}:await ke(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _enroll(r){try{return await this._useSession(async n=>{var a,o;const{data:u,error:h}=n;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:{issuer:r.issuer}),{data:p,error:v}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=u==null?void 0:u.session)===null||a===void 0?void 0:a.access_token});return v?{data:null,error:v}:(r.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(ge(n))return{data:null,error:n};throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;if(u)return{data:null,error:u};const{data:h,error:m}=await ke(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:{code:r.code,challenge_id:r.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:m})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:u}=n;return u?{data:null,error:u}:await ke(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:{channel:r.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(ge(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(r){const{data:n,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a=(r==null?void 0:r.factors)||[],o=a.filter(h=>h.factor_type==="totp"&&h.status==="verified"),u=a.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:a,totp:o,phone:u},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var n,a;const{data:{session:o},error:u}=r;if(u)return{data:null,error:u};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Eu(o.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((a=(n=o.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const x=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(r,n={keys:[]}){let a=n.keys.find(m=>m.kid===r);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(m=>m.kid===r),a&&this.jwks_cached_at+rx>o)return a;const{data:u,error:h}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(m=>m.kid===r),!a)?null:a}async getClaims(r,n={}){try{let a=r;if(!a){const{data:C,error:j}=await this.getSession();if(j||!C.session)return{data:null,error:j};a=C.session.access_token}const{header:o,payload:u,signature:h,raw:{header:m,payload:p}}=Eu(a);n!=null&&n.allowExpired||Nx(u.exp);const v=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!v){const{error:C}=await this.getUser(a);if(C)throw C;return{data:{claims:u,header:o,signature:h},error:null}}const x=Ex(o.alg),y=await crypto.subtle.importKey("jwk",v,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,h,hx(`${m}.${p}`)))throw new Ku("Invalid JWT signature");return{data:{claims:u,header:o,signature:h},error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}}}$i.nextInstanceID=0;const Bx=$i;class qx extends Bx{constructor(r){super(r)}}var Hx=function(s,r,n,a){function o(u){return u instanceof n?u:new n(function(h){h(u)})}return new(n||(n=Promise))(function(u,h){function m(x){try{v(a.next(x))}catch(y){h(y)}}function p(x){try{v(a.throw(x))}catch(y){h(y)}}function v(x){x.done?u(x.value):o(x.value).then(m,p)}v((a=a.apply(s,r||[])).next())})};class Vx{constructor(r,n,a){var o,u,h;if(this.supabaseUrl=r,this.supabaseKey=n,!r)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const m=Y0(r),p=new URL(m);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const v=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:W0,realtime:q0,auth:Object.assign(Object.assign({},B0),{storageKey:v}),global:z0},y=J0(a??{},x);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(k,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=y.auth)!==null&&h!==void 0?h:{},this.headers,y.global.fetch),this.fetch=K0(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new l0(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new U0(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Yy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var r,n;return Hx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,storageKey:u,flowType:h,lock:m,debug:p},v,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qx({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),v),storageKey:u,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,flowType:h,lock:m,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(r){return new S0(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Qx=(s,r,n)=>new Vx(s,r,n);function Kx(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const r=s.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Kx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Gx="https://ebdjwnldnixdamyiofzw.supabase.co",Yx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImViZGp3bmxkbml4ZGFteWlvZnp3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2ODUwNjgsImV4cCI6MjA3MTI2MTA2OH0.YU46yHSZR1fSn3gZ-dQERlsTsXczeYJUKyrcnTSxy0Y",he=Qx(Gx,Yx),Jm=R.createContext(void 0);function Jx({children:s}){const[r,n]=R.useState(null),[a,o]=R.useState(!0),u=async y=>{if(!(y!=null&&y.email)){n(null);return}try{const{data:k,error:C}=await he.from("users").select("*").eq("email",y.email).maybeSingle();C?(console.error("Error loading user profile:",C),n(null)):n(k)}catch(k){console.error("Error in loadUserProfile:",k),n(null)}},h=async()=>{try{const{data:{session:y},error:k}=await he.auth.getSession();if(k)return console.error("Error getting session:",k),!1;if(y){if((y.expires_at?y.expires_at*1e3:0)-Date.now()<5*60*1e3){console.log("Session expiring soon, refreshing...");const{data:P,error:_}=await he.auth.refreshSession();if(_)return console.error("Error refreshing session:",_),!1;if(P.session)return console.log("Session refreshed successfully"),!0}return!0}return!1}catch(y){return console.error("Error in refreshSessionIfNeeded:",y),!1}};R.useEffect(()=>{async function y(){o(!0);try{const{data:{user:C},error:j}=await he.auth.getUser();j||!C?n(null):await u(C)}catch(C){console.error("Error in loadUser:",C),n(null)}finally{o(!1)}}y();const{data:{subscription:k}}=he.auth.onAuthStateChange((C,j)=>{j!=null&&j.user?u(j.user):n(null),o(!1)});return()=>k.unsubscribe()},[]);const m=async(y,k)=>{try{const{data:C,error:j}=await he.auth.signInWithPassword({email:y.trim(),password:k});if(j)throw console.error("Sign in error:",j),j;return C}catch(C){throw console.error("Sign in error:",C),new Error(C.message||"Login failed. Please check your credentials.")}},p=async()=>{await he.auth.signOut()},v=(r==null?void 0:r.role)==="super_admin",x=(r==null?void 0:r.role)==="consultant";return c.jsx(Jm.Provider,{value:{user:r,loading:a,signIn:m,signOut:p,refreshSessionIfNeeded:h,isAdmin:v,isConsultant:x},children:s})}function zs(){const s=R.useContext(Jm);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(s,r)=>{const n=R.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:h,className:m="",children:p,...v},x)=>R.createElement("svg",{ref:x,...Xx,width:o,height:o,stroke:a,strokeWidth:h?Number(u)*24/Number(o):u,className:["lucide",`lucide-${Zx(s)}`,m].join(" "),...v},[...r.map(([y,k])=>R.createElement(y,k)),...Array.isArray(p)?p:[p]]));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=De("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=De("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=De("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=De("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=De("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=De("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=De("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=De("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=De("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=De("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=De("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=De("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=De("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=De("SquareCheckBig",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function tp(s){var r,n,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var o=s.length;for(r=0;r<o;r++)s[r]&&(n=tp(s[r]))&&(a&&(a+=" "),a+=n)}else for(n in s)s[n]&&(a&&(a+=" "),a+=n);return a}function ce(){for(var s,r,n=0,a="",o=arguments.length;n<o;n++)(s=arguments[n])&&(r=tp(s))&&(a&&(a+=" "),a+=r);return a}const rp=R.createContext(void 0);function fw({children:s}){const[r,n]=R.useState([]),a=v=>{const x=Math.random().toString(36).substring(7),y={...v,id:x};n(C=>[...C,y]);const k=v.duration??5e3;k>0&&setTimeout(()=>{o(x)},k)},o=v=>{n(x=>x.filter(y=>y.id!==v))},u=(v,x)=>{a({type:"success",title:v,message:x})},h=(v,x)=>{a({type:"error",title:v,message:x,duration:7e3})},m=(v,x)=>{a({type:"warning",title:v,message:x})},p=(v,x)=>{a({type:"info",title:v,message:x})};return c.jsxs(rp.Provider,{value:{notifications:r,addNotification:a,removeNotification:o,success:u,error:h,warning:m,info:p},children:[s,c.jsx(mw,{})]})}function mw(){const{notifications:s,removeNotification:r}=dc();return c.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:s.map(n=>c.jsx(pw,{notification:n,onClose:()=>r(n.id)},n.id))})}function pw({notification:s,onClose:r}){const n=()=>{switch(s.type){case"success":return c.jsx(uc,{className:"h-5 w-5"});case"error":return c.jsx(go,{className:"h-5 w-5"});case"warning":return c.jsx(po,{className:"h-5 w-5"});case"info":return c.jsx(iw,{className:"h-5 w-5"})}},a=()=>{switch(s.type){case"success":return"bg-success/10 border-success/20 text-success";case"error":return"bg-destructive/10 border-destructive/20 text-destructive";case"warning":return"bg-orange-50 border-orange-200 text-orange-800";case"info":return"bg-info/10 border-info/20 text-info"}};return c.jsx("div",{className:ce("modern-card glass-card p-4 border-2 shadow-lg animate-in slide-in-from-right duration-300 max-w-sm",a()),children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"flex-shrink-0",children:n()}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-semibold text-sm",children:s.title}),s.message&&c.jsx("p",{className:"text-sm opacity-90 mt-1",children:s.message})]}),c.jsx("button",{onClick:r,className:"flex-shrink-0 opacity-60 hover:opacity-100 transition-opacity",children:c.jsx(So,{className:"h-4 w-4"})})]})})}function dc(){const s=R.useContext(rp);if(s===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return s}const Tu=768;function np(){const[s,r]=R.useState(void 0);return R.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Tu-1}px)`),a=()=>{r(window.innerWidth<Tu)};return n.addEventListener("change",a),r(window.innerWidth<Tu),()=>n.removeEventListener("change",a)},[]),!!s}function gw({children:s}){const{user:r,signOut:n,isAdmin:a,isConsultant:o}=zs(),u=Fs(),h=np(),[m,p]=R.useState(!1),v=[{name:"My Timesheets",href:"/consultant/timesheets",icon:zi,show:o,description:"Manage your weekly timesheets"},{name:"Timesheet History",href:"/consultant/history",icon:Gu,show:o,description:"View your submitted timesheets"},{name:"Projects",href:"/admin/projects",icon:Gu,show:a,description:"Manage projects and codes"},{name:"Approvals",href:"/admin/approvals",icon:dw,show:a,description:"Review and approve timesheets"},{name:"Users",href:"/admin/users",icon:hw,show:a,description:"Manage consultant users"},{name:"Settings",href:"/admin/settings",icon:ep,show:a,description:"Configure rates and system settings"}].filter(y=>y.show),x=y=>u.pathname===y;return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[h&&m&&c.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!1)}),c.jsx("header",{className:"glass-card border-b border-border/50 sticky top-0 z-50",children:c.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[h&&c.jsx("button",{onClick:()=>p(!0),className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 lg:hidden","aria-label":"Open menu",children:c.jsx(lw,{className:"h-6 w-6"})}),c.jsx(ju,{to:"/",className:"flex items-center space-x-3",children:c.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"h-8 w-auto"})})]}),c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 px-2 sm:px-4 py-2 rounded-lg bg-card/50 border border-border/50",children:[c.jsx("div",{className:"p-1.5 rounded-full bg-primary/10",children:c.jsx(yo,{className:"h-4 w-4 text-primary"})}),c.jsxs("div",{className:"hidden sm:block text-right",children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:r==null?void 0:r.full_name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:(r==null?void 0:r.role)==="super_admin"?"Administrator":"Consultant"})]}),c.jsx("div",{className:"sm:hidden",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:(r==null?void 0:r.role)==="super_admin"?"Admin":"User"})})]}),c.jsx("button",{onClick:n,className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 group min-h-[44px] min-w-[44px] flex items-center justify-center",title:"Sign out",children:c.jsx(Jf,{className:"h-5 w-5 group-hover:scale-110 transition-transform"})})]})]})})}),c.jsxs("div",{className:"flex",children:[c.jsx("nav",{className:ce("min-h-screen glass-card border-r border-border/50 custom-scrollbar transition-all duration-300",{"w-64":!h,hidden:h}),children:c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"h-12 w-auto"})}),c.jsx("div",{className:"space-y-2",children:v.map(y=>{const k=y.icon,C=x(y.href);return c.jsxs(ju,{to:y.href,className:ce("group flex items-center px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 interactive min-h-[48px]",{"bg-primary text-primary-foreground shadow-lg shadow-primary/25":C,"text-muted-foreground hover:text-foreground hover:bg-accent/50":!C}),title:y.description,children:[c.jsx(k,{className:ce("mr-3 h-5 w-5 transition-all duration-200",{"text-primary-foreground":C,"text-muted-foreground group-hover:text-foreground group-hover:scale-110":!C})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:y.name}),!C&&c.jsx("p",{className:"text-xs text-muted-foreground/70 group-hover:text-muted-foreground transition-colors",children:y.description})]}),C&&c.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})]},y.name)})})]})}),c.jsx("nav",{className:ce("fixed top-0 left-0 h-full w-80 glass-card border-r border-border/50 custom-scrollbar transition-all duration-300 z-50 lg:hidden",{"translate-x-0":h&&m,"-translate-x-full":h&&!m}),children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"h-10 w-auto"}),c.jsx("button",{onClick:()=>p(!1),className:"interactive p-2 rounded-lg text-muted-foreground hover:text-foreground hover:bg-accent/50 focus:outline-none focus:ring-2 focus:ring-primary/20 transition-all duration-200 min-h-[44px] min-w-[44px] flex items-center justify-center","aria-label":"Close menu",children:c.jsx(So,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"mb-6 p-4 rounded-lg bg-card/50 border border-border/50",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:c.jsx(yo,{className:"h-5 w-5 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-foreground",children:r==null?void 0:r.full_name}),c.jsx("p",{className:"text-xs text-muted-foreground",children:(r==null?void 0:r.role)==="super_admin"?"Administrator":"Consultant"})]})]})}),c.jsx("div",{className:"space-y-2",children:v.map(y=>{const k=y.icon,C=x(y.href);return c.jsxs(ju,{to:y.href,onClick:()=>p(!1),className:ce("group flex items-center px-4 py-4 text-sm font-medium rounded-xl transition-all duration-200 interactive min-h-[52px]",{"bg-primary text-primary-foreground shadow-lg shadow-primary/25":C,"text-muted-foreground hover:text-foreground hover:bg-accent/50":!C}),children:[c.jsx(k,{className:ce("mr-4 h-6 w-6 transition-all duration-200",{"text-primary-foreground":C,"text-muted-foreground group-hover:text-foreground group-hover:scale-110":!C})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium text-base",children:y.name}),c.jsx("p",{className:"text-xs text-muted-foreground/70 group-hover:text-muted-foreground transition-colors mt-0.5",children:y.description})]}),C&&c.jsx("div",{className:"w-2 h-2 bg-primary-foreground rounded-full"})]},y.name)})}),c.jsx("div",{className:"mt-8 pt-6 border-t border-border/50",children:c.jsxs("button",{onClick:()=>{p(!1),n()},className:"interactive w-full flex items-center px-4 py-4 text-sm font-medium rounded-xl text-muted-foreground hover:text-foreground hover:bg-accent/50 transition-all duration-200 min-h-[52px]",children:[c.jsx(Jf,{className:"mr-4 h-6 w-6"}),c.jsx("span",{className:"text-base",children:"Sign Out"})]})})]})}),c.jsx("main",{className:"flex-1 overflow-auto custom-scrollbar",children:c.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:s})})]})]})}function ve({className:s,variant:r="primary",size:n="md",loading:a=!1,disabled:o,children:u,icon:h,iconPosition:m="left",...p}){return c.jsxs("button",{className:ce("modern-button interactive group relative overflow-hidden",{"bg-primary text-primary-foreground hover:bg-primary/90 shadow-lg hover:shadow-xl active:shadow-md":r==="primary","variant-secondary bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border shadow-sm hover:shadow-md":r==="secondary","bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-lg hover:shadow-xl active:shadow-md":r==="danger","variant-success bg-success text-white hover:bg-success/90 shadow-lg hover:shadow-xl active:shadow-md":r==="success","hover:bg-accent hover:text-accent-foreground border-2 border-transparent hover:border-accent":r==="ghost","border-2 border-border bg-background hover:bg-accent hover:text-accent-foreground shadow-sm hover:shadow-md":r==="outline","h-9 px-4 text-xs gap-1.5":n==="sm","h-12 px-8 text-sm gap-2.5":n==="md","h-14 px-10 text-base gap-3":n==="lg","opacity-50 cursor-not-allowed":o||a},s),disabled:o||a,...p,children:[c.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/10 to-transparent"}),a&&c.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),!a&&h&&m==="left"&&c.jsx("span",{className:"inline-flex",children:h}),u,!a&&h&&m==="right"&&c.jsx("span",{className:"inline-flex",children:h})]})}function Ue({className:s,label:r,error:n,helperText:a,id:o,variant:u="floating",success:h=!1,icon:m,...p}){const v=o||`input-${Math.random().toString(36).substring(7)}`;return u==="floating"&&r?c.jsxs("div",{className:"floating-label-group space-y-1",children:[c.jsxs("div",{className:"relative",children:[m&&c.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground z-20 flex items-center justify-center w-5 h-5",children:m}),c.jsx("input",{id:v,className:ce("modern-input floating-input peer text-input-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":h,"focus:ring-primary/10 focus:border-primary":!n&&!h,"pl-10":m},s),placeholder:" ",...p}),c.jsx("label",{htmlFor:v,className:ce("floating-label",{"text-destructive":n,"text-success":h,"peer-focus:text-primary":!n&&!h,"left-10":m}),children:r})]}),n&&c.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),h&&c.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]}):c.jsxs("div",{className:"space-y-1",children:[r&&c.jsx("label",{htmlFor:v,className:"block text-sm font-medium text-foreground mb-2",children:r}),c.jsxs("div",{className:"relative",children:[m&&c.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground z-20 flex items-center justify-center w-5 h-5",children:m}),c.jsx("input",{id:v,className:ce("modern-input text-input-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":h,"pl-10":m},s),...p})]}),n&&c.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),h&&c.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]})}function vw(){const[s,r]=R.useState(""),[n,a]=R.useState(""),[o,u]=R.useState(!1),[h,m]=R.useState(""),{signIn:p}=zs(),v=async x=>{if(x.preventDefault(),!s.trim()||!n){m("Please enter both email and password");return}u(!0),m("");try{await p(s.trim(),n)}catch(y){console.error("Login error:",y),m(y.message||"Login failed. Please check your credentials and try again.")}finally{u(!1)}};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Ccircle cx='30' cy='30' r='1'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),c.jsxs("div",{className:"relative max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"modern-card glass-card p-8 space-y-6",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("img",{src:"/images/logo.png",alt:"SCHWARZENBERG.TECH Logo",className:"company-logo company-logo-login"})}),c.jsx("h2",{className:"text-3xl font-bold text-foreground tracking-tight mb-3",children:"Welcome Back"}),c.jsx("p",{className:"text-base text-muted-foreground font-medium",children:"Sign in to manage your timesheets"})]}),c.jsxs("form",{className:"space-y-6",onSubmit:v,children:[h&&c.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-4 animate-in fade-in duration-300",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(po,{className:"h-5 w-5 text-destructive flex-shrink-0"}),c.jsx("p",{className:"text-sm text-destructive font-medium",children:h})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(Ue,{label:"Email address",type:"email",value:s,onChange:x=>{r(x.target.value),m("")},placeholder:" ",required:!0,autoComplete:"email",variant:"floating",className:"premium-focus",icon:c.jsx(ow,{className:"h-4 w-4 text-muted-foreground"})}),c.jsx(Ue,{label:"Password",type:"password",value:n,onChange:x=>{a(x.target.value),m("")},placeholder:" ",required:!0,autoComplete:"current-password",variant:"floating",className:"premium-focus",icon:c.jsx(aw,{className:"h-4 w-4 text-muted-foreground"})})]}),c.jsx("div",{children:c.jsx(ve,{type:"submit",className:"w-full",size:"lg",loading:o,variant:"primary",children:o?"Signing in...":"Sign in"})}),c.jsx("div",{className:"bg-info/10 border border-info/20 rounded-lg p-4",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-xs text-info font-medium mb-1",children:"Test Credentials"}),c.jsx("p",{className:"text-xs font-semibold mb-1",children:"Admin User:"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Email: admin@timesheet.com"}),c.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Password: Admin123!"}),c.jsx("p",{className:"text-xs font-semibold mb-1",children:"Consultant User:"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Email: consultant@timesheet.com"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Password: Consultant123!"})]})})]})]}),c.jsx("div",{className:"text-center",children:c.jsx("p",{className:"text-xs text-muted-foreground",children:"SCHWARZENBERG.TECH Timesheet System"})})]})]})}function ft({className:s,label:r,error:n,helperText:a,options:o,id:u,variant:h="floating",success:m=!1,children:p,...v}){const x=u||`select-${Math.random().toString(36).substring(7)}`;return h==="floating"&&r?c.jsxs("div",{className:"floating-label-group space-y-1",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("select",{id:x,className:ce("modern-select floating-input peer text-select-value",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":m,"focus:ring-primary/10 focus:border-primary":!n&&!m},s),...v,children:[c.jsx("option",{value:"",disabled:!0,hidden:!0}),o?o.map(y=>c.jsx("option",{value:y.value,children:y.label},y.value)):p]}),c.jsx("label",{htmlFor:x,className:ce("floating-label",{"text-destructive":n,"text-success":m,"peer-focus:text-primary":!n&&!m}),children:r}),c.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none z-30",children:c.jsx(Yu,{className:"h-4 w-4 text-muted-foreground transition-transform peer-focus:rotate-180"})})]}),n&&c.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),m&&c.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]}):c.jsxs("div",{className:"space-y-1",children:[r&&c.jsx("label",{htmlFor:x,className:"block text-sm font-medium text-foreground mb-2",children:r}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{id:x,className:ce("modern-select text-select-value appearance-none",{"border-destructive focus:border-destructive focus:ring-destructive/20":n,"border-success focus:border-success focus:ring-success/20":m},s),...v,children:o?o.map(y=>c.jsx("option",{value:y.value,children:y.label},y.value)):p}),c.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center pointer-events-none z-30",children:c.jsx(Yu,{className:"h-4 w-4 text-muted-foreground"})})]}),n&&c.jsx("p",{className:"text-sm text-destructive mt-1 animate-in fade-in duration-200",children:n}),a&&!n&&c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a}),m&&c.jsx("p",{className:"text-sm text-success mt-1 success-pulse",children:" Looks good!"})]})}function qt(s){const r=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&r==="[object Date]"?new s.constructor(+s):typeof s=="number"||r==="[object Number]"||typeof s=="string"||r==="[object String]"?new Date(s):new Date(NaN)}function on(s,r){return s instanceof Date?new s.constructor(r):new Date(r)}function ws(s,r){const n=qt(s);return isNaN(r)?on(s,NaN):(r&&n.setDate(n.getDate()+r),n)}const sp=6048e5,yw=864e5,ip=6e4,ap=36e5;let xw={};function No(){return xw}function Ls(s,r){var m,p,v,x;const n=No(),a=(r==null?void 0:r.weekStartsOn)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,o=qt(s),u=o.getDay(),h=(u<a?7:0)+u-a;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function xo(s){return Ls(s,{weekStartsOn:1})}function op(s){const r=qt(s),n=r.getFullYear(),a=on(s,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=xo(a),u=on(s,0);u.setFullYear(n,0,4),u.setHours(0,0,0,0);const h=xo(u);return r.getTime()>=o.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function Xf(s){const r=qt(s);return r.setHours(0,0,0,0),r}function Zf(s){const r=qt(s),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+s-+n}function ww(s,r){const n=Xf(s),a=Xf(r),o=+n-Zf(n),u=+a-Zf(a);return Math.round((o-u)/yw)}function _w(s){const r=op(s),n=on(s,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),xo(n)}function jw(s){return s instanceof Date||typeof s=="object"&&Object.prototype.toString.call(s)==="[object Date]"}function kw(s){if(!jw(s)&&typeof s!="number")return!1;const r=qt(s);return!isNaN(Number(r))}function bw(s){const r=qt(s),n=on(s,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Sw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Nw=(s,r,n)=>{let a;const o=Sw[s];return typeof o=="string"?a=o:r===1?a=o.one:a=o.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Ou(s){return(r={})=>{const n=r.width?String(r.width):s.defaultWidth;return s.formats[n]||s.formats[s.defaultWidth]}}const Ew={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Cw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tw={date:Ou({formats:Ew,defaultWidth:"full"}),time:Ou({formats:Cw,defaultWidth:"full"}),dateTime:Ou({formats:Pw,defaultWidth:"full"})},Ow={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Rw=(s,r,n,a)=>Ow[s];function Pi(s){return(r,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&s.formattingValues){const h=s.defaultFormattingWidth||s.defaultWidth,m=n!=null&&n.width?String(n.width):h;o=s.formattingValues[m]||s.formattingValues[h]}else{const h=s.defaultWidth,m=n!=null&&n.width?String(n.width):s.defaultWidth;o=s.values[m]||s.values[h]}const u=s.argumentCallback?s.argumentCallback(r):r;return o[u]}}const Aw={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mw={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dw={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lw={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Iw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Uw={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fw=(s,r)=>{const n=Number(s),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$w={ordinalNumber:Fw,era:Pi({values:Aw,defaultWidth:"wide"}),quarter:Pi({values:Mw,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Pi({values:Dw,defaultWidth:"wide"}),day:Pi({values:Lw,defaultWidth:"wide"}),dayPeriod:Pi({values:Iw,defaultWidth:"wide",formattingValues:Uw,defaultFormattingWidth:"wide"})};function Ti(s){return(r,n={})=>{const a=n.width,o=a&&s.matchPatterns[a]||s.matchPatterns[s.defaultMatchWidth],u=r.match(o);if(!u)return null;const h=u[0],m=a&&s.parsePatterns[a]||s.parsePatterns[s.defaultParseWidth],p=Array.isArray(m)?Ww(m,y=>y.test(h)):zw(m,y=>y.test(h));let v;v=s.valueCallback?s.valueCallback(p):p,v=n.valueCallback?n.valueCallback(v):v;const x=r.slice(h.length);return{value:v,rest:x}}}function zw(s,r){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&r(s[n]))return n}function Ww(s,r){for(let n=0;n<s.length;n++)if(r(s[n]))return n}function Bw(s){return(r,n={})=>{const a=r.match(s.matchPattern);if(!a)return null;const o=a[0],u=r.match(s.parsePattern);if(!u)return null;let h=s.valueCallback?s.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=r.slice(o.length);return{value:h,rest:m}}}const qw=/^(\d+)(th|st|nd|rd)?/i,Hw=/\d+/i,Vw={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qw={any:[/^b/i,/^(a|c)/i]},Kw={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gw={any:[/1/i,/2/i,/3/i,/4/i]},Yw={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jw={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xw={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zw={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},e_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},t_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},r_={ordinalNumber:Bw({matchPattern:qw,parsePattern:Hw,valueCallback:s=>parseInt(s,10)}),era:Ti({matchPatterns:Vw,defaultMatchWidth:"wide",parsePatterns:Qw,defaultParseWidth:"any"}),quarter:Ti({matchPatterns:Kw,defaultMatchWidth:"wide",parsePatterns:Gw,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Ti({matchPatterns:Yw,defaultMatchWidth:"wide",parsePatterns:Jw,defaultParseWidth:"any"}),day:Ti({matchPatterns:Xw,defaultMatchWidth:"wide",parsePatterns:Zw,defaultParseWidth:"any"}),dayPeriod:Ti({matchPatterns:e_,defaultMatchWidth:"any",parsePatterns:t_,defaultParseWidth:"any"})},n_={code:"en-US",formatDistance:Nw,formatLong:Tw,formatRelative:Rw,localize:$w,match:r_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function s_(s){const r=qt(s);return ww(r,bw(r))+1}function i_(s){const r=qt(s),n=+xo(r)-+_w(r);return Math.round(n/sp)+1}function lp(s,r){var x,y,k,C;const n=qt(s),a=n.getFullYear(),o=No(),u=(r==null?void 0:r.firstWeekContainsDate)??((y=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(k=o.locale)==null?void 0:k.options)==null?void 0:C.firstWeekContainsDate)??1,h=on(s,0);h.setFullYear(a+1,0,u),h.setHours(0,0,0,0);const m=Ls(h,r),p=on(s,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const v=Ls(p,r);return n.getTime()>=m.getTime()?a+1:n.getTime()>=v.getTime()?a:a-1}function a_(s,r){var m,p,v,x;const n=No(),a=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??n.firstWeekContainsDate??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.firstWeekContainsDate)??1,o=lp(s,r),u=on(s,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),Ls(u,r)}function o_(s,r){const n=qt(s),a=+Ls(n,r)-+a_(n,r);return Math.round(a/sp)+1}function Ie(s,r){const n=s<0?"-":"",a=Math.abs(s).toString().padStart(r,"0");return n+a}const Gr={y(s,r){const n=s.getFullYear(),a=n>0?n:1-n;return Ie(r==="yy"?a%100:a,r.length)},M(s,r){const n=s.getMonth();return r==="M"?String(n+1):Ie(n+1,2)},d(s,r){return Ie(s.getDate(),r.length)},a(s,r){const n=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(s,r){return Ie(s.getHours()%12||12,r.length)},H(s,r){return Ie(s.getHours(),r.length)},m(s,r){return Ie(s.getMinutes(),r.length)},s(s,r){return Ie(s.getSeconds(),r.length)},S(s,r){const n=r.length,a=s.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return Ie(o,r.length)}},_s={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},em={G:function(s,r,n){const a=s.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(s,r,n){if(r==="yo"){const a=s.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Gr.y(s,r)},Y:function(s,r,n,a){const o=lp(s,a),u=o>0?o:1-o;if(r==="YY"){const h=u%100;return Ie(h,2)}return r==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ie(u,r.length)},R:function(s,r){const n=op(s);return Ie(n,r.length)},u:function(s,r){const n=s.getFullYear();return Ie(n,r.length)},Q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Ie(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(s,r,n){const a=Math.ceil((s.getMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Ie(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(s,r,n){const a=s.getMonth();switch(r){case"M":case"MM":return Gr.M(s,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(s,r,n){const a=s.getMonth();switch(r){case"L":return String(a+1);case"LL":return Ie(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(s,r,n,a){const o=o_(s,a);return r==="wo"?n.ordinalNumber(o,{unit:"week"}):Ie(o,r.length)},I:function(s,r,n){const a=i_(s);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Ie(a,r.length)},d:function(s,r,n){return r==="do"?n.ordinalNumber(s.getDate(),{unit:"date"}):Gr.d(s,r)},D:function(s,r,n){const a=s_(s);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ie(a,r.length)},E:function(s,r,n){const a=s.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(s,r,n,a){const o=s.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(u);case"ee":return Ie(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(s,r,n,a){const o=s.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(u);case"cc":return Ie(u,r.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(s,r,n){const a=s.getDay(),o=a===0?7:a;switch(r){case"i":return String(o);case"ii":return Ie(o,r.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(s,r,n){const o=s.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(s,r,n){const a=s.getHours();let o;switch(a===12?o=_s.noon:a===0?o=_s.midnight:o=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(s,r,n){const a=s.getHours();let o;switch(a>=17?o=_s.evening:a>=12?o=_s.afternoon:a>=4?o=_s.morning:o=_s.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(s,r,n){if(r==="ho"){let a=s.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Gr.h(s,r)},H:function(s,r,n){return r==="Ho"?n.ordinalNumber(s.getHours(),{unit:"hour"}):Gr.H(s,r)},K:function(s,r,n){const a=s.getHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ie(a,r.length)},k:function(s,r,n){let a=s.getHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ie(a,r.length)},m:function(s,r,n){return r==="mo"?n.ordinalNumber(s.getMinutes(),{unit:"minute"}):Gr.m(s,r)},s:function(s,r,n){return r==="so"?n.ordinalNumber(s.getSeconds(),{unit:"second"}):Gr.s(s,r)},S:function(s,r){return Gr.S(s,r)},X:function(s,r,n){const a=s.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return rm(a);case"XXXX":case"XX":return En(a);case"XXXXX":case"XXX":default:return En(a,":")}},x:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"x":return rm(a);case"xxxx":case"xx":return En(a);case"xxxxx":case"xxx":default:return En(a,":")}},O:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+tm(a,":");case"OOOO":default:return"GMT"+En(a,":")}},z:function(s,r,n){const a=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+tm(a,":");case"zzzz":default:return"GMT"+En(a,":")}},t:function(s,r,n){const a=Math.trunc(s.getTime()/1e3);return Ie(a,r.length)},T:function(s,r,n){const a=s.getTime();return Ie(a,r.length)}};function tm(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),o=Math.trunc(a/60),u=a%60;return u===0?n+String(o):n+String(o)+r+Ie(u,2)}function rm(s,r){return s%60===0?(s>0?"-":"+")+Ie(Math.abs(s)/60,2):En(s,r)}function En(s,r=""){const n=s>0?"-":"+",a=Math.abs(s),o=Ie(Math.trunc(a/60),2),u=Ie(a%60,2);return n+o+r+u}const nm=(s,r)=>{switch(s){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},up=(s,r)=>{switch(s){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},l_=(s,r)=>{const n=s.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return nm(s,r);let u;switch(a){case"P":u=r.dateTime({width:"short"});break;case"PP":u=r.dateTime({width:"medium"});break;case"PPP":u=r.dateTime({width:"long"});break;case"PPPP":default:u=r.dateTime({width:"full"});break}return u.replace("{{date}}",nm(a,r)).replace("{{time}}",up(o,r))},u_={p:up,P:l_},c_=/^D+$/,d_=/^Y+$/,h_=["D","DD","YY","YYYY"];function f_(s){return c_.test(s)}function m_(s){return d_.test(s)}function p_(s,r,n){const a=g_(s,r,n);if(console.warn(a),h_.includes(s))throw new RangeError(a)}function g_(s,r,n){const a=s[0]==="Y"?"years":"days of the month";return`Use \`${s.toLowerCase()}\` instead of \`${s}\` (in \`${r}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const v_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,x_=/^'([^]*?)'?$/,w_=/''/g,__=/[a-zA-Z]/;function Re(s,r,n){var x,y,k,C;const a=No(),o=a.locale??n_,u=a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,h=a.weekStartsOn??((C=(k=a.locale)==null?void 0:k.options)==null?void 0:C.weekStartsOn)??0,m=qt(s);if(!kw(m))throw new RangeError("Invalid time value");let p=r.match(y_).map(j=>{const P=j[0];if(P==="p"||P==="P"){const _=u_[P];return _(j,o.formatLong)}return j}).join("").match(v_).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const P=j[0];if(P==="'")return{isToken:!1,value:j_(j)};if(em[P])return{isToken:!0,value:j};if(P.match(__))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:j}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const v={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map(j=>{if(!j.isToken)return j.value;const P=j.value;(m_(P)||f_(P))&&p_(P,r,String(s));const _=em[P[0]];return _(m,P,o.localize,v)}).join("")}function j_(s){const r=s.match(x_);return r?r[1].replace(w_,"'"):s}function bt(s,r){const a=N_(s);let o;if(a.date){const p=E_(a.date,2);o=C_(p.restDateString,p.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const u=o.getTime();let h=0,m;if(a.time&&(h=P_(a.time),isNaN(h)))return new Date(NaN);if(a.timezone){if(m=T_(a.timezone),isNaN(m))return new Date(NaN)}else{const p=new Date(u+h),v=new Date(0);return v.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),v.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),v}return new Date(u+h+m)}const uo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},k_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,b_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,S_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function N_(s){const r={},n=s.split(uo.dateTimeDelimiter);let a;if(n.length>2)return r;if(/:/.test(n[0])?a=n[0]:(r.date=n[0],a=n[1],uo.timeZoneDelimiter.test(r.date)&&(r.date=s.split(uo.timeZoneDelimiter)[0],a=s.substr(r.date.length,s.length))),a){const o=uo.timezone.exec(a);o?(r.time=a.replace(o[1],""),r.timezone=o[1]):r.time=a}return r}function E_(s,r){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+r)+"})|(\\d{2}|[+-]\\d{"+(2+r)+"})$)"),a=s.match(n);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:s.slice((a[1]||a[2]).length)}}function C_(s,r){if(r===null)return new Date(NaN);const n=s.match(k_);if(!n)return new Date(NaN);const a=!!n[4],o=Oi(n[1]),u=Oi(n[2])-1,h=Oi(n[3]),m=Oi(n[4]),p=Oi(n[5])-1;if(a)return D_(r,m,p)?O_(r,m,p):new Date(NaN);{const v=new Date(0);return!A_(r,u,h)||!M_(r,o)?new Date(NaN):(v.setUTCFullYear(r,u,Math.max(o,h)),v)}}function Oi(s){return s?parseInt(s):1}function P_(s){const r=s.match(b_);if(!r)return NaN;const n=Ru(r[1]),a=Ru(r[2]),o=Ru(r[3]);return L_(n,a,o)?n*ap+a*ip+o*1e3:NaN}function Ru(s){return s&&parseFloat(s.replace(",","."))||0}function T_(s){if(s==="Z")return 0;const r=s.match(S_);if(!r)return 0;const n=r[1]==="+"?-1:1,a=parseInt(r[2]),o=r[3]&&parseInt(r[3])||0;return I_(a,o)?n*(a*ap+o*ip):NaN}function O_(s,r,n){const a=new Date(0);a.setUTCFullYear(s,0,4);const o=a.getUTCDay()||7,u=(r-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const R_=[31,null,31,30,31,30,31,31,30,31,30,31];function cp(s){return s%400===0||s%4===0&&s%100!==0}function A_(s,r,n){return r>=0&&r<=11&&n>=1&&n<=(R_[r]||(cp(s)?29:28))}function M_(s,r){return r>=1&&r<=(cp(s)?366:365)}function D_(s,r,n){return r>=1&&r<=53&&n>=0&&n<=6}function L_(s,r,n){return s===24?r===0&&n===0:n>=0&&n<60&&r>=0&&r<60&&s>=0&&s<25}function I_(s,r){return r>=0&&r<=59}function U_({isOpen:s,onClose:r,onSave:n,projects:a,date:o,editingProject:u,smartDefaults:h}){const[m,p]=R.useState({project_id:"",location:"remote",man_days:1,description:"",travel_chargeable:!1}),[v,x]=R.useState({});R.useEffect(()=>{p(u?{project_id:u.project_id,location:u.location,man_days:u.man_days,description:u.description||"",travel_chargeable:u.travel_chargeable}:{project_id:"",location:"remote",man_days:1,description:"",travel_chargeable:!1}),x({})},[u,s]);const y=(_,M)=>{p(G=>({...G,[_]:M})),v[_]&&x(G=>({...G,[_]:""}))},k=_=>{var G;const M=a.find(D=>D.id===_);if(M){const F=((G=h==null?void 0:h.projectDefaults)==null?void 0:G.get(_))||{location:M.billing_type==="fixed_price"?"remote":(h==null?void 0:h.lastLocation)||"onsite",travel_chargeable:M.travel_billable||!1,man_days:M.billing_type==="fixed_price"?1:.5};p(U=>({...U,project_id:_,location:F.location,travel_chargeable:F.travel_chargeable,man_days:F.man_days})),v.project_id&&x(U=>({...U,project_id:""}))}else y("project_id",_)},C=()=>{const _={};return m.project_id||(_.project_id="Please select a project"),m.man_days<=0&&(_.man_days="Man-days must be greater than 0"),x(_),Object.keys(_).length===0},j=()=>{C()&&n(m)},P=a.find(_=>_.id===m.project_id);return s?c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:u?"Edit Project Entry":"Add Project Entry"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Re(new Date(o),"EEEE, MMMM d, yyyy")})]}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:r,className:"min-h-[44px] min-w-[44px] flex items-center justify-center",children:c.jsx(So,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-6 space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx(ft,{label:"Project",value:m.project_id,onChange:_=>k(_.target.value),error:v.project_id,variant:"floating",options:[{value:"",label:"Select a project..."},...((h==null?void 0:h.recentProjects)||[]).slice(0,3).map(_=>{const M=a.find(G=>G.id===_);return M?{value:M.id,label:` ${M.name} (${M.code})`}:null}).filter(Boolean),...a.filter(_=>!((h==null?void 0:h.recentProjects)||[]).includes(_.id)).map(_=>({value:_.id,label:`${_.name} (${_.code})`}))]}),(h==null?void 0:h.recentProjects)&&h.recentProjects.length>0&&c.jsx("div",{className:"mt-3",children:c.jsxs("div",{className:"bg-muted/30 rounded-lg p-3",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Recently Used Projects"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:h.recentProjects.slice(0,3).map(_=>{const M=a.find(G=>G.id===_);return M?c.jsxs("button",{type:"button",onClick:()=>k(_),className:"px-3 py-1 text-sm bg-primary/10 text-primary rounded hover:bg-primary/20 transition-colors",children:[M.name," (",M.code,")"]},_):null})})]})}),P&&c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-muted/30 rounded-lg p-3",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Project Details"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Billing Type:"}),c.jsx("span",{className:"ml-2 font-medium capitalize",children:P.billing_type.replace("_"," ")})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Hourly Rate:"}),c.jsxs("span",{className:"ml-2 font-medium",children:["$",P.hourly_rate]})]}),P.budget_days>0&&c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Budget Days:"}),c.jsx("span",{className:"ml-2 font-medium",children:P.budget_days})]}),c.jsxs("div",{children:[c.jsx("span",{className:"text-muted-foreground",children:"Travel Billable:"}),c.jsx("span",{className:"ml-2 font-medium",children:P.travel_billable?"Yes":"No"})]})]})]})})]}),c.jsx(ft,{label:"Work Location",value:m.location,onChange:_=>y("location",_.target.value),variant:"floating",options:[{value:"remote",label:"Remote"},{value:"onsite",label:"On-site"}]}),c.jsx(Ue,{type:"number",label:"Man-days",value:m.man_days.toString(),onChange:_=>y("man_days",parseFloat(_.target.value)||0),error:v.man_days,variant:"floating",min:"0",step:"0.25"}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("textarea",{className:"modern-input w-full h-24 resize-none",placeholder:"Description of work performed...",value:m.description,onChange:_=>y("description",_.target.value)}),c.jsx("label",{className:"floating-label",children:"Description (Optional)"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"checkbox",id:"travel_chargeable",checked:m.travel_chargeable,onChange:_=>y("travel_chargeable",_.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-border rounded"}),c.jsx("label",{htmlFor:"travel_chargeable",className:"text-sm font-medium text-foreground",children:"Travel is chargeable for this project"})]}),(P==null?void 0:P.travel_billable)&&c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"This project allows billable travel expenses"})]})]})}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border",children:[c.jsx(ve,{variant:"ghost",onClick:r,className:"min-h-[44px]",children:"Cancel"}),c.jsx(ve,{variant:"primary",onClick:j,className:"min-h-[44px]",children:u?"Update Project":"Add Project"})]})]})}):null}function F_({isOpen:s,onClose:r,onSave:n,date:a,editingExpense:o,recentExpenseTypes:u=[]}){const[h,m]=R.useState({type:"car",distance_km:"",gross_amount:"",vat_percentage:"20",chargeable:!0,notes:""}),[p,v]=R.useState({});R.useEffect(()=>{var j;if(o)m({type:o.type,distance_km:((j=o.distance_km)==null?void 0:j.toString())||"",gross_amount:o.gross_amount.toString(),vat_percentage:o.vat_percentage.toString(),chargeable:o.chargeable,notes:o.notes||""});else{const P=u.length>0?u[0]:"car";m({type:P,distance_km:"",gross_amount:"",vat_percentage:"20",chargeable:!0,notes:""})}v({})},[o,s,u]);const x=(j,P)=>{m(_=>({..._,[j]:P})),p[j]&&v(_=>({..._,[j]:""}))},y=()=>{const j={};return(!h.gross_amount||parseFloat(h.gross_amount)<=0)&&(j.gross_amount="Please enter a valid amount"),(!h.vat_percentage||parseFloat(h.vat_percentage)<0)&&(j.vat_percentage="Please enter a valid VAT percentage"),(h.type==="car"||h.type==="taxi")&&h.distance_km&&parseFloat(h.distance_km)<=0&&(j.distance_km="Distance must be greater than 0"),v(j),Object.keys(j).length===0},k=()=>{if(y()){const j={type:h.type,gross_amount:parseFloat(h.gross_amount),vat_percentage:parseFloat(h.vat_percentage),chargeable:h.chargeable,distance_km:h.distance_km?parseFloat(h.distance_km):void 0,notes:h.notes||void 0};n(j)}},C=h.gross_amount?(parseFloat(h.gross_amount)/(1+parseFloat(h.vat_percentage||"0")/100)).toFixed(2):"0.00";return s?c.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-card rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:o?"Edit Expense Entry":"Add Expense Entry"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Re(new Date(a),"EEEE, MMMM d, yyyy")})]}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:r,className:"min-h-[44px] min-w-[44px] flex items-center justify-center",children:c.jsx(So,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"p-6 space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(ft,{label:"Expense Type",value:h.type,onChange:j=>x("type",j.target.value),variant:"floating",options:[{value:"car",label:"Car"},{value:"train",label:"Train"},{value:"flight",label:"Flight"},{value:"taxi",label:"Taxi"},{value:"hotel",label:"Hotel"},{value:"meal",label:"Meal"},{value:"other",label:"Other"}]}),u.length>0&&c.jsx("div",{className:"md:col-span-1",children:c.jsxs("div",{className:"bg-muted/30 rounded-lg p-3",children:[c.jsx("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Recent Types"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:u.slice(0,3).map(j=>c.jsx("button",{type:"button",onClick:()=>x("type",j),className:"px-2 py-1 text-xs bg-primary/10 text-primary rounded hover:bg-primary/20 transition-colors capitalize",children:j},j))})]})}),(h.type==="car"||h.type==="taxi")&&c.jsx(Ue,{type:"number",label:"Distance (km)",value:h.distance_km,onChange:j=>x("distance_km",j.target.value),error:p.distance_km,variant:"floating",min:"0",step:"0.1",placeholder:"Optional"}),c.jsx(Ue,{type:"number",label:"Gross Amount",value:h.gross_amount,onChange:j=>x("gross_amount",j.target.value),error:p.gross_amount,variant:"floating",min:"0",step:"0.01",placeholder:"0.00"}),c.jsx(Ue,{type:"number",label:"VAT Percentage",value:h.vat_percentage,onChange:j=>x("vat_percentage",j.target.value),error:p.vat_percentage,variant:"floating",min:"0",step:"0.1",placeholder:"20"}),h.gross_amount&&c.jsx("div",{className:"md:col-span-2",children:c.jsxs("div",{className:"bg-muted/30 rounded-lg p-4",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-muted-foreground",children:"Net Amount (excl. VAT):"}),c.jsxs("span",{className:"font-semibold text-foreground",children:["$",C]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm mt-1",children:[c.jsx("span",{className:"text-muted-foreground",children:"VAT Amount:"}),c.jsxs("span",{className:"text-muted-foreground",children:["$",(parseFloat(h.gross_amount)-parseFloat(C)).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm mt-2 pt-2 border-t border-border",children:[c.jsx("span",{className:"font-medium text-foreground",children:"Total (incl. VAT):"}),c.jsxs("span",{className:"font-bold text-primary",children:["$",parseFloat(h.gross_amount).toFixed(2)]})]})]})}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("textarea",{className:"modern-input w-full h-24 resize-none",placeholder:"Additional notes about this expense...",value:h.notes,onChange:j=>x("notes",j.target.value)}),c.jsx("label",{className:"floating-label",children:"Notes (Optional)"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"checkbox",id:"chargeable",checked:h.chargeable,onChange:j=>x("chargeable",j.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-border rounded"}),c.jsx("label",{htmlFor:"chargeable",className:"text-sm font-medium text-foreground",children:"This expense is chargeable to the client"})]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Check this if the expense should be billed to the client"})]})]})}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-border",children:[c.jsx(ve,{variant:"ghost",onClick:r,className:"min-h-[44px]",children:"Cancel"}),c.jsx(ve,{variant:"primary",onClick:k,className:"min-h-[44px]",children:o?"Update Expense":"Add Expense"})]})]})}):null}function $_(){var Ws,Un,Bs,Fn,Cr,pr;const{user:s,refreshSessionIfNeeded:r}=zs(),n=np(),[a,o]=R.useState(Ls(new Date,{weekStartsOn:1})),[u,h]=R.useState({week:null,dayEntries:{},projectEntries:{},costEntries:{}}),[m,p]=R.useState([]),[v,x]=R.useState(!1),[y,k]=R.useState(!1),[C,j]=R.useState({}),[P,_]=R.useState(!0),[M,G]=R.useState(!1),[D,F]=R.useState(!1),[U,J]=R.useState(""),[E,re]=R.useState(null),[W,I]=R.useState(null),[Y,fe]=R.useState({lastLocation:"remote",lastCity:"",lastCountry:"",recentProjects:[],recentExpenseTypes:[],projectDefaults:new Map}),[Ee,Pe]=R.useState(!1),Xe=Array.from({length:7},(Q,L)=>ws(a,L)),tt=Re(a,"yyyy-MM-dd"),ye=((Ws=u.week)==null?void 0:Ws.status)==="submitted"||((Un=u.week)==null?void 0:Un.status)==="approved"||((Bs=u.week)==null?void 0:Bs.status)==="rejected";R.useEffect(()=>{Z()},[]),R.useEffect(()=>{const Q=localStorage.getItem("timesheet-smart-defaults");if(Q)try{const L=JSON.parse(Q);fe($=>({...$,...L,projectDefaults:new Map(L.projectDefaults||[])}))}catch(L){console.warn("Failed to parse saved smart defaults:",L)}},[]),R.useEffect(()=>{const Q={...Y,projectDefaults:Array.from(Y.projectDefaults.entries())};localStorage.setItem("timesheet-smart-defaults",JSON.stringify(Q))},[Y]),R.useEffect(()=>{s&&oe()},[a,s]),R.useEffect(()=>{if(P&&!ye&&!v&&(Object.keys(u.dayEntries).length>0||Object.values(u.dayEntries).some(L=>L.time_in||L.time_out))){const L=setTimeout(()=>{ee()},3e3);return()=>clearTimeout(L)}},[u,P,ye,v]);const Z=async()=>{const{data:Q,error:L}=await he.from("projects").select(`
        *,
        clients!projects_client_id_fkey(
          name
        )
      `).eq("active",!0).order("name");L?console.error("Error loading projects:",L):p(Q||[])},oe=async()=>{if(s){x(!0);try{const{data:Q}=await he.from("weeks").select("*").eq("user_id",s.id).eq("week_start",tt).maybeSingle();let L=Q||{id:null,user_id:s.id,week_start:tt,status:"draft",submitted_at:null,approved_at:null,approved_by:null,rejection_reason:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};const $={},_e={},we={};if(Xe.forEach(X=>{const be=Re(X,"yyyy-MM-dd"),Nt=X.getDay()===0||X.getDay()===6;$[be]={id:"",week_id:L.id||"",date:be,time_in:null,time_out:null,status:Nt?"day_off":"active",allowance_amount:0,work_from:null,city:null,country:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},_e[be]=[],we[be]=[]}),L.id){const{data:X}=await he.from("day_entries").select("*").eq("week_id",L.id).order("date");if(X&&X.length>0)for(const be of X){$[be.date]=be;const{data:Nt}=await he.from("project_entries").select("*").eq("day_entry_id",be.id);_e[be.date]=Nt||[];const{data:sr}=await he.from("cost_entries").select("*").eq("day_entry_id",be.id);we[be.date]=sr||[]}}h({week:L,dayEntries:$,projectEntries:_e,costEntries:we});const Ze={};Object.keys($).forEach(X=>{const be=$[X];(be!=null&&be.time_in||be!=null&&be.time_out||(be==null?void 0:be.status)!=="active")&&(Ze[X]=!0)}),j(Ze)}catch(Q){console.error("Error loading week data:",Q)}finally{x(!1)}}},ee=async()=>{if(!(!s||ye||v)){k(!0);try{let Q=u.week;if(!Q){const{data:L,error:$}=await he.from("weeks").insert({user_id:s.id,week_start:tt,status:"draft"}).select().single();if($)throw $;Q=L,h(_e=>({..._e,week:Q}))}for(const[L,$]of Object.entries(u.dayEntries))if($.time_in||$.time_out||$.status!=="active"||$.work_from||$.city||$.country)if($.id){const{error:we}=await he.from("day_entries").update({time_in:$.time_in,time_out:$.time_out,status:$.status,allowance_amount:$.allowance_amount,work_from:$.work_from,city:$.city,country:$.country}).eq("id",$.id);if(we)throw we}else{const{data:we,error:Ze}=await he.from("day_entries").insert({week_id:Q.id,date:L,time_in:$.time_in,time_out:$.time_out,status:$.status||"active",allowance_amount:$.allowance_amount||0,work_from:$.work_from,city:$.city,country:$.country}).select().single();if(Ze)throw Ze;h(X=>({...X,dayEntries:{...X.dayEntries,[L]:we}}))}console.log("Timesheet saved successfully")}catch(Q){console.error("Error saving timesheet:",Q)}finally{k(!1)}}},N=(Q,L,$)=>{if(h(_e=>({..._e,dayEntries:{..._e.dayEntries,[Q]:{..._e.dayEntries[Q]||{id:"",week_id:"",date:Q,time_in:null,time_out:null,status:"active",allowance_amount:0,work_from:null,city:null,country:null,created_at:"",updated_at:""},[L]:$}}})),L==="city"&&$&&fe(_e=>({..._e,lastCity:$})),L==="country"&&$&&fe(_e=>({..._e,lastCountry:$})),L==="status"){const _e=we=>we.dayEntries[Q]||{};($==="day_off"||$==="vacation")&&h(we=>({...we,dayEntries:{...we.dayEntries,[Q]:{..._e(we),status:$,time_in:null,time_out:null,allowance_amount:0}}})),$==="travel"&&h(we=>({...we,dayEntries:{...we.dayEntries,[Q]:{..._e(we),status:$,allowance_amount:50}}}))}},B=Q=>{j(L=>({...L,[Q]:!L[Q]}))},pe=Q=>{o(L=>Q==="prev"?ws(L,-7):ws(L,7))},xe=Q=>{if(!ye){if(Q==="weekdays"&&Ln(),Q==="yesterday"){const L=ws(a,-1);Re(L,"yyyy-MM-dd"),Xe.slice(0,5).forEach($=>{const _e=Re($,"yyyy-MM-dd");Vi(_e)})}if(Q==="lastWeek"){const L=ws(a,-7);Xe.forEach(($,_e)=>{const we=Re($,"yyyy-MM-dd"),Ze=ws(L,_e);Re(Ze,"yyyy-MM-dd"),N(we,"time_in","08:00"),N(we,"time_out","18:00"),N(we,"status","active"),j(X=>({...X,[we]:!0}))}),setTimeout(()=>{ee()},500)}}},Se=(Q,L)=>{J(Q),re(L||null),G(!0)},Ne=(Q,L)=>{J(Q),I(L||null),F(!0)},Ae=()=>{G(!1),F(!1),J(""),re(null),I(null)},Me=async Q=>{if(!(!s||!U))try{if(E){const L=u.dayEntries[U];if(!(L!=null&&L.id))return;const{error:$}=await he.from("project_entries").update(Q).eq("id",E);if($)throw $}else{const{data:L,error:$}=await he.functions.invoke("create-project-entry",{body:{date:U,projectData:Q}});if($)throw console.error("Edge function error:",$),new Error("Failed to create project entry");if(!L.success)throw console.error("Project creation failed:",L.error),new Error(L.error||"Failed to create project entry")}fe(L=>({...L,lastLocation:Q.location,recentProjects:[Q.project_id,...L.recentProjects.filter($=>$!==Q.project_id)].slice(0,5),projectDefaults:new Map([...L.projectDefaults,[Q.project_id,{location:Q.location,man_days:Q.man_days,travel_chargeable:Q.travel_chargeable}]])})),await oe(),Ae()}catch(L){console.error("Error saving project entry:",L),alert("Failed to save project entry. Please try again.")}},Fe=async Q=>{if(!(!s||!U))try{if(W){const L=u.dayEntries[U];if(!(L!=null&&L.id))return;const $=Q.gross_amount/(1+Q.vat_percentage/100),_e={...Q,net_amount:$,distance_km:Q.distance_km||null,notes:Q.notes||null},{error:we}=await he.from("cost_entries").update(_e).eq("id",W);if(we)throw we}else{if(console.log("Refreshing session before creating cost entry..."),!await r())throw console.error("Session refresh failed"),new Error("Session expired. Please log in again.");const{data:{session:$}}=await he.auth.getSession();if(!($!=null&&$.access_token))throw new Error("No valid session token. Please log in again.");const{data:_e,error:we}=await he.functions.invoke("create-cost-entry",{body:{date:U,costData:Q},headers:{Authorization:`Bearer ${$.access_token}`}});if(we)throw console.error("Edge function error:",we),new Error("Failed to create cost entry");if(!_e.success)throw console.error("Cost entry creation failed:",_e.error),new Error(_e.error||"Failed to create cost entry")}fe(L=>({...L,recentExpenseTypes:[Q.type,...L.recentExpenseTypes.filter($=>$!==Q.type)].slice(0,4)})),await oe(),Ae()}catch(L){console.error("Error saving cost entry:",L),alert("Failed to save expense entry. Please try again.")}},xt=async Q=>{try{const{error:L}=await he.from("project_entries").delete().eq("id",Q);if(L)throw L;await oe()}catch(L){console.error("Error deleting project entry:",L)}},Dn=async Q=>{try{const{error:L}=await he.from("cost_entries").delete().eq("id",Q);if(L)throw L;await oe()}catch(L){console.error("Error deleting cost entry:",L)}},Vi=Q=>{const L=new Date(Q),$=new Date(L);$.setDate(L.getDate()-1);const _e=Re($,"yyyy-MM-dd"),we=u.dayEntries[_e];we&&(N(Q,"time_in",we.time_in),N(Q,"time_out",we.time_out),N(Q,"work_from",we.work_from),N(Q,"city",we.city),N(Q,"country",we.country),j(Ze=>({...Ze,[Q]:!0})))},Ln=()=>{Xe.slice(0,5).forEach(Q=>{const L=Re(Q,"yyyy-MM-dd");N(L,"time_in","08:00"),N(L,"time_out","18:00"),N(L,"status","active"),N(L,"work_from",Y.lastCity||"Office"),N(L,"city",Y.lastCity),N(L,"country",Y.lastCountry),j($=>({...$,[L]:!0}))}),setTimeout(()=>{ee()},500)},In=Q=>{const L=u.dayEntries[Q];return(L==null?void 0:L.status)==="day_off"||(L==null?void 0:L.status)==="vacation"},Qi=async()=>{if(u.week)try{await he.from("weeks").update({status:"submitted",submitted_at:new Date().toISOString()}).eq("id",u.week.id),oe()}catch(Q){console.error("Error submitting week:",Q)}};return c.jsx("div",{className:"space-y-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:ce("flex items-center justify-between mb-6 sm:mb-8",{"flex-col space-y-4":n,"flex-row":!n}),children:[c.jsxs("div",{className:ce("flex items-center",{"flex-col space-y-3":n,"space-x-6":!n}),children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>pe("prev"),className:"p-2 hover:bg-accent/50 min-h-[44px] min-w-[44px] flex items-center justify-center",children:c.jsx(ew,{className:"h-5 w-5"})}),c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:ce("font-bold text-foreground tracking-tight",{"text-2xl":n,"text-3xl":!n}),children:["Week of ",Re(a,"MMM d, yyyy")]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[Re(a,"yyyy"),"  Week ",Re(a,"w")]})]}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>pe("next"),className:"p-2 hover:bg-accent/50 min-h-[44px] min-w-[44px] flex items-center justify-center",children:c.jsx(tw,{className:"h-5 w-5"})})]}),u.week&&c.jsx("div",{className:ce("px-3 py-1.5 text-xs font-semibold rounded-full border-2",{"bg-muted/50 text-muted-foreground border-muted":u.week.status==="draft","bg-info/10 text-info border-info/20":u.week.status==="submitted","bg-success/10 text-success border-success/20":u.week.status==="approved","bg-destructive/10 text-destructive border-destructive/20":u.week.status==="rejected"}),children:u.week.status.charAt(0).toUpperCase()+u.week.status.slice(1)})]}),c.jsx("div",{className:ce("flex items-center",{"flex-col space-y-3 w-full":n,"space-x-3":!n}),children:!ye&&c.jsxs(c.Fragment,{children:[c.jsx(ve,{variant:"secondary",size:"sm",onClick:()=>xe("weekdays"),icon:c.jsx(zi,{className:"h-4 w-4"}),className:ce("shadow-sm",{"w-full":n}),children:"Mon-Fri 8-18"}),c.jsxs(ve,{variant:"outline",size:"sm",onClick:()=>Pe(!Ee),className:ce("shadow-sm",{"w-full":n}),children:[c.jsx(rw,{className:"h-4 w-4 mr-1"}),"Quick Fill"]}),Ee&&c.jsxs("div",{className:ce("flex",{"flex-col space-y-2 w-full":n,"space-x-2":!n}),children:[c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>xe("yesterday"),className:"text-xs",children:"Copy Yesterday"}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>xe("lastWeek"),className:"text-xs",children:"Copy Last Week"})]}),c.jsx(ve,{variant:"primary",onClick:ee,loading:y,disabled:ye||v,icon:c.jsx(Zm,{className:"h-4 w-4"}),className:ce("shadow-lg",{"w-full":n}),children:y?"Saving...":"Save"}),((Fn=u.week)==null?void 0:Fn.status)==="draft"&&c.jsx(ve,{variant:"success",onClick:Qi,className:ce("shadow-lg",{"w-full":n}),children:"Submit Week"})]})})]}),c.jsx("div",{className:"modern-card glass-card overflow-hidden",children:c.jsx("div",{className:"p-6",children:v?c.jsx("div",{className:"text-center py-12",children:c.jsxs("div",{className:"inline-flex items-center space-x-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),c.jsx("p",{className:"text-muted-foreground font-medium",children:"Loading timesheet..."})]})}):c.jsx("div",{className:"space-y-3",children:Xe.map(Q=>{const L=Re(Q,"yyyy-MM-dd"),$=u.dayEntries[L],_e=C[L],we=$&&($.time_in||$.time_out),Ze=Q.getDay()===0||Q.getDay()===6;return c.jsxs("div",{className:ce("border rounded-xl overflow-hidden transition-all duration-200",{"border-border bg-card":!Ze,"border-muted bg-muted/30":Ze,"shadow-md":_e,"hover:shadow-sm":!_e}),children:[c.jsx("div",{className:"p-4 cursor-pointer hover:bg-accent/30 transition-colors duration-200 active:bg-accent/50 interactive",onClick:()=>B(L),role:"button",tabIndex:0,onKeyDown:X=>{(X.key==="Enter"||X.key===" ")&&(X.preventDefault(),B(L))},children:c.jsxs("div",{className:ce("flex items-center",{"flex-col space-y-4":n,"justify-between":!n}),children:[c.jsxs("div",{className:ce("flex items-center",{"flex-col space-y-4 w-full":n,"space-x-6":!n}),children:[c.jsxs("div",{className:ce("flex-shrink-0",{"text-center":n,"w-24":!n}),children:[c.jsx("div",{className:ce("font-semibold text-lg",{"text-foreground":!Ze,"text-muted-foreground":Ze}),children:Re(Q,"EEE")}),c.jsx("div",{className:ce("text-sm",{"text-muted-foreground":!Ze,"text-muted-foreground/70":Ze}),children:Re(Q,"MMM d")})]}),c.jsx("div",{className:ce("flex items-center",{"flex-col space-y-3 w-full":n,"space-x-4":!n}),children:c.jsxs("div",{className:ce("flex items-center",{"flex-col space-y-2 w-full":n,"space-x-4":!n}),children:[c.jsxs("div",{className:ce("flex items-center",{"space-x-2 w-full justify-center":n,"space-x-4":!n}),children:[c.jsx(Ue,{type:"time",value:($==null?void 0:$.time_in)||"",onChange:X=>{N(L,"time_in",X.target.value),X.target.value&&!_e&&j(be=>({...be,[L]:!0}))},className:ce("premium-focus",{"flex-1":n,"w-28":!n}),disabled:ye||In(L),onClick:X=>X.stopPropagation(),label:n?"Start":void 0,variant:n?"floating":"default"}),c.jsx("span",{className:"text-muted-foreground font-medium text-sm",children:"to"}),c.jsx(Ue,{type:"time",value:($==null?void 0:$.time_out)||"",onChange:X=>{N(L,"time_out",X.target.value),X.target.value&&!_e&&j(be=>({...be,[L]:!0}))},className:ce("premium-focus",{"flex-1":n,"w-28":!n}),disabled:ye||In(L),onClick:X=>X.stopPropagation(),label:n?"End":void 0,variant:n?"floating":"default"})]}),c.jsx(ft,{value:($==null?void 0:$.status)||"active",onChange:X=>{N(L,"status",X.target.value),_e||j(be=>({...be,[L]:!0}))},className:ce("premium-focus",{"w-full":n,"w-36":!n}),disabled:ye,onClick:X=>X.stopPropagation(),options:[{value:"active",label:"Active"},{value:"day_off",label:"Day Off"},{value:"vacation",label:"Vacation"},{value:"travel",label:"Travel"}],label:n?"Status":void 0,variant:n?"floating":"default"})]})})]}),c.jsxs("div",{className:ce("flex items-center",{"justify-center space-x-4 mt-2":n,"space-x-4":!n}),children:[we&&c.jsxs("div",{className:"text-center",children:[c.jsx("span",{className:"text-sm font-semibold text-primary",children:($==null?void 0:$.time_in)&&($==null?void 0:$.time_out)&&(()=>{try{const X=$.time_in.includes(":")?$.time_in:"00:00",be=$.time_out.includes(":")?$.time_out:"00:00",Nt=new Date(`1970-01-01T${X}:00`),sr=new Date(`1970-01-01T${be}:00`);return isNaN(Nt.getTime())||isNaN(sr.getTime())?"0h":`${(Math.abs(sr.getTime()-Nt.getTime())/(1e3*60*60)).toFixed(1)}h`}catch(X){return console.error("Error calculating hours:",X),"0h"}})()}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"hours"})]}),c.jsx("div",{className:ce("transition-transform duration-200 min-h-[44px] min-w-[44px] flex items-center justify-center",{"rotate-180":_e}),children:c.jsx(Yu,{className:"h-5 w-5 text-muted-foreground"})})]})]})}),_e&&c.jsxs("div",{className:"border-t border-border/50 bg-card/50 p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(Ue,{label:"Work From",value:($==null?void 0:$.work_from)||"",onChange:X=>N(L,"work_from",X.target.value),placeholder:"e.g., Office, Home, Client Site",disabled:ye,variant:"floating"}),c.jsx(Ue,{label:"City",value:($==null?void 0:$.city)||"",onChange:X=>N(L,"city",X.target.value),placeholder:"Enter city",disabled:ye,variant:"floating"}),c.jsx(Ue,{label:"Country",value:($==null?void 0:$.country)||"",onChange:X=>N(L,"country",X.target.value),placeholder:"Enter country",disabled:ye,variant:"floating"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Project Work"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Track your project activities for this day"})]}),!ye&&c.jsxs(ve,{size:"sm",variant:"outline",className:"interactive",onClick:()=>Se(L),children:[c.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Add Project"]})]}),u.projectEntries[L]&&u.projectEntries[L].length>0?c.jsx("div",{className:"space-y-3",children:u.projectEntries[L].map(X=>{const be=m.find(Nt=>Nt.id===X.project_id);return c.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:"text-sm font-semibold text-foreground",children:(be==null?void 0:be.name)||"Unknown Project"}),c.jsx("span",{className:ce("px-2 py-1 text-xs rounded-full font-medium",{"bg-blue-100 text-blue-800":X.location==="remote","bg-orange-100 text-orange-800":X.location==="onsite"}),children:X.location==="remote"?"Remote":"On-site"}),X.travel_chargeable&&c.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium",children:"Travel Billable"})]}),c.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:c.jsxs("span",{className:"font-medium",children:[X.man_days," man-days"]})}),X.description&&c.jsx("p",{className:"text-sm text-muted-foreground",children:X.description})]}),!ye&&c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>Se(L,X.id),className:"text-muted-foreground hover:text-foreground",children:"Edit"}),c.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>xt(X.id),className:"text-muted-foreground hover:text-destructive",children:c.jsx(vo,{className:"h-4 w-4"})})]})]})},X.id)})}):c.jsx("div",{className:"bg-muted/30 rounded-lg p-6 text-center border border-dashed border-muted",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(Gu,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm font-medium mb-1",children:"No project entries yet"}),c.jsx("p",{className:"text-xs",children:'Click "Add Project" to start tracking your work'})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-foreground",children:"Travel & Expenses"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Log your business expenses for this day"})]}),!ye&&c.jsxs(ve,{size:"sm",variant:"outline",className:"interactive",onClick:()=>Ne(L),children:[c.jsx(Ds,{className:"h-4 w-4 mr-1"}),"Add Expense"]})]}),u.costEntries[L]&&u.costEntries[L].length>0?c.jsx("div",{className:"space-y-3",children:u.costEntries[L].map(X=>c.jsx("div",{className:"bg-card border border-border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("span",{className:ce("px-2 py-1 text-xs rounded-full font-medium capitalize",{"bg-blue-100 text-blue-800":X.type==="car"||X.type==="taxi","bg-purple-100 text-purple-800":X.type==="hotel","bg-green-100 text-green-800":X.type==="meal","bg-gray-100 text-gray-800":X.type==="other"}),children:X.type}),X.chargeable&&c.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800 font-medium",children:"Chargeable"})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-1",children:[c.jsxs("span",{className:"font-medium",children:["$",X.gross_amount.toFixed(2),c.jsxs("span",{className:"text-xs",children:["(incl. ",X.vat_percentage,"% VAT)"]})]}),X.distance_km&&c.jsxs("span",{children:[X.distance_km," km"]})]}),X.notes&&c.jsx("p",{className:"text-sm text-muted-foreground",children:X.notes})]}),!ye&&c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>Ne(L,X.id),className:"text-muted-foreground hover:text-foreground",children:"Edit"}),c.jsx(ve,{size:"sm",variant:"ghost",onClick:()=>Dn(X.id),className:"text-muted-foreground hover:text-destructive",children:c.jsx(vo,{className:"h-4 w-4"})})]})]})},X.id))}):c.jsx("div",{className:"bg-muted/30 rounded-lg p-6 text-center border border-dashed border-muted",children:c.jsxs("div",{className:"text-muted-foreground",children:[c.jsx(zi,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),c.jsx("p",{className:"text-sm font-medium mb-1",children:"No expenses recorded"}),c.jsx("p",{className:"text-xs",children:"Add travel costs, meals, or other business expenses"})]})})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-border/30",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Daily summary for ",Re(Q,"EEEE, MMMM d")]}),c.jsxs("div",{className:"text-sm font-semibold",children:[c.jsx("span",{className:"text-muted-foreground",children:"Daily Allowance: "}),c.jsx("span",{className:ce("font-bold",{"text-success":($==null?void 0:$.allowance_amount)&&$.allowance_amount>0,"text-muted-foreground":!($!=null&&$.allowance_amount)||$.allowance_amount===0}),children:$!=null&&$.allowance_amount?`$${$.allowance_amount.toFixed(2)}`:"$0.00"})]})]})]})]},L)})})})}),M&&c.jsx(U_,{isOpen:M,onClose:Ae,onSave:Me,projects:m,date:U,editingProject:E?(Cr=u.projectEntries[U])==null?void 0:Cr.find(Q=>Q.id===E):void 0,smartDefaults:Y}),D&&c.jsx(F_,{isOpen:D,onClose:Ae,onSave:Fe,date:U,editingExpense:W?(pr=u.costEntries[U])==null?void 0:pr.find(Q=>Q.id===W):void 0,recentExpenseTypes:Y.recentExpenseTypes})]})})}function z_(){var J;const{user:s}=zs(),[r,n]=R.useState([]),[a,o]=R.useState(!0),[u,h]=R.useState(""),[m,p]=R.useState("all"),[v,x]=R.useState("all"),[y,k]=R.useState(null),[C,j]=R.useState(!1),[P,_]=R.useState(null);R.useEffect(()=>{s&&M()},[s]);const M=async()=>{if(s){o(!0);try{const{data:E,error:re}=await he.from("weeks").select("*").eq("user_id",s.id).order("week_start",{ascending:!1});if(re)throw re;const W=await Promise.all((E||[]).map(async I=>{const{data:Y}=await he.from("day_entries").select("*").eq("week_id",I.id);let fe=0,Ee=0;return Y&&Y.forEach(Pe=>{if(Pe.time_in&&Pe.time_out){const Xe=new Date(`2000-01-01T${Pe.time_in}`),ye=(new Date(`2000-01-01T${Pe.time_out}`).getTime()-Xe.getTime())/(1e3*60*60);fe+=ye,Ee+=1}}),{...I,total_hours:fe,total_days:Ee}}));n(W)}catch(E){console.error("Error loading timesheet history:",E)}finally{o(!1)}}},G=async E=>{try{const{data:re}=await he.from("day_entries").select(`
          *,
          project_entries (*),
          cost_entries (*)
        `).eq("week_id",E.id).order("date");_(re),k(E),j(!0)}catch(re){console.error("Error loading week details:",re)}},D=E=>{switch(E){case"draft":return c.jsx(po,{className:"h-4 w-4"});case"submitted":return c.jsx(zi,{className:"h-4 w-4"});case"approved":return c.jsx(uc,{className:"h-4 w-4"});case"rejected":return c.jsx(go,{className:"h-4 w-4"});default:return c.jsx(po,{className:"h-4 w-4"})}},F=E=>{switch(E){case"draft":return"bg-muted/50 text-muted-foreground border-muted";case"submitted":return"bg-info/10 text-info border-info/20";case"approved":return"bg-success/10 text-success border-success/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground border-muted"}},U=r.filter(E=>{const re=Re(bt(E.week_start),"MMM d, yyyy").toLowerCase().includes(u.toLowerCase()),W=m==="all"||E.status===m;let I=!0;if(v!=="all"){const Y=bt(E.week_start),fe=new Date;switch(v){case"current_month":I=Y.getMonth()===fe.getMonth()&&Y.getFullYear()===fe.getFullYear();break;case"last_month":const Ee=new Date(fe.getFullYear(),fe.getMonth()-1);I=Y.getMonth()===Ee.getMonth()&&Y.getFullYear()===Ee.getFullYear();break;case"last_3_months":const Pe=new Date(fe.getFullYear(),fe.getMonth()-3);I=Y>=Pe;break}}return re&&W&&I});return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Timesheet History"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"View your submitted timesheets and their approval status"})]})}),c.jsx("div",{className:"modern-card glass-card p-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Ue,{placeholder:"Search by week...",value:u,onChange:E=>h(E.target.value),icon:c.jsx(bo,{className:"h-4 w-4"})}),c.jsx(ft,{value:m,onChange:E=>p(E.target.value),options:[{value:"all",label:"All Statuses"},{value:"draft",label:"Draft"},{value:"submitted",label:"Submitted"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}]}),c.jsx(ft,{value:v,onChange:E=>x(E.target.value),options:[{value:"all",label:"All Time"},{value:"current_month",label:"Current Month"},{value:"last_month",label:"Last Month"},{value:"last_3_months",label:"Last 3 Months"}]})]})}),c.jsx("div",{className:"modern-card glass-card overflow-hidden",children:a?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading timesheet history..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-accent/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Week"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Total Hours"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Days Worked"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Submitted"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Comments"}),c.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:U.map(E=>{var re;return c.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Yf,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:Re(bt(E.week_start),"MMM d, yyyy")}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Week ",Re(bt(E.week_start),"w")]})]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"font-medium text-foreground",children:[((re=E.total_hours)==null?void 0:re.toFixed(1))||"0"," hours"]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("span",{className:"text-foreground",children:[E.total_days||0," days"]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("span",{className:ce("flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border-2",F(E.status)),children:[D(E.status),c.jsx("span",{children:E.status.charAt(0).toUpperCase()+E.status.slice(1)})]})})}),c.jsx("td",{className:"px-6 py-4",children:E.submitted_at?c.jsxs("div",{children:[c.jsx("p",{className:"text-foreground",children:Re(bt(E.submitted_at),"MMM d, yyyy")}),c.jsx("p",{className:"text-sm text-muted-foreground",children:Re(bt(E.submitted_at),"h:mm a")})]}):c.jsx("span",{className:"text-muted-foreground",children:"Not submitted"})}),c.jsx("td",{className:"px-6 py-4",children:E.rejection_reason?c.jsx("div",{className:"max-w-xs",children:c.jsx("p",{className:"text-sm text-destructive truncate",title:E.rejection_reason,children:E.rejection_reason})}):c.jsx("span",{className:"text-muted-foreground text-sm",children:"No comments"})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>G(E),icon:c.jsx(nw,{className:"h-4 w-4"}),children:"View Details"})})]},E.id)})})]}),U.length===0&&c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(Yf,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:r.length===0?"No timesheets found":"No timesheets match the current filters"})]})]})}),C&&y&&P&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsx("div",{className:"modern-card glass-card w-full max-w-4xl max-h-[80vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold text-foreground",children:["Week of ",Re(bt(y.week_start),"MMM d, yyyy")]}),c.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[c.jsxs("span",{className:ce("flex items-center space-x-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border-2",F(y.status)),children:[D(y.status),c.jsx("span",{children:y.status.charAt(0).toUpperCase()+y.status.slice(1)})]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total: ",(J=y.total_hours)==null?void 0:J.toFixed(1)," hours"]})]})]}),c.jsx(ve,{variant:"ghost",onClick:()=>{j(!1),k(null),_(null)},className:"text-muted-foreground hover:text-foreground",children:""})]}),c.jsx("div",{className:"space-y-3",children:P.map(E=>{const re=bt(E.date),W=(()=>{if(!E.time_in||!E.time_out)return"0";try{const I=E.time_in.includes(":")?E.time_in:"00:00",Y=E.time_out.includes(":")?E.time_out:"00:00",fe=new Date(`2000-01-01T${I}:00`),Ee=new Date(`2000-01-01T${Y}:00`);if(isNaN(fe.getTime())||isNaN(Ee.getTime()))return"0";const Pe=(Ee.getTime()-fe.getTime())/(1e3*60*60);return Math.abs(Pe).toFixed(1)}catch(I){return console.error("Error calculating hours:",I),"0"}})();return c.jsx("div",{className:"border border-border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"w-20",children:[c.jsx("p",{className:"font-semibold text-foreground",children:Re(re,"EEE")}),c.jsx("p",{className:"text-sm text-muted-foreground",children:Re(re,"MMM d")})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("span",{className:"text-sm",children:[E.time_in||"--:--"," to ",E.time_out||"--:--"]}),c.jsxs("span",{className:"font-medium",children:[W," hours"]}),c.jsx("span",{className:ce("px-2 py-1 rounded text-xs",{"bg-success/10 text-success":E.status==="active","bg-info/10 text-info":E.status==="travel","bg-orange-100 text-orange-700":E.status==="vacation","bg-muted text-muted-foreground":E.status==="day_off"}),children:E.status.replace("_"," ").toUpperCase()})]})]}),(E.work_from||E.city||E.country)&&c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:E.work_from&&`Work from: ${E.work_from}`}),(E.city||E.country)&&c.jsx("p",{className:"text-sm text-muted-foreground",children:[E.city,E.country].filter(Boolean).join(", ")})]})]})},E.id)})}),y.rejection_reason&&c.jsxs("div",{className:"mt-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx("h4",{className:"font-semibold text-destructive mb-2",children:"Rejection Comments"}),c.jsx("p",{className:"text-sm text-destructive",children:y.rejection_reason})]})]})})})]})}function W_(){const[s,r]=R.useState([]),[n,a]=R.useState([]),[o,u]=R.useState(!0),[h,m]=R.useState(""),[p,v]=R.useState("all"),[x,y]=R.useState(!1),[k,C]=R.useState(null),[j,P]=R.useState({name:"",code:"",client_id:"",billing_type:"TNM",hourly_rate:"",budget:"",description:"",active:!0});R.useEffect(()=>{_(),M()},[]);const _=async()=>{u(!0);try{const{data:E,error:re}=await he.from("projects").select(`
          *,
          clients!projects_client_id_fkey(
            id,
            name
          )
        `).order("name");if(re)throw re;r(E||[])}catch(E){console.error("Error loading projects:",E)}finally{u(!1)}},M=async()=>{try{const{data:E,error:re}=await he.from("clients").select("*").eq("active",!0).order("name");if(re)throw re;a(E||[])}catch(E){console.error("Error loading clients:",E)}},G=async E=>{E.preventDefault();try{const re={name:j.name,code:j.code,client_id:j.client_id,billing_type:j.billing_type,hourly_rate:j.hourly_rate?parseFloat(j.hourly_rate):null,budget:j.budget?parseFloat(j.budget):null,description:j.description||null,active:j.active};if(k){const{error:W}=await he.from("projects").update(re).eq("id",k.id);if(W)throw W}else{const{error:W}=await he.from("projects").insert(re);if(W)throw W}U(),_()}catch(re){console.error("Error saving project:",re),alert(re.message||"Error saving project")}},D=E=>{var re,W;C(E),P({name:E.name,code:E.code,client_id:E.client_id||"",billing_type:E.billing_type||"time_and_material",hourly_rate:((re=E.hourly_rate)==null?void 0:re.toString())||"",budget:((W=E.budget_amount)==null?void 0:W.toString())||"",description:"",active:E.active}),y(!0)},F=async E=>{if(confirm(`Are you sure you want to delete project "${E.name}"?`))try{const{error:re}=await he.from("projects").delete().eq("id",E.id);if(re)throw re;_()}catch(re){console.error("Error deleting project:",re),alert(re.message||"Error deleting project")}},U=()=>{P({name:"",code:"",client_id:"",billing_type:"time_and_material",hourly_rate:"",budget:"",description:"",active:!0}),C(null),y(!1)},J=s.filter(E=>{const re=E.name.toLowerCase().includes(h.toLowerCase())||E.code.toLowerCase().includes(h.toLowerCase()),W=p==="all"||p==="active"&&E.active||p==="inactive"&&!E.active;return re&&W});return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Projects Management"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage project codes, billing types, and rates"})]}),c.jsx(ve,{onClick:()=>y(!0),icon:c.jsx(Ds,{className:"h-4 w-4"}),variant:"primary",className:"shadow-lg",children:"New Project"})]}),c.jsx("div",{className:"modern-card glass-card p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Ue,{placeholder:"Search projects...",value:h,onChange:E=>m(E.target.value),icon:c.jsx(bo,{className:"h-4 w-4"}),className:"max-w-sm"})}),c.jsx(ft,{value:p,onChange:E=>v(E.target.value),options:[{value:"all",label:"All Projects"},{value:"active",label:"Active Only"},{value:"inactive",label:"Inactive Only"}],className:"w-40"})]})}),c.jsx("div",{className:"modern-card glass-card overflow-hidden",children:o?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading projects..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-accent/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Project"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Code"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Client"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Billing"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Rate"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:J.map(E=>{var re;return c.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsx("div",{children:c.jsx("p",{className:"font-medium text-foreground",children:E.name})})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("code",{className:"bg-accent/50 px-2 py-1 rounded text-sm font-mono",children:E.code})}),c.jsx("td",{className:"px-6 py-4 text-foreground",children:((re=E.clients)==null?void 0:re.name)||"No Client"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:ce("px-2 py-1 rounded-full text-xs font-medium",{"bg-blue-100 text-blue-700":E.billing_type==="time_and_material","bg-green-100 text-green-700":E.billing_type==="fixed_price"}),children:E.billing_type==="time_and_material"?"Time & Material":"Fixed Price"})}),c.jsx("td",{className:"px-6 py-4 text-foreground",children:E.hourly_rate?`$${E.hourly_rate}/hr`:"Not set"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:ce("px-2 py-1 rounded-full text-xs font-medium",{"bg-success/10 text-success":E.active,"bg-muted text-muted-foreground":!E.active}),children:E.active?"Active":"Inactive"})}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>D(E),icon:c.jsx(cc,{className:"h-4 w-4"}),children:"Edit"}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>F(E),icon:c.jsx(vo,{className:"h-4 w-4"}),className:"text-destructive hover:text-destructive",children:"Delete"})]})})]},E.id)})})]}),J.length===0&&c.jsx("div",{className:"p-8 text-center",children:c.jsx("p",{className:"text-muted-foreground",children:"No projects found"})})]})}),x&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:k?"Edit Project":"Create New Project"}),c.jsxs("form",{onSubmit:G,className:"space-y-4",children:[c.jsx(Ue,{label:"Project Name",value:j.name,onChange:E=>P({...j,name:E.target.value}),required:!0}),c.jsx(Ue,{label:"Project Code",value:j.code,onChange:E=>P({...j,code:E.target.value}),required:!0,placeholder:" "}),c.jsx(ft,{label:"Client",value:j.client_id,onChange:E=>P({...j,client_id:E.target.value}),options:[{value:"",label:"Select Client"},...n.map(E=>({value:E.id,label:E.name}))]}),c.jsx(ft,{label:"Billing Type",value:j.billing_type,onChange:E=>P({...j,billing_type:E.target.value}),options:[{value:"time_and_material",label:"Time & Materials"},{value:"fixed_price",label:"Fixed Price"}]}),c.jsx(Ue,{label:"Hourly Rate",type:"number",step:"0.01",value:j.hourly_rate,onChange:E=>P({...j,hourly_rate:E.target.value}),placeholder:" "}),c.jsx(Ue,{label:"Budget",type:"number",step:"0.01",value:j.budget,onChange:E=>P({...j,budget:E.target.value}),placeholder:" "}),c.jsx(Ue,{label:"Description",value:j.description,onChange:E=>P({...j,description:E.target.value}),placeholder:" "}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:"active",checked:j.active,onChange:E=>P({...j,active:E.target.checked}),className:"rounded border-border"}),c.jsx("label",{htmlFor:"active",className:"text-sm text-foreground",children:"Active Project"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(ve,{type:"button",variant:"ghost",onClick:U,className:"flex-1",children:"Cancel"}),c.jsx(ve,{type:"submit",variant:"primary",className:"flex-1",children:k?"Update":"Create"})]})]})]})})]})}function B_(){const[s,r]=R.useState([]),[n,a]=R.useState(!0),[o,u]=R.useState(""),[h,m]=R.useState("submitted"),[p,v]=R.useState(!1),[x,y]=R.useState(null),[k,C]=R.useState("");R.useEffect(()=>{j()},[h]);const j=async()=>{a(!0);try{const U=he.from("weeks").select(`
          *,
          users!weeks_user_id_fkey(
            id,
            full_name,
            email
          )
        `).order("submitted_at",{ascending:!1});h!=="all"&&U.eq("status",h);const{data:J,error:E}=await U;if(E)throw E;r(J||[])}catch(U){console.error("Error loading weeks:",U)}finally{a(!1)}},P=async U=>{try{const{error:J}=await he.from("weeks").update({status:"approved",approved_at:new Date().toISOString(),rejection_reason:null}).eq("id",U.id);if(J)throw J;j()}catch(J){console.error("Error approving week:",J),alert("Error approving timesheet")}},_=async()=>{if(!x||!k.trim()){alert("Please provide a rejection reason");return}try{const{error:U}=await he.from("weeks").update({status:"rejected",rejection_reason:k.trim()}).eq("id",x.id);if(U)throw U;v(!1),y(null),C(""),j()}catch(U){console.error("Error rejecting week:",U),alert("Error rejecting timesheet")}},M=U=>{y(U),v(!0)},G=()=>{v(!1),y(null),C("")},D=s.filter(U=>{const J=o.toLowerCase();return U.users.full_name.toLowerCase().includes(J)||U.users.email.toLowerCase().includes(J)||Re(bt(U.week_start),"MMM d, yyyy").toLowerCase().includes(J)}),F=U=>{switch(U){case"submitted":return"bg-info/10 text-info border-info/20";case"approved":return"bg-success/10 text-success border-success/20";case"rejected":return"bg-destructive/10 text-destructive border-destructive/20";default:return"bg-muted text-muted-foreground border-muted"}};return c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"Timesheet Approvals"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Review and approve consultant timesheet submissions"})]})}),c.jsx("div",{className:"modern-card glass-card p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Ue,{placeholder:"Search by consultant name, email, or week...",value:o,onChange:U=>u(U.target.value),icon:c.jsx(bo,{className:"h-4 w-4"}),className:"max-w-sm"})}),c.jsx(ft,{value:h,onChange:U=>m(U.target.value),options:[{value:"submitted",label:"Pending Approval"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"all",label:"All Statuses"}],className:"w-40"})]})}),c.jsx("div",{className:"modern-card glass-card overflow-hidden",children:n?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading timesheets..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-accent/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Consultant"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Week"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Submitted"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Comments"}),c.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:D.map(U=>c.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:U.users.full_name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:U.users.email})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:Re(bt(U.week_start),"MMM d, yyyy")}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Week ",Re(bt(U.week_start),"w")]})]})}),c.jsx("td",{className:"px-6 py-4 text-foreground",children:U.submitted_at?c.jsxs("div",{children:[c.jsx("p",{children:Re(bt(U.submitted_at),"MMM d, yyyy")}),c.jsx("p",{className:"text-sm text-muted-foreground",children:Re(bt(U.submitted_at),"h:mm a")})]}):"Not submitted"}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:ce("px-3 py-1.5 rounded-full text-xs font-semibold border-2",F(U.status)),children:U.status.charAt(0).toUpperCase()+U.status.slice(1)})}),c.jsx("td",{className:"px-6 py-4",children:U.rejection_reason?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(uw,{className:"h-4 w-4 text-destructive"}),c.jsx("span",{className:"text-sm text-destructive",children:U.rejection_reason})]}):c.jsx("span",{className:"text-muted-foreground text-sm",children:"No comments"})}),c.jsxs("td",{className:"px-6 py-4 text-right",children:[U.status==="submitted"&&c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>P(U),icon:c.jsx(uc,{className:"h-4 w-4"}),className:"text-success hover:text-success hover:bg-success/10",children:"Approve"}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>M(U),icon:c.jsx(go,{className:"h-4 w-4"}),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:"Reject"})]}),U.status==="approved"&&U.approved_at&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Approved ",Re(bt(U.approved_at),"MMM d, yyyy")]})]})]},U.id))})]}),D.length===0&&c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(zi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:h==="submitted"?"No timesheets pending approval":"No timesheets found"})]})]})}),p&&x&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-foreground mb-4",children:"Reject Timesheet"}),c.jsxs("p",{className:"text-muted-foreground mb-4",children:["Rejecting timesheet for ",c.jsx("strong",{children:x.users.full_name})," - Week of ",Re(bt(x.week_start),"MMM d, yyyy")]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Rejection Reason *"}),c.jsx("textarea",{value:k,onChange:U=>C(U.target.value),placeholder:"Please provide a clear reason for rejection...",className:"w-full p-3 border border-border rounded-lg bg-background text-foreground placeholder-muted-foreground focus:ring-2 focus:ring-primary/20 focus:border-primary",rows:4,required:!0})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx(ve,{variant:"ghost",onClick:G,className:"flex-1",children:"Cancel"}),c.jsx(ve,{variant:"danger",onClick:_,disabled:!k.trim(),className:"flex-1",icon:c.jsx(go,{className:"h-4 w-4"}),children:"Reject"})]})]})]})})]})}function q_(){const[s,r]=R.useState([]),[n,a]=R.useState(!0),[o,u]=R.useState(""),[h,m]=R.useState("all"),[p,v]=R.useState(!1),[x,y]=R.useState(null),[k,C]=R.useState(!1),{success:j,error:P}=dc(),[_,M]=R.useState({email:"",full_name:"",role:"consultant",hourly_rate:"",country_code:"US",is_active:!0,password:""});R.useEffect(()=>{G()},[]);const G=async()=>{a(!0);try{const{data:W,error:I}=await he.from("users").select("*").order("full_name");if(I)throw I;r(W||[])}catch(W){console.error("Error loading users:",W)}finally{a(!1)}},D=async W=>{W.preventDefault(),C(!0);try{const I={email:_.email.trim(),full_name:_.full_name.trim(),role:_.role,hourly_rate:_.hourly_rate?parseFloat(_.hourly_rate):0,country_code:_.country_code,is_active:_.is_active};if(x){const{error:Y}=await he.from("users").update(I).eq("id",x.id);if(Y)throw Y;j("User updated successfully")}else{if(!_.password||_.password.length<8){P("Password must be at least 8 characters"),C(!1);return}const{error:Y,data:fe}=await he.auth.signUp({email:_.email,password:_.password,options:{data:{full_name:_.full_name,role:_.role}}});if(Y)throw Y;if(!fe.user)throw new Error("Failed to create user");const{error:Ee}=await he.from("users").insert({...I,id:fe.user.id});if(Ee)throw Ee;j("User created successfully")}J(),G()}catch(I){console.error("Error saving user:",I),I("Failed to save user",I.message)}finally{C(!1)}},F=W=>{var I;y(W),M({email:W.email,full_name:W.full_name,role:W.role,hourly_rate:((I=W.hourly_rate)==null?void 0:I.toString())||"",country_code:W.country_code||"US",is_active:W.is_active,password:""}),v(!0)},U=async W=>{const I=W.is_active?"deactivate":"activate";if(window.confirm(`Are you sure you want to ${I} ${W.full_name}?`))try{const{error:Y}=await he.from("users").update({is_active:!W.is_active}).eq("id",W.id);if(Y)throw Y;j(`User ${I}d successfully`),G()}catch(Y){console.error("Error updating user status:",Y),Y(`Failed to ${I} user`,Y.message)}},J=()=>{M({email:"",full_name:"",role:"consultant",hourly_rate:"",country_code:"US",is_active:!0,password:""}),y(null),v(!1)},E=s.filter(W=>{const I=W.full_name.toLowerCase().includes(o.toLowerCase())||W.email.toLowerCase().includes(o.toLowerCase()),Y=h==="all"||W.role===h;return I&&Y}),re=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"UK",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"AU",label:"Australia"},{value:"JP",label:"Japan"},{value:"IN",label:"India"}];return c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"User Management"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage consultant users and their permissions"})]}),c.jsx(ve,{onClick:()=>v(!0),icon:c.jsx(Ds,{className:"h-4 w-4"}),variant:"primary",className:"shadow-lg",children:"New User"})]}),c.jsx("div",{className:"modern-card glass-card p-6",children:c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"flex-1",children:c.jsx(Ue,{placeholder:"Search users...",value:o,onChange:W=>u(W.target.value),icon:c.jsx(bo,{className:"h-4 w-4"}),className:"max-w-sm"})}),c.jsx(ft,{value:h,onChange:W=>m(W.target.value),options:[{value:"all",label:"All Roles"},{value:"consultant",label:"Consultants Only"},{value:"super_admin",label:"Admins Only"}],className:"w-40"})]})}),c.jsx("div",{className:"modern-card glass-card overflow-hidden",children:n?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent mx-auto"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Loading users..."})]}):c.jsxs("div",{className:"overflow-x-auto",children:[c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-accent/50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"User"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Role"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Hourly Rate"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Country"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Status"}),c.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-foreground",children:"Created"}),c.jsx("th",{className:"px-6 py-4 text-right text-sm font-semibold text-foreground",children:"Actions"})]})}),c.jsx("tbody",{className:"divide-y divide-border",children:E.map(W=>c.jsxs("tr",{className:"hover:bg-accent/20 transition-colors",children:[c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 rounded-full bg-accent/20",children:c.jsx(yo,{className:"h-4 w-4 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:W.full_name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:W.email})]})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:ce("px-2 py-1 rounded-full text-xs font-medium",{"bg-purple-100 text-purple-700":W.role==="super_admin","bg-blue-100 text-blue-700":W.role==="consultant"}),children:W.role==="super_admin"?"Super Admin":"Consultant"})}),c.jsx("td",{className:"px-6 py-4",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-foreground",children:W.hourly_rate?`${W.hourly_rate}/hr`:"Not set"})]})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:"text-foreground",children:W.country_code})}),c.jsx("td",{className:"px-6 py-4",children:c.jsx("span",{className:ce("px-2 py-1 rounded-full text-xs font-medium",{"bg-success/10 text-success":W.is_active,"bg-muted text-muted-foreground":!W.is_active}),children:W.is_active?"Active":"Inactive"})}),c.jsx("td",{className:"px-6 py-4 text-muted-foreground text-sm",children:new Date(W.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 text-right",children:c.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>F(W),icon:c.jsx(cc,{className:"h-4 w-4"}),children:"Edit"}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>U(W),className:ce({"text-destructive hover:text-destructive":W.is_active,"text-success hover:text-success":!W.is_active}),children:W.is_active?"Deactivate":"Activate"})]})})]},W.id))})]}),E.length===0&&c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(yo,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"No users found"})]})]})}),p&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"modern-card glass-card w-full max-w-md p-6",children:[c.jsx("h2",{className:"text-xl font-bold text-foreground mb-6",children:x?"Edit User":"Create New User"}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsx(Ue,{label:"Full Name",value:_.full_name,onChange:W=>M({..._,full_name:W.target.value}),required:!0}),c.jsx(Ue,{label:"Email",type:"email",value:_.email,onChange:W=>M({..._,email:W.target.value}),required:!0,disabled:!!x}),c.jsx(ft,{label:"Role",value:_.role,onChange:W=>M({..._,role:W.target.value}),options:[{value:"consultant",label:"Consultant"},{value:"super_admin",label:"Super Admin"}]}),c.jsx(Ue,{label:"Hourly Rate",type:"number",step:"0.01",value:_.hourly_rate,onChange:W=>M({..._,hourly_rate:W.target.value}),placeholder:"0.00"}),c.jsx(ft,{label:"Country",value:_.country_code,onChange:W=>M({..._,country_code:W.target.value}),options:re}),!x&&c.jsx(Ue,{label:"Password",type:"password",value:_.password,onChange:W=>M({..._,password:W.target.value}),required:!x,placeholder:"Minimum 8 characters"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",id:"is_active",checked:_.is_active,onChange:W=>M({..._,is_active:W.target.checked}),className:"rounded border-border"}),c.jsx("label",{htmlFor:"is_active",className:"text-sm text-foreground",children:"Active User"})]}),c.jsxs("div",{className:"flex space-x-3 pt-4",children:[c.jsx(ve,{type:"button",variant:"ghost",onClick:J,className:"flex-1",children:"Cancel"}),c.jsx(ve,{type:"submit",variant:"primary",className:"flex-1",loading:k,children:x?"Update":"Create"})]})]})]})})]})}function H_(){const{success:s,error:r}=dc(),[n,a]=R.useState("allowances"),[o,u]=R.useState([]),[h,m]=R.useState([]),[p,v]=R.useState(!0),[x,y]=R.useState(!1),[k,C]=R.useState({country_code:"US",partial_rate:"",full_rate:"",effective_date:new Date().toISOString().split("T")[0]}),[j,P]=R.useState({project_type:"TNM",hourly_rate:""}),[_,M]=R.useState({default_vat_rate:"20",default_currency:"USD",week_start_day:"1",auto_submit_enabled:!1,notification_enabled:!0});R.useEffect(()=>{G(),D(),F()},[]);const G=async()=>{try{const{data:I,error:Y}=await he.from("allowance_rates").select("*").order("country_code",{ascending:!0}).order("effective_date",{ascending:!1});if(Y)throw Y;u(I||[])}catch(I){console.error("Error loading allowance rates:",I)}},D=async()=>{try{const{data:I,error:Y}=await he.from("default_rates").select("*").order("project_type",{ascending:!0});if(Y)throw Y;m(I||[])}catch(I){console.error("Error loading default rates:",I),I("Failed to load default rates",I.message)}},F=async()=>{try{const{data:I,error:Y}=await he.from("system_settings").select("*");if(Y)throw Y;if(I&&I.length>0){const fe=I.reduce((Ee,Pe)=>{const Xe=Pe.key.includes("enabled")?Pe.value==="true":Pe.value;return{...Ee,[Pe.key]:Xe}},{});M({default_vat_rate:fe.default_vat_rate||"20",default_currency:fe.default_currency||"USD",week_start_day:fe.week_start_day||"1",auto_submit_enabled:fe.auto_submit_enabled||!1,notification_enabled:fe.notification_enabled||!0})}}catch(I){console.error("Error loading general settings:",I),I("Failed to load settings",I.message)}finally{v(!1)}},U=async I=>{I.preventDefault(),y(!0);try{const{error:Y}=await he.from("allowance_rates").insert({country_code:k.country_code,partial_rate:parseFloat(k.partial_rate),full_rate:parseFloat(k.full_rate),effective_date:k.effective_date});if(Y)throw Y;s("Allowance rate added successfully"),C({country_code:"US",partial_rate:"",full_rate:"",effective_date:new Date().toISOString().split("T")[0]}),G()}catch(Y){console.error("Error saving allowance rate:",Y),Y("Failed to add allowance rate",Y.message)}finally{y(!1)}},J=async I=>{try{const{error:Y}=await he.from("allowance_rates").delete().eq("id",I);if(Y)throw Y;s("Allowance rate deleted successfully"),G()}catch(Y){console.error("Error deleting allowance rate:",Y),Y("Failed to delete allowance rate",Y.message)}},E=async()=>{y(!0);try{const Y=[{key:"default_vat_rate",value:_.default_vat_rate.toString()},{key:"default_currency",value:_.default_currency},{key:"week_start_day",value:_.week_start_day.toString()},{key:"auto_submit_enabled",value:_.auto_submit_enabled.toString()},{key:"notification_enabled",value:_.notification_enabled.toString()}].map(Pe=>he.from("system_settings").update({value:Pe.value}).eq("key",Pe.key)),Ee=(await Promise.all(Y)).filter(Pe=>Pe.error);if(Ee.length>0)throw new Error(`Failed to update ${Ee.length} settings`);s("Settings saved successfully")}catch(I){console.error("Error saving general settings:",I),I("Failed to save settings",I.message)}finally{y(!1)}},re=[{value:"US",label:"United States"},{value:"CA",label:"Canada"},{value:"UK",label:"United Kingdom"},{value:"DE",label:"Germany"},{value:"FR",label:"France"},{value:"AU",label:"Australia"},{value:"JP",label:"Japan"},{value:"IN",label:"India"}],W=[{id:"allowances",label:"Allowance Rates",icon:Xm},{id:"rates",label:"Default Rates",icon:cw},{id:"general",label:"General Settings",icon:ep}];return p?c.jsxs("div",{className:"flex items-center justify-center min-h-96",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"}),c.jsx("p",{className:"text-muted-foreground ml-3",children:"Loading settings..."})]}):c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground tracking-tight",children:"System Settings"}),c.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure rates, allowances, and system defaults"})]}),c.jsxs("div",{className:"modern-card glass-card",children:[c.jsx("div",{className:"border-b border-border",children:c.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:W.map(I=>{const Y=I.icon,fe=n===I.id;return c.jsxs("button",{onClick:()=>a(I.id),className:ce("flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors",{"border-primary text-primary":fe,"border-transparent text-muted-foreground hover:text-foreground hover:border-muted":!fe}),children:[c.jsx(Y,{className:"h-4 w-4"}),c.jsx("span",{children:I.label})]},I.id)})})}),c.jsxs("div",{className:"p-6",children:[n==="allowances"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add New Allowance Rate"}),c.jsxs("form",{onSubmit:U,className:"space-y-4",children:[c.jsx(ft,{label:"Country",value:k.country_code,onChange:I=>C({...k,country_code:I.target.value}),options:re}),c.jsx(Ue,{label:"Partial Rate (per day)",type:"number",step:"0.01",value:k.partial_rate,onChange:I=>C({...k,partial_rate:I.target.value}),required:!0,placeholder:"0.00"}),c.jsx(Ue,{label:"Full Rate (per day)",type:"number",step:"0.01",value:k.full_rate,onChange:I=>C({...k,full_rate:I.target.value}),required:!0,placeholder:"0.00"}),c.jsx(Ue,{label:"Effective Date",type:"date",value:k.effective_date,onChange:I=>C({...k,effective_date:I.target.value}),required:!0}),c.jsx(ve,{type:"submit",variant:"primary",loading:x,icon:c.jsx(Ds,{className:"h-4 w-4"}),className:"w-full",children:"Add Rate"})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Current Allowance Rates"}),c.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[o.map(I=>{var Y;return c.jsx("div",{className:"border border-border rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(sw,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium text-foreground",children:(Y=re.find(fe=>fe.value===I.country_code))==null?void 0:Y.label})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Partial: $",I.partial_rate,"  Full: $",I.full_rate]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Effective: ",new Date(I.effective_date).toLocaleDateString()]})]}),c.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>{window.confirm("Are you sure you want to delete this allowance rate?")&&J(I.id)},icon:c.jsx(vo,{className:"h-4 w-4"}),className:"text-destructive hover:text-destructive"})]})},I.id)}),o.length===0&&c.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No allowance rates configured"})]})]})]})}),n==="rates"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Default Hourly Rates"}),c.jsx("p",{className:"text-muted-foreground text-sm",children:"Set default hourly rates for different project types"}),c.jsx("div",{className:"space-y-4",children:h.map(I=>c.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-foreground",children:[I.project_type==="time_and_material"?"Time & Material":"Fixed Price"," Projects"]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",I.hourly_rate,"/hour"]})]}),c.jsx(ve,{variant:"ghost",size:"sm",icon:c.jsx(cc,{className:"h-4 w-4"}),onClick:()=>{P({project_type:I.project_type,hourly_rate:I.hourly_rate.toString()})},children:"Edit"})]},I.id))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Add Default Rate"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(ft,{label:"Project Type",value:j.project_type,onChange:I=>P({...j,project_type:I.target.value}),options:[{value:"TNM",label:"Time & Materials"},{value:"Fixed",label:"Fixed Price"}]}),c.jsx(Ue,{label:"Hourly Rate",type:"number",step:"0.01",value:j.hourly_rate,onChange:I=>P({...j,hourly_rate:I.target.value}),placeholder:"0.00"}),c.jsx(ve,{variant:"primary",icon:c.jsx(Ds,{className:"h-4 w-4"}),className:"w-full",onClick:async()=>{try{if(!j.hourly_rate){r("Please enter an hourly rate");return}y(!0);const{data:I,error:Y}=await he.from("default_rates").insert({project_type:j.project_type,hourly_rate:parseFloat(j.hourly_rate),description:`Default rate for ${j.project_type==="TNM"?"Time & Materials":"Fixed Price"} projects`}).select();if(Y)throw Y;s("Rate added successfully"),P({project_type:"TNM",hourly_rate:""}),D()}catch(I){console.error("Error adding rate:",I),I("Failed to add rate",I.message)}finally{y(!1)}},loading:x,children:"Add Rate"})]})]})]})}),n==="general"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"General Settings"}),c.jsx(Ue,{label:"Default VAT Rate (%)",type:"number",step:"0.01",value:_.default_vat_rate,onChange:I=>M({..._,default_vat_rate:I.target.value}),placeholder:"20.00"}),c.jsx(ft,{label:"Default Currency",value:_.default_currency,onChange:I=>M({..._,default_currency:I.target.value}),options:[{value:"USD",label:"US Dollar (USD)"},{value:"EUR",label:"Euro (EUR)"},{value:"GBP",label:"British Pound (GBP)"},{value:"CAD",label:"Canadian Dollar (CAD)"}]}),c.jsx(ft,{label:"Week Start Day",value:_.week_start_day,onChange:I=>M({..._,week_start_day:I.target.value}),options:[{value:"0",label:"Sunday"},{value:"1",label:"Monday"}]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"System Preferences"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:"Auto-submit Timesheets"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically submit completed weeks"})]}),c.jsx("input",{type:"checkbox",checked:_.auto_submit_enabled,onChange:I=>M({..._,auto_submit_enabled:I.target.checked}),className:"rounded border-border"})]}),c.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-foreground",children:"Email Notifications"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Send email notifications for approvals"})]}),c.jsx("input",{type:"checkbox",checked:_.notification_enabled,onChange:I=>M({..._,notification_enabled:I.target.checked}),className:"rounded border-border"})]})]}),c.jsx(ve,{variant:"primary",onClick:E,loading:x,icon:c.jsx(Zm,{className:"h-4 w-4"}),className:"w-full",children:"Save Settings"})]})]})})]})]})]})}const V_=new Wy;function js({children:s,requireAdmin:r=!1,requireConsultant:n=!1}){const{user:a,loading:o,isAdmin:u,isConsultant:h}=zs();return o?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?r&&!u?c.jsx(Zt,{to:"/consultant/timesheets",replace:!0}):n&&!h?c.jsx(Zt,{to:"/admin/projects",replace:!0}):c.jsx(gw,{children:s}):c.jsx(Zt,{to:"/login",replace:!0})}function Q_(){const{user:s,isAdmin:r,isConsultant:n}=zs();return c.jsxs(uy,{children:[c.jsx(cr,{path:"/login",element:s?r?c.jsx(Zt,{to:"/admin/projects",replace:!0}):c.jsx(Zt,{to:"/consultant/timesheets",replace:!0}):c.jsx(vw,{})}),c.jsx(cr,{path:"/consultant/timesheets",element:c.jsx(js,{requireConsultant:!0,children:c.jsx($_,{})})}),c.jsx(cr,{path:"/consultant/history",element:c.jsx(js,{requireConsultant:!0,children:c.jsx(z_,{})})}),c.jsx(cr,{path:"/admin/projects",element:c.jsx(js,{requireAdmin:!0,children:c.jsx(W_,{})})}),c.jsx(cr,{path:"/admin/approvals",element:c.jsx(js,{requireAdmin:!0,children:c.jsx(B_,{})})}),c.jsx(cr,{path:"/admin/users",element:c.jsx(js,{requireAdmin:!0,children:c.jsx(q_,{})})}),c.jsx(cr,{path:"/admin/settings",element:c.jsx(js,{requireAdmin:!0,children:c.jsx(H_,{})})}),c.jsx(cr,{path:"/",element:s?r?c.jsx(Zt,{to:"/admin/projects",replace:!0}):c.jsx(Zt,{to:"/consultant/timesheets",replace:!0}):c.jsx(Zt,{to:"/login",replace:!0})}),c.jsx(cr,{path:"*",element:s?r?c.jsx(Zt,{to:"/admin/projects",replace:!0}):c.jsx(Zt,{to:"/consultant/timesheets",replace:!0}):c.jsx(Zt,{to:"/login",replace:!0})})]})}function K_(){return c.jsx(qy,{client:V_,children:c.jsx(Jx,{children:c.jsx(fw,{children:c.jsx(gy,{children:c.jsx(Q_,{})})})})})}gv.createRoot(document.getElementById("root")).render(c.jsx(R.StrictMode,{children:c.jsx(yv,{children:c.jsx(K_,{})})}));
